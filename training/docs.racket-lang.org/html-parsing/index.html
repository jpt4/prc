<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>html-parsing: Permissive Parsing of HTML to SXML</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">html-<wbr></wbr>parsing:<span class="mywbr"> &nbsp;</span> Permissive Parsing of HTML to SXML</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Interface%29" class="tocviewlink" data-pltdoc="x">Interface</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.History%29" class="tocviewlink" data-pltdoc="x">History</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Legal%29" class="tocviewlink" data-pltdoc="x">Legal</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">html-<wbr></wbr>parsing:<span class="mywbr"> &nbsp;</span> Permissive Parsing of HTML to SXML</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Interface%29" class="tocsubseclink" data-pltdoc="x">Interface</a></td></tr><tr><td><a href="#%28def._%28%28lib._html-parsing%2Fmain..rkt%29._html-~3exexp%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">html-<wbr></wbr>&gt;xexp</span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.History%29" class="tocsubseclink" data-pltdoc="x">History</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Legal%29" class="tocsubseclink" data-pltdoc="x">Legal</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6:0</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;html-parsing/html-parsing.scrbl&quot;)" x-source-pkg="html-parsing" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._html-parsing__.Permissive_.Parsing_of_.H.T.M.L_to_.S.X.M.L)"></a><a name="(mod-path._html-parsing)"></a>html-parsing: Permissive Parsing of HTML to SXML</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Neil Van Dyke</p></span></div><p><div class="SIntrapara"></div><div class="SIntrapara">License: <a href="#%28part._.Legal%29" class="plainlink" data-pltdoc="x">LGPLv3</a> <span class="hspace">&nbsp;</span> Web: <a href="http://www.neilvandyke.org/racket/html-parsing/" class="plainlink">http://www.neilvandyke.org/racket/html-parsing/</a>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">html-parsing</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/html-parsing" title="Install this package using `raco pkg install html-parsing`"><span class="stt">html-parsing</span></a></span></td></tr></table></div></p><h3 x-source-module="(lib &quot;html-parsing/html-parsing.scrbl&quot;)" x-source-pkg="html-parsing" x-part-tag="&quot;Introduction&quot;">1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p><div class="SIntrapara">The <span class="RktSym">html-parsing</span><span class="RktMeta"></span> library provides a permissive HTML parser.  The parser is useful
for software agent extraction of information from Web pages, for
programmatically transforming HTML files, and for implementing interactive Web
browsers.  <span class="RktSym">html-parsing</span><span class="RktMeta"></span> emits <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._sxml-intro%2Fsxml-intro..scrbl%29.%27._.%27top.%27%29%29&amp;version=7.4" class="Sq" data-pltdoc="x">SXML/xexp</a>, so that conventional HTML may be processed with XML tools such as
SXPath.  Like Oleg Kiselyov&rsquo;s <a href="https://pobox.com/~oleg/ftp/Scheme/xml.html#HTML-parser">SSAX-based HTML parser</a>, <span class="RktSym">html-parsing</span><span class="RktMeta"></span> provides a permissive tokenizer, but <span class="RktSym">html-parsing</span><span class="RktMeta"></span> extends this by attempting to recover syntactic structure.</div><div class="SIntrapara">The <span class="RktSym">html-parsing</span><span class="RktMeta"></span> parsing behavior is permissive in that it accepts erroneous HTML,
handling several classes of HTML syntax errors gracefully, without yielding a
parse error.  This is crucial for parsing arbitrary real-world Web pages, since
many pages actually contain syntax errors that would defeat a strict or
validating parser.  <span class="RktSym">html-parsing</span><span class="RktMeta"></span>&rsquo;s handling of errors is intended to generally emulate popular Web
browsers&rsquo; interpretation of the structure of erroneous HTML.</div><div class="SIntrapara"><span class="RktSym">html-parsing</span><span class="RktMeta"></span> also has some support for XHTML, although XML namespace qualifiers
are accepted but stripped from the resulting SXML/xexp.  Note that <span style="font-style: italic">valid</span> XHTML input might be better handled by a validating XML parser
like Kiselyov&rsquo;s SSAX.</div></p><h3 x-source-module="(lib &quot;html-parsing/html-parsing.scrbl&quot;)" x-source-pkg="html-parsing" x-part-tag="&quot;Interface&quot;">2<tt>&nbsp;</tt><a name="(part._.Interface)"></a>Interface</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._html-parsing/main..rkt)._html-~3exexp))"></a><span title="Provided from: html-parsing | Package: html-parsing"><span class="RktSym"><span class="RktSymDef RktSym">html-&gt;xexp</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">input</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">xexp</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">input</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">input-port?</span><span class="hspace">&nbsp;</span><span class="RktSym">string?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Parse HTML permissively from <span class="RktVar">input</span>, which is either an input port or a string, and emit an
SXML/xexp equivalent or approximation.  To borrow and slightly modify an
example from Kiselyov&rsquo;s discussion of his HTML parser:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">html-&gt;xexp</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-append</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;title&gt;whatever&lt;/title&gt;&lt;/head&gt;"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"&lt;body&gt; &lt;a href=\"url\"&gt;link&lt;/a&gt;&lt;p align=center&gt;"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"&lt;ul compact style=\"aa\"&gt; &lt;p&gt;BLah&lt;!-- comment &lt;comment&gt; --&gt;"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">" &lt;i&gt; italic &lt;b&gt; bold &lt;tt&gt; ened&lt;/i&gt; still &amp;lt; bold &lt;/b&gt;"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"&lt;/body&gt;&lt;P&gt; But not done yet..."</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">*TOP*</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">html</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">head</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">title</span><span class="RktRes">)</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">title</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"whatever"</span><span class="RktRes">)</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">body</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"\n"</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">a</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">@</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">href</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"url"</span><span class="RktRes">)</span><span class="RktRes">)</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"link"</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">p</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">@</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">align</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"center"</span><span class="RktRes">)</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">ul</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">@</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">compact</span><span class="RktRes">)</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">style</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"aa"</span><span class="RktRes">)</span><span class="RktRes">)</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"\n"</span><span class="RktRes">)</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">p</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">"BLah"</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">*COMMENT*</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">" comment &lt;comment&gt; "</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">" "</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">i</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">" italic "</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">b</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">" bold "</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">tt</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">" ened"</span><span class="RktRes">)</span><span class="RktRes">)</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">"\n"</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">"still &lt; bold "</span><span class="RktRes">)</span><span class="RktRes">)</span></td></tr><tr><td><span class="RktRes"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktRes"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="RktRes">(</span><span class="RktRes">p</span><span class="RktRes"><span class="hspace">&nbsp;</span></span><span class="RktRes">" But not done yet..."</span><span class="RktRes">)</span><span class="RktRes">)</span><span class="RktRes">)</span></td></tr></table></div><div class="SIntrapara">Note that, in the emitted SXML/xexp, the text token <span class="RktVal">"still &lt; bold"</span> is <span style="font-style: italic">not</span> inside the <span class="stt">b</span> element.  This is one old Web browser quirk-handling of invalid
HTML that this parser does not try to emulate.</div></p><h3 x-source-module="(lib &quot;html-parsing/html-parsing.scrbl&quot;)" x-source-pkg="html-parsing" x-part-tag="&quot;History&quot;">3<tt>&nbsp;</tt><a name="(part._.History)"></a>History</h3><ul><li><p><div class="SIntrapara">Version 6:0 &#8212;<wbr></wbr> 2018-05-22</div><div class="SIntrapara"><ul><li><p>Fix to permit <span class="RktSym">p</span><span class="RktMeta"></span> elements as children of <span class="RktSym">blockquote</span><span class="RktMeta"></span> elements.  Incrementing major version number because
this is a breaking change of 17 years, but seems an appropriate change for
modern HTML, and fixes a particular real-world problem.  (Thanks to
Sorawee Porncharoenwase for reporting.)</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 5:0 &#8212;<wbr></wbr> 2018-05-15</div><div class="SIntrapara"><ul><li><p>In a breaking change of handing invalid HTML, most named
character entity references that are invalid because (possibly among multiple
reasons) they are not terminated by semicolon, now are treated as literal
strings (including the ampersand), rather than as named character entites.  For
example, parser input string <span class="RktVal">"&lt;p&gt;A&amp;B Co.&lt;p&gt;"</span> will now parse as <span class="RktPn">(</span><span class="RktSym">p</span><span class="stt"> </span><span class="RktVal">"A&amp;B Co."</span><span class="RktPn">)</span> rather than as <span class="RktPn">(</span><span class="RktSym">p</span><span class="stt"> </span><span class="RktVal">"A"</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">&amp;</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">" Co."</span><span class="RktPn">)</span>.  (Thanks for Greg Hendershott for suggesting this, and discussing.)</p></li><li><p>For support of historical quirks handling, five early
HTML named character entities (specifically, <span class="stt">amp</span>, <span class="stt">apos</span>, <span class="stt">lt</span>, <span class="stt">gt</span>, <span class="stt">quot</span>) do not need to be terminated with a semicolon, and
will even be recognized if followed immediately by an alphabetic.  For
example, <span class="RktVal">"&lt;p&gt;a&amp;ltz&lt;/p&gt;"</span> will now parse as <span class="RktPn">(</span><span class="RktSym">p</span><span class="stt"> </span><span class="RktVal">"a&lt;z"</span><span class="RktPn">)</span>, rather than as <span class="RktPn">(</span><span class="RktSym">p</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">&amp;</span><span class="stt"> </span><span class="RktSym">ltz</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p></li><li><p>Invalid character entity references that are terminated
by EOF rather than semicolon may now be parsed as literal strings, rather than
as entity references.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 4:3 &#8212;<wbr></wbr> 2016-12-15</div><div class="SIntrapara"><ul><li><p>Error message &ldquo;<span class="RktSym">%html-parsing:parse-html:</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">invalid</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">input</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">type:</span><span class="RktMeta"></span>&rdquo; now abbreviates the invalid value, to avoid possibly
huge messages.  (Thanks to John B. Clements.)</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 4:2 &#8212;<wbr></wbr> 2016-03-02</div><div class="SIntrapara"><ul><li><p>Tweaked info.rkt, filenames.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 4:1 &#8212;<wbr></wbr> 2016-02-25</div><div class="SIntrapara"><ul><li><p>Updated deps.</p></li><li><p>Documentation tweaks.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 4:0 &#8212;<wbr></wbr> 2016-02-21</div><div class="SIntrapara"><ul><li><p>Moving from PLaneT to new package system.</p></li><li><p>Moved unit tests into main source file.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 3:0 &#8212;<wbr></wbr> 2015-04-24</div><div class="SIntrapara"><ul><li><p>Numeric character entities now parse to Racket strings
instead of Racket characters, to bring SXML/xexp back closer to SXML.  (Thanks
to John Clements for reporting.)</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 2:0 &#8212;<wbr></wbr> 2012-06-13</div><div class="SIntrapara"><ul><li><p>Converted to McFly.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 0.3 &#8212;<wbr></wbr> Version 1:2 &#8212;<wbr></wbr> 2011-08-27</div><div class="SIntrapara"><ul><li><p>Converted test suite from Testeez to Overeasy.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 0.2 &#8212;<wbr></wbr> Version 1:1 &#8212;<wbr></wbr> 2011-08-27</div><div class="SIntrapara"><ul><li><p>Fixed embarrassing bug due to code tidying.  (Thanks to
Danny Yoo for reporting.)</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 0.1 &#8212;<wbr></wbr> Version 1:0 &#8212;<wbr></wbr> 2011-08-21</div><div class="SIntrapara"><ul><li><p>Part of forked development from HtmlPrag, parser
originally written 2001-04.</p></li></ul></div></p></li></ul><h3 x-source-module="(lib &quot;html-parsing/html-parsing.scrbl&quot;)" x-source-pkg="html-parsing" x-part-tag="&quot;Legal&quot;">4<tt>&nbsp;</tt><a name="(part._.Legal)"></a>Legal</h3><p>Copyright 2003&ndash;2012, 2015, 2016, 2018 Neil Van Dyke.  This program is Free
Software; you can redistribute it and/or modify it under the terms of the GNU
Lesser General Public License as published by the Free Software Foundation;
either version 3 of the License, or (at your option) any later version.  This
program is distributed in the hope that it will be useful, but without any
warranty; without even the implied warranty of merchantability or fitness for a
particular purpose.  See http://www.gnu.org/licenses/ for details.  For other
licenses and consulting, please contact the author.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>