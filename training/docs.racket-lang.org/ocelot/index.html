<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Ocelot: a solver for relational logic</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Ocelot:<span class="mywbr"> &nbsp;</span> a solver for relational logic</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Quick_.Start%29" class="tocviewlink" data-pltdoc="x">Quick Start</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Reference%29" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Ocelot:<span class="mywbr"> &nbsp;</span> a solver for relational logic</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Quick_.Start%29" class="tocsubseclink" data-pltdoc="x">Quick Start</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._spec%29" class="tocsubseclink" data-pltdoc="x">Constructing relational specifications</a></td></tr><tr><td><span class="tocsublinknumber">1.1.1<tt>&nbsp;</tt></span><a href="#%28part._.Universe_of_discourse%29" class="tocsubseclink" data-pltdoc="x">Universe of discourse</a></td></tr><tr><td><span class="tocsublinknumber">1.1.2<tt>&nbsp;</tt></span><a href="#%28part._.Relation_declarations%29" class="tocsubseclink" data-pltdoc="x">Relation declarations</a></td></tr><tr><td><span class="tocsublinknumber">1.1.3<tt>&nbsp;</tt></span><a href="#%28part._.Constraints_over_relations%29" class="tocsubseclink" data-pltdoc="x">Constraints over relations</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._scope%29" class="tocsubseclink" data-pltdoc="x">Defining bounds on relations</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._check%29" class="tocsubseclink" data-pltdoc="x">Checking Relational Specifications</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Reference%29" class="tocsubseclink" data-pltdoc="x">Reference</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Declaring_.Relations%29" class="tocsubseclink" data-pltdoc="x">Declaring Relations</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">declare-<wbr></wbr>relation</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Relational_.Logic%29" class="tocsubseclink" data-pltdoc="x">Relational Logic</a></td></tr><tr><td><span class="tocsublinknumber">2.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Expressions%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2B%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">+</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~26%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">&amp;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-<wbr></wbr>&gt;</span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~7e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">~</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._join%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">join</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3c~3a%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">&lt;:</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3a~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">:<span class="mywbr"> &nbsp;</span>&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._none%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">none</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._univ%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">univ</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._iden%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">iden</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~5e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">^</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">*</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._set%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">set</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Formulas%29" class="tocsubseclink" data-pltdoc="x">Formulas</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._in%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">in</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3d%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._and%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">and</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._or%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">or</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3d~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._not%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">not</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Quantifiers_and_.Multiplicities%29" class="tocsubseclink" data-pltdoc="x">Quantifiers and Multiplicities</a></td></tr><tr><td><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">all</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._some%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">some</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._no%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">no</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._one%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">one</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._lone%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lone</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Scopes%29" class="tocsubseclink" data-pltdoc="x">Scopes</a></td></tr><tr><td><span class="tocsublinknumber">2.3.1<tt>&nbsp;</tt></span><a href="#%28part._.Universes%29" class="tocsubseclink" data-pltdoc="x">Universes</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">universe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe-atoms%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">universe-<wbr></wbr>atoms</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3.2<tt>&nbsp;</tt></span><a href="#%28part._.Bounds%29" class="tocsubseclink" data-pltdoc="x">Bounds</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-bound%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>bound</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-exact-bound%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>exact-<wbr></wbr>bound</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-upper-bound%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>upper-<wbr></wbr>bound</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-product-bound%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>product-<wbr></wbr>bound</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bounds</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">bounds?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Solving%29" class="tocsubseclink" data-pltdoc="x">Solving</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">interpret</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">interpret*</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Interpretations%29" class="tocsubseclink" data-pltdoc="x">Interpretations</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._instantiate-bounds%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">instantiate-<wbr></wbr>bounds</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpretation-~3erelations%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">interpretation-<wbr></wbr>&gt;relations</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._sketch%29" class="tocsubseclink" data-pltdoc="x">Sketching and Synthesis</a></td></tr><tr><td><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._expression-sketch%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">expression-<wbr></wbr>sketch</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Ocelot__a_solver_for_relational_logic)"></a><a name="(mod-path._ocelot)"></a>Ocelot: a solver for relational logic</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">James Bornholt &lt;<a href="mailto:bornholt@cs.washington.edu">bornholt@cs.washington.edu</a>&gt;</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">ocelot</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/ocelot" title="Install this package using `raco pkg install ocelot`"><span class="stt">ocelot</span></a></span></td></tr></table></p><p>Ocelot provides an embedding of bounded relational logic in
<a href="https://emina.github.io/rosette">Rosette</a>,
a solver-aided programming language.
Ocelot enables both <a href="#%28part._check%29" data-pltdoc="x">verification</a>
and <a href="#%28part._sketch%29" data-pltdoc="x">synthesis</a> of relational logic expressions.</p><p>Ocelot&rsquo;s flavor of bounded relational logic draws heavily on
<a href="http://alloy.mit.edu/">Alloy</a>,
so many concepts and examples from Alloy will also help
in developing Ocelot programs.</p><h3 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Quick_Start&quot;">1<tt>&nbsp;</tt><a name="(part._.Quick_.Start)"></a>Quick Start</h3><p>Ocelot is best used with <a href="https://emina.github.io/rosette">Rosette</a>,
so your file should begin:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=index.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">rosette</span></a><span class="RktMeta"></span></td></tr></table></blockquote><p>Using Ocelot involves first <a href="#%28part._spec%29" data-pltdoc="x">constructing a relational specification</a>,
then <a href="#%28part._scope%29" data-pltdoc="x">defining a scope</a> in which to check the specification,
and finally <a href="#%28part._check%29" data-pltdoc="x">checking properties</a> within that scope.</p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;spec&quot;">1.1<tt>&nbsp;</tt><a name="(part._spec)"></a>Constructing relational specifications</h4><p>A relational logic specification consists of:</p><ul><li><p>A universe of discourse</p></li><li><p>Declarations of relations</p></li><li><p>Constraints over those relations</p></li></ul><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Universe_of_discourse&quot;">1.1.1<tt>&nbsp;</tt><a name="(part._.Universe_of_discourse)"></a>Universe of discourse</h5><p>A universe defines the set of atoms over which relations in a specification can range.
All universes are finite.
The <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe%29%29" class="RktValLink" data-pltdoc="x">universe</a></span> constructor creates a new universe from a list of atoms.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe%29%29" class="RktValLink" data-pltdoc="x">universe</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe-atoms%29%29" class="RktValLink" data-pltdoc="x">universe-atoms</a></span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(a b c d)</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Relation_declarations&quot;">1.1.2<tt>&nbsp;</tt><a name="(part._.Relation_declarations)"></a>Relation declarations</h5><p>A relation declaration defines a new relation,
whose value can later be constrained and then
solved for.
The <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValLink" data-pltdoc="x">declare-relation</a></span> procedure creates a new relation of a given arity with a given name.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">File</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValLink" data-pltdoc="x">declare-relation</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"File"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">Dir</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValLink" data-pltdoc="x">declare-relation</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"Dir"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">contents</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValLink" data-pltdoc="x">declare-relation</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">"contents"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">contents</span></td></tr><tr><td><p><span class="RktRes">(relation 2 "contents")</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Constraints_over_relations&quot;">1.1.3<tt>&nbsp;</tt><a name="(part._.Constraints_over_relations)"></a>Constraints over relations</h5><p>Ocelot offers a similar relational algebra to Alloy.
Sentences in Ocelot can be either expressions (i.e., return a relation)
or formulas (i.e., return a boolean).</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">DirsAndFiles</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">File</span><span class="hspace">&nbsp;</span><span class="RktSym">Dir</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">nonEmptyDir</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._some%29%29" class="RktStxLink" data-pltdoc="x">some</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._join%29%29" class="RktValLink" data-pltdoc="x">join</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Dir</span><span class="hspace">&nbsp;</span><span class="RktSym">contents</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">acyclic</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._no%29%29" class="RktStxLink" data-pltdoc="x">no</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">Dir</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._in%29%29" class="RktValLink" data-pltdoc="x">in</a></span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._join%29%29" class="RktValLink" data-pltdoc="x">join</a></span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~5e%29%29" class="RktValLink" data-pltdoc="x">^</a></span><span class="hspace">&nbsp;</span><span class="RktSym">contents</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;scope&quot;">1.2<tt>&nbsp;</tt><a name="(part._scope)"></a>Defining bounds on relations</h4><p>By default, Ocelot requires explicit bounds on the possible relations.
A <span class="RktSym">bound</span> for a relation consists of two sets of tuples: a lower bound defining tuples that
must be in a relation, and an upper bound defining tuples that may be in a relation.
A <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds%29%29" class="RktValLink" data-pltdoc="x">bounds</a></span> instance is a list of <span class="RktSym">bound</span>s together with a universe of discourse.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">bDir</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-exact-bound%29%29" class="RktValLink" data-pltdoc="x">make-exact-bound</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Dir</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">bFile</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-bound%29%29" class="RktValLink" data-pltdoc="x">make-bound</a></span><span class="hspace">&nbsp;</span><span class="RktSym">File</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">bContents</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-product-bound%29%29" class="RktValLink" data-pltdoc="x">make-product-bound</a></span><span class="hspace">&nbsp;</span><span class="RktSym">contents</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">allBounds</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds%29%29" class="RktValLink" data-pltdoc="x">bounds</a></span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktSym">bDir</span><span class="hspace">&nbsp;</span><span class="RktSym">bFile</span><span class="hspace">&nbsp;</span><span class="RktSym">bContents</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;check&quot;">1.3<tt>&nbsp;</tt><a name="(part._check)"></a>Checking Relational Specifications</h4><p>Finally, checking a relational specification involves interpreting the specification
with respect to the bounds. The result is a Rosette expression,
which can then be solved as normal.</p><p>The Ocelot interpreter translates Ocelot constraints into Rosette constraints
with respect to a given bounds.</p><p>Solving the generated Rosette constraints with <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=ch_syntactic-forms_rosette.html%23%2528form._%2528%2528lib._rosette%252Fquery%252Fform..rkt%2529._solve%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">solve</a></span> is similar to Alloy&rsquo;s <span class="stt">run</span> command,
while verifying the constraints with <span class="RktSym">verify</span> is similar to Alloy&rsquo;s <span class="stt">check</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">There is a model in which a directory is non-empty</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">formula1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%29%29" class="RktValLink" data-pltdoc="x">interpret</a></span><span class="hspace">&nbsp;</span><span class="RktSym">nonEmptyDir</span><span class="hspace">&nbsp;</span><span class="RktSym">allBounds</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">result1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=ch_syntactic-forms_rosette.html%23%2528form._%2528%2528lib._rosette%252Fquery%252Fform..rkt%2529._solve%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">solve</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=ch_syntactic-forms_rosette.html%23%2528form._%2528%2528lib._rosette%252Fbase%252Fcore%252Fsafe..rkt%2529._assert%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">assert</a></span><span class="hspace">&nbsp;</span><span class="RktSym">formula1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sat?</span><span class="hspace">&nbsp;</span><span class="RktSym">result1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">There is a counterexample to acyclicity</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">formula2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%29%29" class="RktValLink" data-pltdoc="x">interpret</a></span><span class="hspace">&nbsp;</span><span class="RktSym">acyclic</span><span class="hspace">&nbsp;</span><span class="RktSym">allBounds</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">result2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">verify</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=ch_syntactic-forms_rosette.html%23%2528form._%2528%2528lib._rosette%252Fbase%252Fcore%252Fsafe..rkt%2529._assert%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">assert</a></span><span class="hspace">&nbsp;</span><span class="RktSym">formula2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sat?</span><span class="hspace">&nbsp;</span><span class="RktSym">result2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><h3 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Reference&quot;">2<tt>&nbsp;</tt><a name="(part._.Reference)"></a>Reference</h3><p>Ocelot provides a language for constructing relational formulas,
tools for defining possible values for those formulas,
and an interpreter to reduce those formulas to Rosette terms.</p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Declaring_Relations&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Declaring_.Relations)"></a>Declaring Relations</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._declare-relation))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValDef RktValLink" data-pltdoc="x">declare-relation</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">arity</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">relation?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">string?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a new relation of the given arity and name.</div></p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Relational_Logic&quot;">2.2<tt>&nbsp;</tt><a name="(part._.Relational_.Logic)"></a>Relational Logic</h4><p>The Ocelot DSL embeds relational logic in Rosette.
Many Ocelot operators (e.g., <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span>) override their Rosette counterparts to also work
over relations declared with <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValLink" data-pltdoc="x">declare-relation</a></span>.
These overridden operators should automatically fall back to their Rosette
counterparts if their arguments are not relations.
But this behavior can often be subtle, so
only import the entire <span class="RktSym">ocelot</span> module when the enclosing
context will not also be manipulating Rosette expressions.</p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Expressions&quot;">2.2.1<tt>&nbsp;</tt><a name="(part._.Expressions)"></a>Expressions</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._+))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2B%29%29" class="RktValDef RktValLink" data-pltdoc="x">+</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the union of two or more relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~26))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~26%29%29" class="RktValDef RktValLink" data-pltdoc="x">&amp;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the intersection of two or more relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._-))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the first relation, but without any tuples present in the remaining relations (i.e., set difference).</div></p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span> is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVar">b</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">c</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._-~3e))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the cross product of two or more relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~7e))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~7e%29%29" class="RktValDef RktValLink" data-pltdoc="x">~</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the inverse of a relation of arity 2.</div></p><p>If &#10216;<span style="font-style: italic">x</span>,<span style="font-style: italic">y</span>&#10217; is an element of <span class="RktVar">a</span>, then &#10216;<span style="font-style: italic">y</span>,<span style="font-style: italic">x</span>&#10217; is an element of <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~7e%29%29" class="RktValLink" data-pltdoc="x">~</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._join))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._join%29%29" class="RktValDef RktValLink" data-pltdoc="x">join</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the relational join of two or more relations.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~3c~3a))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3c~3a%29%29" class="RktValDef RktValLink" data-pltdoc="x">&lt;:</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the relation containing all tuples in <span class="RktVar">b</span> whose first element
is contained in <span class="RktVar">a</span>, which must have arity 1.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~3a~3e))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3a~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">:&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the relation containing all tuples in <span class="RktVar">a</span> whose last element
is contained in <span class="RktVar">b</span>, which must have arity 1.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._ocelot/main..rkt)._none))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._none%29%29" class="RktValDef RktValLink" data-pltdoc="x">none</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A relation of arity 1 that contains no tuples.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._ocelot/main..rkt)._univ))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._univ%29%29" class="RktValDef RktValLink" data-pltdoc="x">univ</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A relation of arity 1 that contains the tuple &#10216;<span style="font-style: italic">x</span>&#10217; for every atom <span style="font-style: italic">x</span> in the universe.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._ocelot/main..rkt)._iden))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._iden%29%29" class="RktValDef RktValLink" data-pltdoc="x">iden</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A relation of arity 2 that contains, for every atom <span style="font-style: italic">x</span> in the universe,
the tuple &#10216;<span style="font-style: italic">x</span>, <span style="font-style: italic">x</span>&#10217;.</div></p><p><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._iden%29%29" class="RktValLink" data-pltdoc="x">iden</a></span> is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-~3e%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._univ%29%29" class="RktValLink" data-pltdoc="x">univ</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._univ%29%29" class="RktValLink" data-pltdoc="x">univ</a></span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~5e))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~5e%29%29" class="RktValDef RktValLink" data-pltdoc="x">^</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the irreflexive transitive closure of a relation, which must have arity 2.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._*))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces the reflexive transitive closure of a relation, which must have arity 2.</div></p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span> is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~5e%29%29" class="RktValLink" data-pltdoc="x">^</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._iden%29%29" class="RktValLink" data-pltdoc="x">iden</a></span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ocelot/main..rkt)._set))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._set%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">set</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-expr</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-formula</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">node/formula?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">domain-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">equal?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node/expr/arity</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Produces a set comprehension, which is a relation with arity equal to the number of <span class="RktVar">decl</span>s provided.
The set comprehension contains a tuple &#10216;<span style="font-style: italic">x</span><span style="vertical-align: sub; font-size: 80%">1</span>, &#8943;, <span style="font-style: italic">x</span><span style="vertical-align: sub; font-size: 80%">n</span>&#10217;
if and only if each <span style="font-style: italic">x</span><span style="vertical-align: sub; font-size: 80%">i</span> is an element of the corresponding <span class="RktVar">domain-expr</span><span style="vertical-align: sub; font-size: 80%">i</span>
(which must be an expression of arity 1) and, when each identifier <span class="RktVar">id</span><span style="vertical-align: sub; font-size: 80%">i</span>
is bound to the corresponding singleton tuple &#10216;<span style="font-style: italic">x</span><span style="vertical-align: sub; font-size: 80%">i</span>&#10217;,
<span class="RktVar">body-formula</span> evaluates to true.</div></p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Formulas&quot;">2.2.2<tt>&nbsp;</tt><a name="(part._.Formulas)"></a>Formulas</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._in))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._in%29%29" class="RktValDef RktValLink" data-pltdoc="x">in</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if <span class="RktVar">a</span> is a subset of <span class="RktVar">b</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~3d))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3d%29%29" class="RktValDef RktValLink" data-pltdoc="x">=</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if <span class="RktVar">a</span> and <span class="RktVar">b</span> contain the same elements.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._and))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._and%29%29" class="RktValDef RktValLink" data-pltdoc="x">and</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if every input formula is true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._or))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._or%29%29" class="RktValDef RktValLink" data-pltdoc="x">or</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if at least one of the input formulas is true.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._~3d~3e))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._~3d~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">=&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if <span class="RktVar">a</span> implies <span class="RktVar">b</span>.</div></p><p>Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._or%29%29" class="RktValLink" data-pltdoc="x">or</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%21%29%29" class="RktValLink" data-pltdoc="x">!</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">b</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._!))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._not))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._not%29%29" class="RktValDef RktValLink" data-pltdoc="x">not</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if <span class="RktVar">f</span> is false.</div></p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Quantifiers_and_Multiplicities&quot;">2.2.3<tt>&nbsp;</tt><a name="(part._.Quantifiers_and_.Multiplicities)"></a>Quantifiers and Multiplicities</h5><p>Most quantifiers each come in two forms.
One form takes no <span class="RktSym">decl</span>s, and a body which is an expression,
and evaluates to true if and only if the body has the appropriate cardinality.
The second form takes <span class="RktSym">decl</span>s, and a body which is a formula,
and evaluate to true if and only if the number of bindings of the <span class="RktSym">decl</span>s
under which the body evaluates to true has the appropriate cardinality.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ocelot/main..rkt)._all))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._all%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">all</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-expr</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-formula</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">node/formula?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">domain-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">equal?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node/expr/arity</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Produces a formula that is true if and only if, for every binding of each <span class="RktVar">id</span>
to a singleton subset of the corresponding <span class="RktVar">domain-expr</span> (which must be an expression of arity 1),
<span class="RktSym">body-formula-or-expr</span> (which must be a formula) evaluates to true under that binding.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ocelot/main..rkt)._some))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._some%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">some</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-decls</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula-or-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-decls</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-expr</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-formula-or-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">domain-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">equal?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node/expr/arity</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If no <span class="RktVar">decl</span>s are provided, produces a formula that is true if and only if
<span class="RktVar">body-formula-or-expr</span> (which must be an expression) is <span style="font-style: italic">not empty</span>.</div></p><p>If <span class="RktSym">decls</span> are provided,
produces a formula that is true if and only if there exists <span style="font-style: italic">some</span> binding of each <span class="RktVar">id</span>
to a singleton subset of the corresponding <span class="RktVar">domain-expr</span> (which must be an expression of arity 1)
such that <span class="RktVar">body-formula-or-expr</span> (which must be a formula) evaluates to true under that binding.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ocelot/main..rkt)._no))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._no%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">no</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-decls</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula-or-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-decls</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-expr</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-formula-or-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">domain-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">equal?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node/expr/arity</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If no <span class="RktVar">decl</span>s are provided, produces a formula that is true if and only if
<span class="RktVar">body-formula-or-expr</span> (which must be an expression) is <span style="font-style: italic">empty</span>.</div></p><p>If <span class="RktSym">decls</span> are provided,
produces a formula that is true if and only if there exists <span style="font-style: italic">no</span> binding of each <span class="RktVar">id</span>
to a singleton subset of the corresponding <span class="RktVar">domain-expr</span> (which must be an expression of arity 1)
such that <span class="RktVar">body-formula-or-expr</span> (which must be a formula) evaluates to true under that binding.</p><p>In both cases, <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._no%29%29" class="RktStxLink" data-pltdoc="x">no</a></span><span class="stt"> </span><span class="RktMeta">...</span><span class="RktPn">)</span> is equivalent to the negation <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._%21%29%29" class="RktValLink" data-pltdoc="x">!</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._some%29%29" class="RktStxLink" data-pltdoc="x">some</a></span><span class="stt"> </span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ocelot/main..rkt)._one))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._one%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">one</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-decls</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula-or-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-decls</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-expr</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-formula-or-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">domain-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">equal?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node/expr/arity</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If no <span class="RktVar">decl</span>s are provided, produces a formula that is true if and only if
<span class="RktVar">body-formula-or-expr</span> (which must be an expression) contains <span style="font-style: italic">exactly one</span> tuple.</div></p><p>If <span class="RktSym">decls</span> are provided,
produces a formula that is true if and only if there exists <span style="font-style: italic">exactly one</span> binding of the <span class="RktVar">id</span>s
to a singleton subset of the corresponding <span class="RktVar">domain-expr</span>s (which must be expressions of arity 1)
such that <span class="RktVar">body-formula-or-expr</span> (which must be a formula) evaluates to true under that binding.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._ocelot/main..rkt)._lone))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._lone%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lone</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-decls</span><span class="hspace">&nbsp;</span><span class="RktVar">body-formula-or-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-decls</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">decl</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">decl</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">domain-expr</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-formula-or-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">domain-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">equal?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">node/expr/arity</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If no <span class="RktVar">decl</span>s are provided, produces a formula that is true if and only if
<span class="RktVar">body-formula-or-expr</span> (which must be an expression) contains <span style="font-style: italic">at most one</span> tuple.</div></p><p>If <span class="RktSym">decls</span> are provided,
produces a formula that is true if and only if there exists <span style="font-style: italic">at most one</span> binding of the <span class="RktVar">id</span>s
to a singleton subset of the corresponding <span class="RktVar">domain-expr</span>s (which must be expressions of arity 1)
such that <span class="RktVar">body-formula-or-expr</span> (which must be a formula) evaluates to true under that binding.</p><p>In both cases, <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._lone%29%29" class="RktStxLink" data-pltdoc="x">lone</a></span><span class="stt"> </span><span class="RktMeta">...</span><span class="RktPn">)</span> is equivalent to the disjunction <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._or%29%29" class="RktValLink" data-pltdoc="x">or</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._no%29%29" class="RktStxLink" data-pltdoc="x">no</a></span><span class="stt"> </span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._one%29%29" class="RktStxLink" data-pltdoc="x">one</a></span><span class="stt"> </span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Scopes&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Scopes)"></a>Scopes</h4><p>Ocelot interprets relational expressions with respect to a set of bounds,
which constrain the possible values of relations.
The bounds, in turn, consist of tuples drawn from a universe of discourse.</p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Universes&quot;">2.3.1<tt>&nbsp;</tt><a name="(part._.Universes)"></a>Universes</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._universe))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe%29%29" class="RktValDef RktValLink" data-pltdoc="x">universe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">atoms</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">universe?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">atoms</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a new universe with the given <span class="RktVar">atoms</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._universe-atoms))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._universe-atoms%29%29" class="RktValDef RktValLink" data-pltdoc="x">universe-atoms</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">universe</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">universe</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">universe?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the atoms for a given universe.</div></p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Bounds&quot;">2.3.2<tt>&nbsp;</tt><a name="(part._.Bounds)"></a>Bounds</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._make-bound))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-bound%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-bound</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span><span class="RktVar">lower</span><span class="hspace">&nbsp;</span><span class="RktVar">upper</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bound?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">relation?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lower</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">upper</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new bound for <span class="RktVar">relation</span> that constrains it to
always contain every tuple in <span class="RktVar">lower</span>, and only contain tuples
in <span class="RktVar">upper</span>. Both <span class="RktVar">lower</span> and <span class="RktVar">upper</span> must be lists of tuples,
where a tuple is a list of atoms and has the same length as the arity of <span class="RktVar">relation</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._make-exact-bound))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-exact-bound%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-exact-bound</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span><span class="RktVar">contents</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bound?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">relation?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">contents</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new bound for <span class="RktVar">relation</span> that constrains it to
contain exactly the tuples in <span class="RktVar">contents</span>.</div></p><p>Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-bound%29%29" class="RktValLink" data-pltdoc="x">make-bound</a></span><span class="stt"> </span><span class="RktVar">relation</span><span class="stt"> </span><span class="RktVar">contents</span><span class="stt"> </span><span class="RktVar">contents</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._make-upper-bound))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-upper-bound%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-upper-bound</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span><span class="RktVar">contents</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bound?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">relation?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">contents</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new bound for <span class="RktVar">relation</span> that constrains it to
contain only the tuples in <span class="RktVar">contents</span>.</div></p><p>Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-bound%29%29" class="RktValLink" data-pltdoc="x">make-bound</a></span><span class="stt"> </span><span class="RktVar">relation</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVar">contents</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._make-product-bound))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-product-bound%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-product-bound</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span><span class="RktVar">atoms</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bound?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">relation</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">relation?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">atoms</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Create a new bound for <span class="RktVar">relation</span> that constrains it to
contain only the tuples in the cartesian product of the <span class="RktVar">atoms</span>.
<span class="RktVar">relation</span> must have the same arity as the number of <span class="RktVar">atoms</span>.</div></p><p>Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-upper-bound%29%29" class="RktValLink" data-pltdoc="x">make-upper-bound</a></span><span class="stt"> </span><span class="RktVar">relation</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">cartesian-product</span><span class="stt"> </span><span class="RktVar">atoms</span><span class="stt"> </span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._bounds))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds%29%29" class="RktValDef RktValLink" data-pltdoc="x">bounds</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">universe</span><span class="hspace">&nbsp;</span><span class="RktVar">bnds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds~3f%29%29" class="RktValLink" data-pltdoc="x">bounds?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">universe</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">universe?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bnds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">bound?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Collect a set of relation bounds and a universe together for use by <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%29%29" class="RktValLink" data-pltdoc="x">interpret</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._bounds~3f))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">bounds?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Return true if and only if <span class="RktVar">a</span> is an instance of <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds%29%29" class="RktValLink" data-pltdoc="x">bounds</a></span>.</div></p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Solving&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Solving)"></a>Solving</h4><p>Ocelot compiles relational formulas to Rosette constraints,
which can then be used directly with Rosette&rsquo;s solving and verification features.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._interpret))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%29%29" class="RktValDef RktValLink" data-pltdoc="x">interpret</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">formula</span><span class="hspace">&nbsp;</span><span class="RktVar">bounds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=sec_value-reflection.html%23%2528def._%2528%2528lib._rosette%252Fbase%252Fcore%252Fterm..rkt%2529._term%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">term?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">formula</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bounds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds~3f%29%29" class="RktValLink" data-pltdoc="x">bounds?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Translate <span class="RktVar">formula</span> into a Rosette formula that is satisfiable
if and only if there exists a binding to each relation in <span class="RktVar">bounds</span>
that satisfies its resepctive upper and lower bound
such that <span class="RktVar">formula</span> evaluates to true under that binding.</div></p><p>The <span class="RktVar">bounds</span> must provide a bound for every free relation mentioned in <span class="RktVar">formula</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._interpret*))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">interpret*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">formula</span><span class="hspace">&nbsp;</span><span class="RktVar">interp</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=sec_value-reflection.html%23%2528def._%2528%2528lib._rosette%252Fbase%252Fcore%252Fterm..rkt%2529._term%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">term?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">formula</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">node/formula?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">interp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">interpretation?</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%29%29" class="RktValLink" data-pltdoc="x">interpret</a></span>, but takes as input an interpretation instead of bounds.</div></p><p><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%2A%29%29" class="RktValLink" data-pltdoc="x">interpret*</a></span>, together with <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._instantiate-bounds%29%29" class="RktValLink" data-pltdoc="x">instantiate-bounds</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpretation-~3erelations%29%29" class="RktValLink" data-pltdoc="x">interpretation-&gt;relations</a></span>,
are useful for lifting the results of a satisfiable Rosette query to a model for relations
(see <a href="#%28part._.Interpretations%29" data-pltdoc="x">Interpretations</a> below).</p><p>The <span class="RktSym">interpretation</span> must provide an interpretation for every free relation mentioned in <span class="RktVar">formula</span>.</p><h5 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;Interpretations&quot;">2.4.1<tt>&nbsp;</tt><a name="(part._.Interpretations)"></a>Interpretations</h5><p>Ocelot reduces relational formulas to boolean formulas by way of interpretations,
which assign boolean variables for the presence of each possible tuple in a relation.
Interpretations can be used to list a satisfying model from a Rosette query
back to the relations that defined the solved formula.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._instantiate-bounds))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._instantiate-bounds%29%29" class="RktValDef RktValLink" data-pltdoc="x">instantiate-bounds</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">bounds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">interpretation?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bounds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds~3f%29%29" class="RktValLink" data-pltdoc="x">bounds?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Create an interpretation for each relation bound by <span class="RktVar">bounds</span>.
An inteerpretation of a relation <span class="RktSym">a</span> is a set of boolean variables,
one for each potential tuple in the relation, that are true if and only if
the corresponding tuple is present in <span class="RktSym">a</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._interpretation-~3erelations))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpretation-~3erelations%29%29" class="RktValDef RktValLink" data-pltdoc="x">interpretation-&gt;relations</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">interp</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hash/c</span><span class="hspace">&nbsp;</span><span class="RktSym">relation?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">interp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">interpretation?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table that maps each relation bound by <span class="RktVar">interp</span>
to a list of tuples contained in that relation under the interpretation <span class="RktVar">interp</span>.</div></p><p><span class="RktVar">interp</span> must be fully concrete (contains no symbolic boolean variables).</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Declare a cats relation and create an interpretation for it</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">cats</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._declare-relation%29%29" class="RktValLink" data-pltdoc="x">declare-relation</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"cats"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">bCats</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._make-upper-bound%29%29" class="RktValLink" data-pltdoc="x">make-upper-bound</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cats</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">allCatBounds</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._bounds%29%29" class="RktValLink" data-pltdoc="x">bounds</a></span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktSym">bCats</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">iCats</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._instantiate-bounds%29%29" class="RktValLink" data-pltdoc="x">instantiate-bounds</a></span><span class="hspace">&nbsp;</span><span class="RktSym">allCatBounds</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Find an interesting model for the cats relation</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">F</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._and%29%29" class="RktValLink" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._some%29%29" class="RktStxLink" data-pltdoc="x">some</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cats</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._ocelot%2Fmain..rkt%29._some%29%29" class="RktStxLink" data-pltdoc="x">some</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._univ%29%29" class="RktValLink" data-pltdoc="x">univ</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cats</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">resultCats</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=ch_syntactic-forms_rosette.html%23%2528form._%2528%2528lib._rosette%252Fquery%252Fform..rkt%2529._solve%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">solve</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rosette-guide&amp;rel=ch_syntactic-forms_rosette.html%23%2528form._%2528%2528lib._rosette%252Fbase%252Fcore%252Fsafe..rkt%2529._assert%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">assert</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpret%2A%29%29" class="RktValLink" data-pltdoc="x">interpret*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">F</span><span class="hspace">&nbsp;</span><span class="RktSym">iCats</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sat?</span><span class="hspace">&nbsp;</span><span class="RktSym">resultCats</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Lift the model to lists of tuples for each relation</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">catsModel</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._interpretation-~3erelations%29%29" class="RktValLink" data-pltdoc="x">interpretation-&gt;relations</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">evaluate</span><span class="hspace">&nbsp;</span><span class="RktSym">iCats</span><span class="hspace">&nbsp;</span><span class="RktSym">resultCats</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">hash-ref</span><span class="hspace">&nbsp;</span><span class="RktSym">catsModel</span><span class="hspace">&nbsp;</span><span class="RktSym">cats</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((b))</span></p></td></tr></table></blockquote></div></p><h4 x-source-module="(lib &quot;ocelot/scribblings/ocelot.scrbl&quot;)" x-source-pkg="ocelot" x-part-tag="&quot;sketch&quot;">2.5<tt>&nbsp;</tt><a name="(part._sketch)"></a>Sketching and Synthesis</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._ocelot/main..rkt)._expression-sketch))"></a><span title="Provided from: ocelot | Package: ocelot"><span class="RktSym"><a href="#%28def._%28%28lib._ocelot%2Fmain..rkt%29._expression-sketch%29%29" class="RktValDef RktValLink" data-pltdoc="x">expression-sketch</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">depth</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">arity</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">operators</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">terminals</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym">node/expr?</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">depth</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">operators</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">procedure?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">terminals</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym">node/expr?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs an expression sketch, which is an unknown relational expression.
Possible completions of the expression sketch are all relational expressions
of arity <span class="RktVar">arity</span> whose AST is <span class="RktVar">depth</span> levels deep,
with leaf nodes drawn from <span class="RktVar">terminals</span>
and non-leaf nodes drawn from <span class="RktVar">operators</span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>