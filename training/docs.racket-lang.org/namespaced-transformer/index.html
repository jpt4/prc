<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>The #%namespaced hook</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">The <span class="RktSym"><span class="RktStxLink">#%namespaced</span></span> hook</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Checking_if_languages_support___namespaced%29" class="tocviewlink" data-pltdoc="x">Checking if languages support <span class="RktSym"><span class="RktStxLink">#%namespaced</span></span></a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">The <span class="RktSym"><span class="RktStxLink">#%namespaced</span></span> hook</a></td></tr><tr><td><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">#%namespaced</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Checking_if_languages_support___namespaced%29" class="tocsubseclink" data-pltdoc="x">Checking if languages support <span class="RktSym"><span class="RktStxLink">#%namespaced</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._namespaced-transformer%2Finfo-key..rkt%29._key~3asupports-namespaced~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">key:<span class="mywbr"> &nbsp;</span>supports-<wbr></wbr>namespaced?</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;scribblings/namespaced-transformer.scrbl&quot;)" x-source-pkg="namespaced-transformer-doc" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.The___namespaced_hook)"></a><a name="(mod-path._namespaced-transformer)"></a>The <span class="RktSym"><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="RktStxLink" data-pltdoc="x">#%namespaced</a></span> hook</h2><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">namespaced-transformer</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/namespaced-transformer-lib" title="Install this package using `raco pkg install namespaced-transformer-lib`"><span class="stt">namespaced-transformer-lib</span></a></span></td></tr></table></p><p>The <span class="RktSym"><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="RktStxLink" data-pltdoc="x">#%namespaced</a></span> form adds a form of explicit identifier namespacing, designed to be used in
contexts where syntax objects must be created without lexical scope, such as when implementing
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._read-syntax%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">read-syntax</a></span> for a language. This is especially useful for &#8220;language extensions&#8221;, also known
as &#8220;meta languages&#8221;, such as languages created using <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=reader-helpers.html%23%2528def._%2528%2528lib._syntax%252Fmodule-reader..rkt%2529._make-meta-reader%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-meta-reader</a></span>. Since language
extensions do not have control over the lexical environment that the produced syntax objects will be
evaluated in, it is difficult to create hygienic extensions that adjust semantics. If the &#8220;host&#8221;
language provides <span class="RktSym"><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="RktStxLink" data-pltdoc="x">#%namespaced</a></span>, then language extensions can use it to safely hook into
the result by defining ordinary syntax transformers.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._namespaced-transformer/main..rkt)._~23~25namespaced))"></a><span title="Provided from: namespaced-transformer | Package: namespaced-transformer-lib"><span class="RktSym"><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">#%namespaced</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">module-path</span><span class="hspace">&nbsp;</span><span class="RktVar">form</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">form</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">args</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to <span class="RktVar">form</span>, except that <span class="RktVar">id</span>&#8217;s lexical context is adjusted to refer to an
identifier imported from <span class="RktVar">module-path</span>. All source locations and syntax properties in
<span class="RktVar">form</span> are preserved, and if <span class="RktVar">form</span> is a list, then <span class="RktVar">args</span> are passed through
entirely unmodified.</div></p><h3 x-source-module="(lib &quot;scribblings/namespaced-transformer.scrbl&quot;)" x-source-pkg="namespaced-transformer-doc" x-part-tag="&quot;Checking_if_languages_support___namespaced&quot;">1<tt>&nbsp;</tt><a name="(part._.Checking_if_languages_support___namespaced)"></a><a name="(mod-path._namespaced-transformer/info-key)"></a>Checking if languages support <span class="RktSym"><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="RktStxLink" data-pltdoc="x">#%namespaced</a></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._namespaced-transformer%2Finfo-key%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">namespaced-transformer/info-key</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/namespaced-transformer-lib" title="Install this package using `raco pkg install namespaced-transformer-lib`"><span class="stt">namespaced-transformer-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._namespaced-transformer/info-key..rkt)._key~3asupports-namespaced~3f))"></a><span title="Provided from: namespaced-transformer/info-key | Package: namespaced-transformer-lib"><span class="RktSym"><span class="RktSymDef RktSym">key:supports-namespaced?</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym">key:supports-namespaced?</span> value is an opaque key designed to be used as the first argument
to a language&#8217;s <span class="RktSym">get-info</span><span class="RktMeta"></span> procedure. A base language that provides <span class="RktSym"><a href="#%28form._%28%28lib._namespaced-transformer%2Fmain..rkt%29._~23~25namespaced%29%29" class="RktStxLink" data-pltdoc="x">#%namespaced</a></span> should
provide a <span class="RktSym">get-info</span><span class="RktMeta"></span> procedure that returns <span class="RktVal">#t</span> when given
<span class="RktSym">key:supports-namespaced?</span> as a key. See also <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Reading.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._read-language%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">read-language</a></span> for an example of how
<span class="RktSym">get-info</span><span class="RktMeta"></span> is used.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>