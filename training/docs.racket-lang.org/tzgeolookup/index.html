<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>tzgeolookup -- Lookup timezone names for geographic coordinates</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">tzgeolookup &ndash; Lookup timezone names for geographic coordinates</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">tzgeolookup &ndash; Lookup timezone names for geographic coordinates</a></td></tr><tr><td><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._lookup-timezone%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lookup-<wbr></wbr>timezone</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._clear-timezone-cache%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">clear-<wbr></wbr>timezone-<wbr></wbr>cache</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;tzgeolookup/scribblings/tzgeolookup.scrbl&quot;)" x-source-pkg="tzgeolookup" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._tzgeolookup_--_.Lookup_timezone_names_for_geographic_coordinates)"></a><a name="(mod-path._tzgeolookup)"></a>tzgeolookup &ndash; Lookup timezone names for geographic coordinates</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Alex Hars&#225;nyi</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">tzgeolookup</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/tzgeolookup" title="Install this package using `raco pkg install tzgeolookup`"><span class="stt">tzgeolookup</span></a></span></td></tr></table></p><p>This package allows determining the time zone name for any geographic
coordinate on earth.  It works entirely off-line, without having to contact
any web service for this information.</p><p>This package only returns the time zone name, but it can be used in
conjunction with the <span class="RktSym">tzinfo</span> package, which provides functions to
determine the time offset for a time zone.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._tzgeolookup/main..rkt)._lookup-timezone))"></a><span title="Provided from: tzgeolookup | Package: tzgeolookup"><span class="RktSym"><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._lookup-timezone%29%29" class="RktValDef RktValLink" data-pltdoc="x">lookup-timezone</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">latitude</span><span class="hspace">&nbsp;</span><span class="RktVar">longitude</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">latitude</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">longitude</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._real%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">real?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Return the IANA timezone name corresponding to the location at
<span class="RktVar">latitude</span> and <span class="RktVar">longitude</span>.  The coordinates are expressed in
degrees, with the range of -180 to 180 for <span class="RktVar">latitude</span> and -90 to 90
for <span class="RktVar">longitude</span>.  For example, calling <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._lookup-timezone%29%29" class="RktValLink" data-pltdoc="x">lookup-timezone</a></span><span class="stt"> </span><span class="RktVal">40.7092</span><span class="stt"> </span><span class="RktVal"><span class="nobreak">-7</span>4.0151</span><span class="RktPn">)</span> will return the string "America/New_York".</div></p><p>The function will always return a time zone string.  If the location is not
inside a time zone defined by a geopolitical area, the
<a href="https://en.wikipedia.org/wiki/Time_zone#Nautical_time_zones">nautical
time zone</a> for that location is returned instead. This is a string in the
format "Etc/UTC+number".</p><p><span style="font-weight: bold">Note:</span> sometimes location data is provided in "easting" and "northing"
coordinates, which follow the mathematical X, Y notation.  with "easting"
being the longitude and "northing" being the latitude.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._tzgeolookup/main..rkt)._clear-timezone-cache))"></a><span title="Provided from: tzgeolookup | Package: tzgeolookup"><span class="RktSym"><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._clear-timezone-cache%29%29" class="RktValDef RktValLink" data-pltdoc="x">clear-timezone-cache</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Clear cached data that was loaded from disk during calls to
<span class="RktSym"><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._lookup-timezone%29%29" class="RktValLink" data-pltdoc="x">lookup-timezone</a></span>.  Depending on the number and variety of time zone
lookups, the loaded data may take several megabytes of memory.  If the
program has finished the timezone lookup functionality, it may call this
function to release the memory.  Data will be loaded again, as needed, when
<span class="RktSym"><a href="#%28def._%28%28lib._tzgeolookup%2Fmain..rkt%29._lookup-timezone%29%29" class="RktValLink" data-pltdoc="x">lookup-timezone</a></span> is called again.</div></p><p>Lookups are faster when the data is cached, this function should only be
called if the program knows it won&rsquo;t do timezone lookups for a while.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>