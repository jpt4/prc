<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>OpenCPU</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Open<span class="mywbr"> &nbsp;</span>CPU</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Implementing_.New_.Types_of_.Servers%29" class="tocviewlink" data-pltdoc="x">Implementing New Types of Servers</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Contracts%29" class="tocviewlink" data-pltdoc="x">Contracts</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Exceptions%29" class="tocviewlink" data-pltdoc="x">Exceptions</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Open<span class="mywbr"> &nbsp;</span>CPU</a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">r-<wbr></wbr>package</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._define-r-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>r-<wbr></wbr>function</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-r-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>r-<wbr></wbr>function</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._current-opencpu-server%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>opencpu-<wbr></wbr>server</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-opencpu-server%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>opencpu-<wbr></wbr>server</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._remote-opencpu-server~3c~25~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">remote-<wbr></wbr>opencpu-<wbr></wbr>server&lt;%&gt;</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-user%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">r-<wbr></wbr>user</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._default-opencpu-server%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">default-<wbr></wbr>opencpu-<wbr></wbr>server</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._no-opencpu-server%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">no-<wbr></wbr>opencpu-<wbr></wbr>server</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-caching-opencpu-server%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>caching-<wbr></wbr>opencpu-<wbr></wbr>server</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Implementing_.New_.Types_of_.Servers%29" class="tocsubseclink" data-pltdoc="x">Implementing New Types of Servers</a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">opencpu-<wbr></wbr>server&lt;%&gt;</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._accept-package~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">accept-<wbr></wbr>package?</span></span></a></td></tr><tr><td><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._call%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">r-<wbr></wbr>function</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Contracts%29" class="tocsubseclink" data-pltdoc="x">Contracts</a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._any%2Fr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">any/<span class="mywbr"> &nbsp;</span>r</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._number%2Fr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number/<span class="mywbr"> &nbsp;</span>r</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list%2Fr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list/<span class="mywbr"> &nbsp;</span>r</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._hash%2Fr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash/<span class="mywbr"> &nbsp;</span>r</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list-no-duplicates%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>no-<wbr></wbr>duplicates/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package-can-add-functions%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">r-<wbr></wbr>package-<wbr></wbr>can-<wbr></wbr>add-<wbr></wbr>functions/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._dataframe-entry%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">dataframe-<wbr></wbr>entry/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Exceptions%29" class="tocsubseclink" data-pltdoc="x">Exceptions</a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-error~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">opencpu-<wbr></wbr>error?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>opencpu</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu~3aserver%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>opencpu:<span class="mywbr"> &nbsp;</span>server</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu~3ar%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>opencpu:<span class="mywbr"> &nbsp;</span>r</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">opencpu-<wbr></wbr>network-<wbr></wbr>error?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error-orig-message%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">opencpu-<wbr></wbr>network-<wbr></wbr>error-<wbr></wbr>orig-<wbr></wbr>message</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error-orig-marks%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">opencpu-<wbr></wbr>network-<wbr></wbr>error-<wbr></wbr>orig-<wbr></wbr>marks</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3anetwork~3aopencpu%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>network:<span class="mywbr"> &nbsp;</span>opencpu</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3anetwork~3aerrno~3aopencpu%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>network:<span class="mywbr"> &nbsp;</span>errno:<span class="mywbr"> &nbsp;</span>opencpu</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;opencpu/scribblings/opencpu.scrbl&quot;)" x-source-pkg="opencpu" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Open.C.P.U)"></a><a name="(mod-path._opencpu)"></a>OpenCPU</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Philip M<span style="vertical-align: super; font-size: 80%">c</span>Grath &lt;philip at philipmcgrath dot com&gt;</p></span></div><p><div class="SIntrapara"></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">opencpu</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/opencpu" title="Install this package using `raco pkg install opencpu`"><span class="stt">opencpu</span></a></span></td></tr></table></div></p><p>This library provides an interface to the
<a href="https://www.opencpu.org/">OpenCPU</a> API, allowing
programmers to call R functions from Racket over HTTP.
Currently, the focus is on support for the stateless
<a href="https://www.opencpu.org/api.html#api-json">JSON RPC</a>
usage mode.</p><p>A major goal of the library is to abstract away the construction
of API URLs, allowing different <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">servers</span></a> to be used
interchangably &#8212; even <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">servers</span></a> that do not perform any HTTP
requests at all &#8212; through the <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._current-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">current-opencpu-server</a></span>
parameter. This is achieved by specifying <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> in terms
of <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R packages</span></a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._opencpu/main..rkt)._r-package-guard))"></a><a name="(def._((lib._opencpu/main..rkt)._r-package-name))"></a><a name="(def._((lib._opencpu/main..rkt)._r-package~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3ar-package))"></a><a name="(def._((lib._opencpu/main..rkt)._r-package))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-package</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">guard</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">guard</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-package</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>[<span class="RktVar">guard</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package~3f%29%29" class="RktValLink" data-pltdoc="x">r-package?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">guard</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>match expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-package</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name-pat</span><span class="hspace">&nbsp;</span><span class="RktVar">guard-pat</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-package</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name-pat</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-package</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Specifies an <a name="(tech._r._package)"></a><span style="font-style: italic">R package</span> named <span class="RktVar">name</span> which corresponds to
the entities implementing the OpenCPU
<a href="https://www.opencpu.org/api.html#api-package">R package API</a>.
Whether a package is global or user-specific is a property of the
<a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a>, not of the package specification: the same package may be
global on one <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> and user-specific on another. For this reason,
<span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package%29%29" class="RktValLink" data-pltdoc="x">r-package</a></span> values are only <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> when they are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span>.</div></p><p>If the optional <span class="RktVar">guard</span> argument is provided to the constructor,
<a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> can only be added to the package when <span class="RktVar">guard</span> returns
a non-false result. See also <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package-can-add-functions%2Fc%29%29" class="RktValLink" data-pltdoc="x">r-package-can-add-functions/c</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._opencpu/main..rkt)._define-r-function))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._define-r-function%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-r-function</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">pkg</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-name-str</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-name-str</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">name-str</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arg/c</span><span class="hspace">&nbsp;</span><span class="RktVar">arg/c-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:result/c</span><span class="hspace">&nbsp;</span><span class="RktVar">result/c-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">pkg</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package-can-add-functions%2Fc%29%29" class="RktValLink" data-pltdoc="x">r-package-can-add-functions/c</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">name-str</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">arg/c-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">result/c-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></td></tr></table></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._make-r-function))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-r-function%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-r-function</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">pkg</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:arg/c</span><span class="hspace">&nbsp;</span><span class="RktVar">arg/c</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:result/c</span><span class="hspace">&nbsp;</span><span class="RktVar">result/c</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function~3f%29%29" class="RktValLink" data-pltdoc="x">r-function?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%252A%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVar">arg/c</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._current-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">current-opencpu-server</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._accept-package~3f%29%29" class="RktValLink" data-pltdoc="x">accept-package?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pkg</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">result/c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pkg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package-can-add-functions%2Fc%29%29" class="RktValLink" data-pltdoc="x">r-package-can-add-functions/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg/c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list%2Fr%29%29" class="RktValLink" data-pltdoc="x">list/r</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._hash%2Fr%29%29" class="RktValLink" data-pltdoc="x">hash/r</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">result/c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._any%2Fr%29%29" class="RktValLink" data-pltdoc="x">any/r</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Both the function <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-r-function%29%29" class="RktValLink" data-pltdoc="x">make-r-function</a></span> and the special form
<span class="RktSym"><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._define-r-function%29%29" class="RktStxLink" data-pltdoc="x">define-r-function</a></span> specify a new <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R function</span></a> assosciated with
the <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R package</span></a> <span class="RktVar">pkg</span>: the difference is that <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a>
created using <span class="RktSym"><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._define-r-function%29%29" class="RktStxLink" data-pltdoc="x">define-r-function</a></span> report contract violations in terms of
<span class="RktVar">id</span> and the string naming the function is inferred from <span class="RktVar">id</span>
unless <span class="RktVar">name-str</span> is provided.</div></p><p>An <a name="(tech._r._function)"></a><span style="font-style: italic">R function</span> is a procedure of a single argument, which must be either
a list (for by-position arguments to a function) or a hash table (for functions with
named arguments) and must satisfy the contract <span class="RktVar">arg/c</span>. Calling the function
sends a request to the <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> determined by <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._current-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">current-opencpu-server</a></span>,
which must support the function&rsquo;s <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R package</span></a>, and returns its result, which
must satisfy the contract <span class="RktVar">result/c</span>. (Specifically, it uses the server&rsquo;s
<span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._call%29%29" class="RktValLink" data-pltdoc="x">call</a></span> method.)</p><p>For low-level details on the representation of <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a>, see
<span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function%29%29" class="RktValLink" data-pltdoc="x">r-function</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._current-opencpu-server))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._current-opencpu-server%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-opencpu-server</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._current-opencpu-server%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-opencpu-server</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">server</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">server</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._default-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">default-opencpu-server</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Specifies the <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> to be used for calls to <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a>.
A <a name="(tech._server)"></a><span style="font-style: italic">server</span> will usually perform an HTTP request to some OpenCPU
server, but may implement its functionality in arbitrary ways: for example,
<span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._no-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">no-opencpu-server</a></span> is a <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> which doesn&rsquo;t allow any
<a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> to be run.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._make-opencpu-server))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-opencpu-server%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-opencpu-server</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">u</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span>[</td><td valign="top"><span class="RktPn">#:packages</span><span class="hspace">&nbsp;</span><span class="RktVar">pkgs</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:users</span><span class="hspace">&nbsp;</span><span class="RktVar">users</span>]<span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._remote-opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">remote-opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">u</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fstruct-dc..rkt%2529._struct%252Fdc%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct/dc</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=net&amp;rel=url.html%23%2528def._%2528%2528lib._net%252Furl-structs..rkt%2529._url%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">url</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">scheme</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">host</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">pkgs</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package~3f%29%29" class="RktValLink" data-pltdoc="x">r-package?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list-no-duplicates%2Fc%29%29" class="RktValLink" data-pltdoc="x">list-no-duplicates/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">#f</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">users</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-user~3f%29%29" class="RktValLink" data-pltdoc="x">r-user?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list-no-duplicates%2Fc%29%29" class="RktValLink" data-pltdoc="x">list-no-duplicates/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> that implements <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> by performing HTTP requests
to the OpenCPU server with base url <span class="RktVar">u</span>.</div></p><p>Any <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R package</span></a> included in an <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-user%29%29" class="RktValLink" data-pltdoc="x">r-user</a></span> value in <span class="RktVar">users</span>
is treated as local to that user.</p><p>If <span class="RktVar">pkgs</span> is <span class="RktVal">#f</span>, all other <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R packages</span></a> are supported and are
assumed to be installed globally. If <span class="RktVar">pkgs</span> is a list of <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R packages</span></a>,
only the listed packages are supported as global packages.</p><p>A given <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R package</span></a> may appear at most once, either in the <span class="RktVar">pkgs</span>
or the <span class="RktVar">users</span> argument to <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">make-opencpu-server</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>interface</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._remote-opencpu-server~3c~25~3e))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._remote-opencpu-server~3c~25~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">remote-opencpu-server&lt;%&gt;</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=objectutils.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._interface%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">interface?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><span class="hspace">&nbsp;&nbsp;</span>implements:<span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">Used to tag <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">servers</span></a> creaded by <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">make-opencpu-server</a></span>.</div><div class="SIntrapara"><blockquote class="leftindent"></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._opencpu/main..rkt)._r-user-packages))"></a><a name="(def._((lib._opencpu/main..rkt)._r-user-name))"></a><a name="(def._((lib._opencpu/main..rkt)._r-user~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3ar-user))"></a><a name="(def._((lib._opencpu/main..rkt)._r-user))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-user%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-user</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">packages</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">packages</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package~3f%29%29" class="RktValLink" data-pltdoc="x">r-package?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list-no-duplicates%2Fc%29%29" class="RktValLink" data-pltdoc="x">list-no-duplicates/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Used with <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">make-opencpu-server</a></span> to define <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R packages</span></a> installed
locally to a particular user.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._default-opencpu-server))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._default-opencpu-server%29%29" class="RktValDef RktValLink" data-pltdoc="x">default-opencpu-server</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._remote-opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">remote-opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> that uses the public OpenCPU server at
<span class="stt">https://cloud.opencpu.org/ocpu</span> to implement <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._no-opencpu-server))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._no-opencpu-server%29%29" class="RktValDef RktValLink" data-pltdoc="x">no-opencpu-server</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> which doesn&rsquo;t allow any <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> to be run.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._make-caching-opencpu-server))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-caching-opencpu-server%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-caching-opencpu-server</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">inner-server</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inner-server</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a> that behaves like <span class="RktVar">inner-server</span>,
but which caches the results of <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> to avoid consulting
<span class="RktVar">inner-server</span> on duplicate calls.</div></p><h3 x-source-module="(lib &quot;opencpu/scribblings/opencpu.scrbl&quot;)" x-source-pkg="opencpu" x-part-tag="&quot;Implementing_New_Types_of_Servers&quot;">1<tt>&nbsp;</tt><a name="(part._.Implementing_.New_.Types_of_.Servers)"></a>Implementing New Types of Servers</h3><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>interface</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._opencpu-server~3c~25~3e))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValDef RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=objectutils.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._interface%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">interface?</a></span></p></blockquote></td></tr></table></div><div class="SIntrapara">Any object that implements <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29%29" class="RktValLink" data-pltdoc="x">opencpu-server&lt;%&gt;</a></span> may be used as
a <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">server</span></a>, allowing <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> to be implemented in arbitrary ways.</div><div class="SIntrapara"><blockquote class="leftindent"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-opencpu-server</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._opencpu/main..rkt)._opencpu-server~3c~25~3e)._accept-package~3f))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._accept-package~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">accept-package?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pkg</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pkg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package~3f%29%29" class="RktValLink" data-pltdoc="x">r-package?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Should return <span class="RktVal">#f</span> to indicate that the <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R package</span></a> <span class="RktVar">pkg</span>
is not supported by <span class="RktVar">an-opencpu-server</span>, in which case the contract on
<span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._call%29%29" class="RktValLink" data-pltdoc="x">call</a></span> will prevent any <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> assosciated
with <span class="RktVar">pkg</span> from being run. For example,
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._no-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">no-opencpu-server</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._accept-package~3f%29%29" class="RktValLink" data-pltdoc="x">accept-package?</a></span><span class="stt"> </span><span class="RktSym">some-package</span><span class="RktPn">)</span>
always returns <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>method</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-opencpu-server</span><span class="hspace">&nbsp;</span><a name="(meth._(((lib._opencpu/main..rkt)._opencpu-server~3c~25~3e)._call))"></a><span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._call%29%29" class="RktValDef RktValLink" data-pltdoc="x">call</a></span><span class="hspace">&nbsp;</span><span class="RktVar">fn</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function-result%2Fc%29%29" class="RktValLink" data-pltdoc="x">r-function-result/c</a></span><span class="hspace">&nbsp;</span><span class="RktVar">fn</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">fn</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function~3f%29%29" class="RktValLink" data-pltdoc="x">r-function?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">fn</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktVar">an-opencpu-server</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._accept-package~3f%29%29" class="RktValLink" data-pltdoc="x">accept-package?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function-package%29%29" class="RktValLink" data-pltdoc="x">r-function-package</a></span><span class="hspace">&nbsp;</span><span class="RktVar">fn</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">arg</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list%2Fr%29%29" class="RktValLink" data-pltdoc="x">list/r</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._hash%2Fr%29%29" class="RktValLink" data-pltdoc="x">hash/r</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function-arg%2Fc%29%29" class="RktValLink" data-pltdoc="x">r-function-arg/c</a></span><span class="hspace">&nbsp;</span><span class="RktVar">fn</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Tells <span class="RktVar">an-opencpu-server</span> to execute its implementation of the <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R function</span></a> <span class="RktVar">fn</span>
using the argument <span class="RktVar">arg</span>. The implementation may perform an HTTP request
to an OpenCPU server (as <a href="#%28tech._server%29" class="techoutside" data-pltdoc="x"><span class="techinside">servers</span></a> created by <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-opencpu-server%29%29" class="RktValLink" data-pltdoc="x">make-opencpu-server</a></span> do),
but alternatively may produce the result in any arbitrary way (e.g. by consulting a
cache).</div><div class="SIntrapara"></div></p></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._opencpu/main..rkt)._r-function-result/c))"></a><a name="(def._((lib._opencpu/main..rkt)._r-function-arg/c))"></a><a name="(def._((lib._opencpu/main..rkt)._r-function-name))"></a><a name="(def._((lib._opencpu/main..rkt)._r-function-package))"></a><a name="(def._((lib._opencpu/main..rkt)._r-function~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3ar-function))"></a><a name="(def._((lib._opencpu/main..rkt)._r-function))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-function%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-function</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">package</span><span class="stt"> </span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">arg/c</span><span class="stt"> </span><span class="RktSym">result/c</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">package</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package~3f%29%29" class="RktValLink" data-pltdoc="x">r-package?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">arg/c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">result/c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The low-level representation of <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a>, which may be useful when implementing
<span class="RktSym"><a href="#%28meth._%28%28%28lib._opencpu%2Fmain..rkt%29._opencpu-server~3c~25~3e%29._call%29%29" class="RktValLink" data-pltdoc="x">call</a></span>. Note that the constructor is not provided: instead,
use <span class="RktSym"><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._define-r-function%29%29" class="RktStxLink" data-pltdoc="x">define-r-function</a></span> or <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._make-r-function%29%29" class="RktValLink" data-pltdoc="x">make-r-function</a></span>.</div></p><h3 x-source-module="(lib &quot;opencpu/scribblings/opencpu.scrbl&quot;)" x-source-pkg="opencpu" x-part-tag="&quot;Contracts&quot;">2<tt>&nbsp;</tt><a name="(part._.Contracts)"></a>Contracts</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._any/r))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._any%2Fr%29%29" class="RktValDef RktValLink" data-pltdoc="x">any/r</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._number%2Fr%29%29" class="RktValLink" data-pltdoc="x">number/r</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list%2Fr%29%29" class="RktValLink" data-pltdoc="x">list/r</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._hash%2Fr%29%29" class="RktValLink" data-pltdoc="x">hash/r</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._number/r))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._number%2Fr%29%29" class="RktValDef RktValLink" data-pltdoc="x">number/r</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-integer%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._inexact-real%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">inexact-real?</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._list/r))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list%2Fr%29%29" class="RktValDef RktValLink" data-pltdoc="x">list/r</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._any%2Fr%29%29" class="RktValLink" data-pltdoc="x">any/r</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._hash/r))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._hash%2Fr%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash/r</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fhash..rkt%2529._hash%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._any%2Fr%29%29" class="RktValLink" data-pltdoc="x">any/r</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:immutable</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash-eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash-eq?</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Contracts recognizing the types of values that can be accepted and produced
by <a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._list-no-duplicates/c))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._list-no-duplicates%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-no-duplicates/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Reconizes lists that do not contain any duplicate entries
(according to <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._opencpu/main..rkt)._r-package-can-add-functions/c))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package-can-add-functions%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">r-package-can-add-functions/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Recognizes <a href="#%28tech._r._package%29" class="techoutside" data-pltdoc="x"><span class="techinside">R packages</span></a> for which the <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._r-package-guard%29%29" class="RktValLink" data-pltdoc="x">r-package-guard</a></span> would permit
<a href="#%28tech._r._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">R functions</span></a> to be added when the contract is checked.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._opencpu/main..rkt)._dataframe-entry/c))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._dataframe-entry%2Fc%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">dataframe-entry/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">key-id</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">contract-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">contract-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._flat-contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">flat-contract?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Creates a flat contract accepting immutable, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span>-based hash-tables
consisting of <span style="font-style: italic">exactly</span> the symbolic form of each <span class="RktVar">key-id</span>
as keys (i.e. hashes with missing or extra keys will be rejected),
where each corresponding value must satisfy <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="stt"> </span><span class="RktVar">contract-expr</span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._any%2Fr%29%29" class="RktValLink" data-pltdoc="x">any/r</a></span><span class="RktPn">)</span>.
Thus, the resulting contract is more strict than <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._hash%2Fr%29%29" class="RktValLink" data-pltdoc="x">hash/r</a></span>.</div></p><p>These contracts may be used in any context, but are particularly useful in
writing contracts for R "data frame" values, which are represented as a list
of hash tables conforming to the same <span class="RktSym"><a href="#%28form._%28%28lib._opencpu%2Fmain..rkt%29._dataframe-entry%2Fc%29%29" class="RktStxLink" data-pltdoc="x">dataframe-entry/c</a></span> contract,
where each <span class="RktVar">key-id</span> is translated as the heading of "column" of the dataframe.</p><h3 x-source-module="(lib &quot;opencpu/scribblings/opencpu.scrbl&quot;)" x-source-pkg="opencpu" x-part-tag="&quot;Exceptions&quot;">3<tt>&nbsp;</tt><a name="(part._.Exceptions)"></a>Exceptions</h3><p>This section documents exceptions that may be raised by this library.
Note that none of the constructors for structures documented in this
section are provided.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._opencpu-error~3f))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-error~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">opencpu-error?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A predicate recognizing the exceptions documented in this section.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu-status))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3aexn~3afail~3aopencpu))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:opencpu</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">status</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">status</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The supertype for errors resulting from the OpenCPU HTTP server
(except contract violations, for which <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span>
is used). Direct instances of this type are currently only created
if the HTTP response has an unknown status code.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu~3aserver~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3aexn~3afail~3aopencpu~3aserver))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu~3aserver))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu~3aserver%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:opencpu:server</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu%29%29" class="RktValLink" data-pltdoc="x">exn:fail:opencpu</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Represents an error in the OpenCPU HTTP server, which is indicated by
an HTTP status code of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">502</span><span class="hspace"></span></span> or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">503</span><span class="hspace"></span></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu~3ar-r-error-message))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu~3ar~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3aexn~3afail~3aopencpu~3ar))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3aopencpu~3ar))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu~3ar%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:opencpu:r</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu%29%29" class="RktValLink" data-pltdoc="x">exn:fail:opencpu</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">r-error-message</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">r-error-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates that R encountered an error, which is indicated by an HTTP status
code of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">400</span><span class="hspace"></span></span>. The <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3aopencpu~3ar-r-error-message%29%29" class="RktValLink" data-pltdoc="x">exn:fail:opencpu:r-r-error-message</a></span>
(which is also included in the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exn-message%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn-message</a></span>) is the error message from R.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._opencpu-network-error~3f))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">opencpu-network-error?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._opencpu-network-error-orig-message))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error-orig-message%29%29" class="RktValDef RktValLink" data-pltdoc="x">opencpu-network-error-orig-message</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error~3f%29%29" class="RktValLink" data-pltdoc="x">opencpu-network-error?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._opencpu/main..rkt)._opencpu-network-error-orig-marks))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error-orig-marks%29%29" class="RktValDef RktValLink" data-pltdoc="x">opencpu-network-error-orig-marks</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contmarks.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._continuation-mark-set%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">continuation-mark-set?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error~3f%29%29" class="RktValLink" data-pltdoc="x">opencpu-network-error?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aopencpu-orig-marks))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aopencpu-orig-message))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aopencpu~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3aexn~3afail~3anetwork~3aopencpu))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aopencpu))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3anetwork~3aopencpu%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:network:opencpu</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3anetwork%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:network</a></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">orig-message</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">orig-marks</span><span class="RktPn">))</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">orig-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">orig-marks</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contmarks.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._continuation-mark-set%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">continuation-mark-set?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aerrno~3aopencpu-orig-marks))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aerrno~3aopencpu-orig-message))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aerrno~3aopencpu~3f))"></a><a name="(def._((lib._opencpu/main..rkt)._struct~3aexn~3afail~3anetwork~3aerrno~3aopencpu))"></a><a name="(def._((lib._opencpu/main..rkt)._exn~3afail~3anetwork~3aerrno~3aopencpu))"></a><span title="Provided from: opencpu | Package: opencpu"><span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._exn~3afail~3anetwork~3aerrno~3aopencpu%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:network:errno:opencpu</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3anetwork%7E3aerrno%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:network:errno</a></span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="nobreak"><span class="RktSym">orig-message</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span><span class="RktSym">orig-marks</span><span class="RktPn">))</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">orig-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">orig-marks</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contmarks.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._continuation-mark-set%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">continuation-mark-set?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">When this library encounters an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3anetwork%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:network</a></span> or an
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3anetwork%7E3aerrno%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:network:errno</a></span>, it re-raises the exception with an OpenCPU-specific
subtype. The message and continuation marks from the underlying exception are preserved
and can be accessed with the generic functions
<span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error-orig-message%29%29" class="RktValLink" data-pltdoc="x">opencpu-network-error-orig-message</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._opencpu%2Fmain..rkt%29._opencpu-network-error-orig-marks%29%29" class="RktValLink" data-pltdoc="x">opencpu-network-error-orig-marks</a></span>,
respectively.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>