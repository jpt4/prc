<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>mockfighter</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">mockfighter</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._intro%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._quick%29" class="tocviewlink" data-pltdoc="x">Quickstart</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._more%29" class="tocviewlink" data-pltdoc="x">How It Works</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._differences%29" class="tocviewlink" data-pltdoc="x">Differences from Stockfighter</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._api%29" class="tocviewlink" data-pltdoc="x">API Reference</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._end%29" class="tocviewlink" data-pltdoc="x">Bugs</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">mockfighter</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._intro%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._quick%29" class="tocsubseclink" data-pltdoc="x">Quickstart</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._more%29" class="tocsubseclink" data-pltdoc="x">How It Works</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._differences%29" class="tocsubseclink" data-pltdoc="x">Differences from Stockfighter</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._api%29" class="tocsubseclink" data-pltdoc="x">API Reference</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._end%29" class="tocsubseclink" data-pltdoc="x">Bugs</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._mockfighter)"></a><a name="(mod-path._mockfighter)"></a>mockfighter</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">eu90h</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">mockfighter</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/mockfighter" title="Install this package using `raco pkg install mockfighter`"><span class="stt">mockfighter</span></a></span></td></tr></table></p><h3 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;intro&quot;">1<tt>&nbsp;</tt><a name="(part._intro)"></a>Introduction</h3><p>Mockfighter is a web API frontend for a limit order book exchange. The API was designed with the
intent of being as close to 1-1 with Stockfighter&rsquo;s API as possible.</p><p>Currently, two bots are provided: a noisy trader and a market maker (that doesn&rsquo;t understand its job).
Both are extremely stupid, as anything better would probably give away solutions to Stockfighter levels.</p><h3 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;quick&quot;">2<tt>&nbsp;</tt><a name="(part._quick)"></a>Quickstart</h3><p><div class="SIntrapara">The following snippet shows how to run the mockfighter server on http://localhost:8000/
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mockfighter</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">server-thread</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">run-mockfighter</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This will begin running the server in a separate thread.</div></p><p>Next, create an instance by making a POST request to http://localhost:8000/gm/levels/any-string-here</p><p>This creates an instance of the level called any-string-here.</p><p><div class="SIntrapara">The bots will begin trading two seconds after creating an instance. The bots may be disabled like so:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">run-mockfighter</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:bots</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></div></p><p><div class="SIntrapara">Furthermore, you may run the server on a port other than 8000 by setting the port option:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">run-mockfighter</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktSym">port-number</span><span class="RktPn">)</span></p></blockquote></div></p><p>Mockfighter requires (like Stockfighter) api keys, which are set in request headers. Any string will do here.</p><h3 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;more&quot;">3<tt>&nbsp;</tt><a name="(part._more)"></a>How It Works</h3><p>A player registers with the game master by making a GET request to http://localhost:8000/gm/levels/any-string-here. This creates a new instance of a level named any-string-here.</p><p>A json object is returned containing an account ID, a venue name, and a stock symbol.</p><p>Additionally, the bots are created at this point. The stock is assigned a fair market value
and the traders are informed of this value before making trades.</p><p>Every trading day lasts 5 seconds. At the end of each day, the fair market value changes.</p><p>The player interacts with the market by making HTTP GET and POST requests to various urls, blah blah blah :P</p><h3 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;differences&quot;">4<tt>&nbsp;</tt><a name="(part._differences)"></a>Differences from Stockfighter</h3><p>GM API not completely implemented.</p><h3 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;api&quot;">5<tt>&nbsp;</tt><a name="(part._api)"></a>API Reference</h3><p>I was able to use my stockfighter client without modification and it seems to work, so hopefully you can too.
For more information about the API see the Stockfighter reference or your client&rsquo;s documentation.
Since the goal is compatibility, any deviations from the Stockfighter API could be considered a bug, so report any oddities.</p><h3 x-source-module="(lib &quot;mockfighter/scribblings/mockfighter.scrbl&quot;)" x-source-pkg="mockfighter" x-part-tag="&quot;end&quot;">6<tt>&nbsp;</tt><a name="(part._end)"></a>Bugs</h3><p>I&rsquo;m sure many exist. This was written fairly quickly and has had only minor testing (although all parts have been tested.)
If you find something let me know on GitHub!</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>