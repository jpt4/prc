<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Lathe Comforts</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Lathe Comforts</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._evergreen%29" class="tocviewlink" data-pltdoc="x">Evergreen Utilities for Binding Syntax and Pure FP</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._contract%29" class="tocviewlink" data-pltdoc="x">Utilities for Contracts</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._maybe%29" class="tocviewlink" data-pltdoc="x">Maybe Values</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._string%29" class="tocviewlink" data-pltdoc="x">Utilities for Strings</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._trivial%29" class="tocviewlink" data-pltdoc="x">Trivial Values</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._list%29" class="tocviewlink" data-pltdoc="x">Utilities for Lists and Natural Numbers</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._hash%29" class="tocviewlink" data-pltdoc="x">Utilities for Hash Tables</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="#%28part._struct%29" class="tocviewlink" data-pltdoc="x">Utilities for Structs</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="#%28part._match%29" class="tocviewlink" data-pltdoc="x">Utilities for Match Expanders</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Lathe Comforts</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._evergreen%29" class="tocsubseclink" data-pltdoc="x">Evergreen Utilities for Binding Syntax and Pure FP</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._binding-syntax%29" class="tocsubseclink" data-pltdoc="x">Utilities for Binding Syntax</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._binds%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">binds</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._define-simple-normalizing-binder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>simple-<wbr></wbr>normalizing-<wbr></wbr>binder</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._fp%29" class="tocsubseclink" data-pltdoc="x">Utilities for Functional Programming</a></td></tr><tr><td><span class="tocsublinknumber">1.2.1<tt>&nbsp;</tt></span><a href="#%28part._bindings-and-recursion%29" class="tocsubseclink" data-pltdoc="x">Bindings and recursion</a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmain..rkt%29._pass%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">pass</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">w-</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._fn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">fn</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-loop%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">w-<wbr></wbr>loop</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._loopfn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">loopfn</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2.2<tt>&nbsp;</tt></span><a href="#%28part._conditionals%29" class="tocsubseclink" data-pltdoc="x">Conditionals</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._mat%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">mat</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">expect</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._matfns%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">matfns</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expectfn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">expectfn</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">dissect</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissect%2Fderived%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">dissect/<span class="mywbr"> &nbsp;</span>derived</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissectfn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">dissectfn</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissectfn%2Fderived%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">dissectfn/<span class="mywbr"> &nbsp;</span>derived</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._contract%29" class="tocsubseclink" data-pltdoc="x">Utilities for Contracts</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._let%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">let/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._fix%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">fix/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._by-own-method%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">by-<wbr></wbr>own-<wbr></wbr>method/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._maybe%29" class="tocsubseclink" data-pltdoc="x">Maybe Values</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">nothing</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nothing?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">just</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">just?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">just-<wbr></wbr>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maybe?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maybe/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe-bind%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maybe-<wbr></wbr>bind</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maybe-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe-if%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maybe-<wbr></wbr>if</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._string%29" class="tocsubseclink" data-pltdoc="x">Utilities for Strings</a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fstring..rkt%29._immutable-string~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">immutable-<wbr></wbr>string?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._trivial%29" class="tocsubseclink" data-pltdoc="x">Trivial Values</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">trivial</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">trivial?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._list%29" class="tocsubseclink" data-pltdoc="x">Utilities for Lists and Natural Numbers</a></td></tr><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._list-nat%29" class="tocsubseclink" data-pltdoc="x">Utilities for Natural Numbers</a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._nat-~3emaybe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nat-<wbr></wbr>&gt;maybe</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._list-list%29" class="tocsubseclink" data-pltdoc="x">Utilities for Lists</a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-foldl%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>foldl</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-foldr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>foldr</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-bind%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>bind</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-any%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>any</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-each%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>each</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>kv-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-any%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>kv-<wbr></wbr>any</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>kv-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-each%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>kv-<wbr></wbr>each</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>zip-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-any%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>zip-<wbr></wbr>any</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>zip-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-each%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>zip-<wbr></wbr>each</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6.3<tt>&nbsp;</tt></span><a href="#%28part._list-together%29" class="tocsubseclink" data-pltdoc="x">Utilities for Natural Numbers and Lists Together</a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-length~3c~3dnat~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>length&lt;=nat?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._nat~3c~3dlist-length~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nat&lt;=list-<wbr></wbr>length?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-length~3dnat~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>length=nat?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-length~3cnat~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list-<wbr></wbr>length&lt;nat?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._nat~3clist-length~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nat&lt;list-<wbr></wbr>length?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._hash%29" class="tocsubseclink" data-pltdoc="x">Utilities for Hash Tables</a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._make-similar-hash%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>similar-<wbr></wbr>hash</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-comparison-same~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>comparison-<wbr></wbr>same?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-keys-same~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>keys-<wbr></wbr>same?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-ref-maybe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>ref-<wbr></wbr>maybe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-set-maybe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>set-<wbr></wbr>maybe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-map-sorted%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>map-<wbr></wbr>sorted</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-bind%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>bind</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-map-maybe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>map-<wbr></wbr>maybe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-any%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>any</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-each%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>kv-<wbr></wbr>each</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-map-maybe%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>v-<wbr></wbr>map-<wbr></wbr>maybe</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>v-<wbr></wbr>map</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-any%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>v-<wbr></wbr>any</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>v-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-each%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">hash-<wbr></wbr>v-<wbr></wbr>each</span></span></a></td></tr><tr><td><span class="tocsublinknumber">8<tt>&nbsp;</tt></span><a href="#%28part._struct%29" class="tocsubseclink" data-pltdoc="x">Utilities for Structs</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-easy%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>easy</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-predicate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>predicate</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-accessor-by-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">struct-<wbr></wbr>accessor-<wbr></wbr>by-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._istruct%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">istruct/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._define-imitation-simple-struct%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>imitation-<wbr></wbr>simple-<wbr></wbr>struct</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-write%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">auto-<wbr></wbr>write</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-equal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">auto-<wbr></wbr>equal</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._define-imitation-simple-generics%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>imitation-<wbr></wbr>simple-<wbr></wbr>generics</span></span></a></td></tr><tr><td><span class="tocsublinknumber">9<tt>&nbsp;</tt></span><a href="#%28part._match%29" class="tocsubseclink" data-pltdoc="x">Utilities for Match Expanders</a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._define-match-expander-from-match-and-make%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>match-<wbr></wbr>expander-<wbr></wbr>from-<wbr></wbr>match-<wbr></wbr>and-<wbr></wbr>make</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._define-match-expander-attenuated%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>match-<wbr></wbr>expander-<wbr></wbr>attenuated</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._match%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">match/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Lathe_.Comforts)"></a>Lathe Comforts</h2><p>Lathe Comforts for Racket is a collection of utilities that are handy for writing Racket code. This is a non-intrusive toolkit; in most cases it should only make certain Racket code easier to write, without substantially changing the architecture of the project it&rsquo;s used in.</p><p>Some of these utilities are designed with Parendown in mind. In some cases, Parendown&rsquo;s weak opening brackets make it easier to get by with higher-order functions instead of custom syntax. (Note that due to limitations of Scribble&rsquo;s Racket code formatter, we use Parendown&rsquo;s &lsquo;pd&lsquo; macro to achieve these weak parens, rather than using its custom reader syntax.)</p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._evergreen%29" class="toptoclink" data-pltdoc="x">1<span class="hspace">&nbsp;</span>Evergreen Utilities for Binding Syntax and Pure FP</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._binding-syntax%29" class="toclink" data-pltdoc="x">1.1<span class="hspace">&nbsp;</span>Utilities for Binding Syntax</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._fp%29" class="toclink" data-pltdoc="x">1.2<span class="hspace">&nbsp;</span>Utilities for Functional Programming</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._bindings-and-recursion%29" class="toclink" data-pltdoc="x">1.2.1<span class="hspace">&nbsp;</span>Bindings and recursion</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._conditionals%29" class="toclink" data-pltdoc="x">1.2.2<span class="hspace">&nbsp;</span>Conditionals</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._contract%29" class="toptoclink" data-pltdoc="x">2<span class="hspace">&nbsp;</span>Utilities for Contracts</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._maybe%29" class="toptoclink" data-pltdoc="x">3<span class="hspace">&nbsp;</span>Maybe Values</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._string%29" class="toptoclink" data-pltdoc="x">4<span class="hspace">&nbsp;</span>Utilities for Strings</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._trivial%29" class="toptoclink" data-pltdoc="x">5<span class="hspace">&nbsp;</span>Trivial Values</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._list%29" class="toptoclink" data-pltdoc="x">6<span class="hspace">&nbsp;</span>Utilities for Lists and Natural Numbers</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._list-nat%29" class="toclink" data-pltdoc="x">6.1<span class="hspace">&nbsp;</span>Utilities for Natural Numbers</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._list-list%29" class="toclink" data-pltdoc="x">6.2<span class="hspace">&nbsp;</span>Utilities for Lists</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._list-together%29" class="toclink" data-pltdoc="x">6.3<span class="hspace">&nbsp;</span>Utilities for Natural Numbers and Lists Together</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._hash%29" class="toptoclink" data-pltdoc="x">7<span class="hspace">&nbsp;</span>Utilities for Hash Tables</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._struct%29" class="toptoclink" data-pltdoc="x">8<span class="hspace">&nbsp;</span>Utilities for Structs</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._match%29" class="toptoclink" data-pltdoc="x">9<span class="hspace">&nbsp;</span>Utilities for Match Expanders</a></p></td></tr></table><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;evergreen&quot;">1<tt>&nbsp;</tt><a name="(part._evergreen)"></a><a name="(mod-path._lathe-comforts)"></a>Evergreen Utilities for Binding Syntax and Pure FP</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><h4 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;binding-syntax&quot;">1.1<tt>&nbsp;</tt><a name="(part._binding-syntax)"></a>Utilities for Binding Syntax</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>splicing syntax class</p></div></div><p class="RForeground"><a name="(form._((lib._lathe-comforts/main..rkt)._binds))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._binds%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">binds</a></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Matches syntax in any of three formats:</div></p><ul><li><p>A single syntax object which is a list of two-element lists which each contain an identifier and an expression. This uses the pattern <span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">var:id</span><span class="stt"> </span><span class="RktVar">val:expr</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>, and the user writes something like <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">b</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVar">b</span><span class="RktPn">)</span><span class="RktPn">)</span> when they use this format.</p></li><li><p>A single syntax object which is a list of an even number of elements which alternate between identifiers and expressions. This uses the pattern <span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">~seq</span><span class="stt"> </span><span class="RktVar">var:id</span><span class="stt"> </span><span class="RktVar">val:expr</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span>, and the user writes something like <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVar">b</span><span class="RktPn">)</span><span class="RktPn">)</span> when they use this format.</p></li><li><p>An even number of syntax objects alternating between identifiers and expressions, proceeding as far as possible. This uses the head pattern <span class="RktPn">(</span><span class="RktSym">~seq</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">~seq</span><span class="stt"> </span><span class="RktVar">var:id</span><span class="stt"> </span><span class="RktVar">val:expr</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">~peek-not</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">~seq</span><span class="stt"> </span><span class="RktVar">_:id</span><span class="stt"> </span><span class="RktVar">_:expr</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>, and the user writes something like <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><span class="RktVal">2</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktVar">b</span><span class="RktPn">)</span><span class="RktPn">)</span> when they use this format.</p></li></ul><p>In all cases, this binds two attributes of ellipsis depth 1, namely <span class="RktVar">var</span> and <span class="RktVar">val</span>, and they carry the same number of matches.</p><p>(See <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529.__%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">_</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Library_Syntax_Classes_and_Literal_Sets.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._expr%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">expr</a></span>, and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Library_Syntax_Classes_and_Literal_Sets.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._id%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">id</a></span>.)</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._define-simple-normalizing-binder))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._define-simple-normalizing-binder%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-simple-normalizing-binder</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">template</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines a syntax transformer named <span class="RktVar">id</span> which "normalizes" its binding syntax. Its input is a form that uses the rather permissive <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._binds%29%29" class="RktStxLink" data-pltdoc="x">binds</a></span> splicing syntax class, and its output specifically uses the <span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">var</span><span class="stt"> </span><span class="RktVar">val</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> binding format expected by most Racket binding syntaxes.</div></p><p>Specifically, the generated macro is equivalent to the following, where <span class="RktVar">pattern</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> and <span class="RktVar">template</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> are expanded right away, and the rest of the ellipses are part of the generated macro:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Defining_Simple_Macros.html%23%2528form._%2528%2528lib._syntax%252Fparse%252Fdefine..rkt%2529._define-simple-macro%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-simple-macro</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktVar">vars:binds</span><span class="hspace">&nbsp;</span><span class="RktVar">body:expr</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">template</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">vars.var</span><span class="hspace">&nbsp;</span><span class="RktVar">vars.val</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>(See <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Library_Syntax_Classes_and_Literal_Sets.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._expr%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">expr</a></span>.)</p><p>As an example, <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-loop%29%29" class="RktStxLink" data-pltdoc="x">w-loop</a></span> are defined straightforwardly in terms of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">let</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._define-simple-normalizing-binder%29%29" class="RktStxLink" data-pltdoc="x">define-simple-normalizing-binder</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._define-simple-normalizing-binder%29%29" class="RktStxLink" data-pltdoc="x">define-simple-normalizing-binder</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-loop%29%29" class="RktStxLink" data-pltdoc="x">w-loop</a></span><span class="hspace">&nbsp;</span><span class="RktVar">proc:id</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;fp&quot;">1.2<tt>&nbsp;</tt><a name="(part._fp)"></a>Utilities for Functional Programming</h4><h5 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;bindings-and-recursion&quot;">1.2.1<tt>&nbsp;</tt><a name="(part._bindings-and-recursion)"></a>Bindings and recursion</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/main..rkt)._pass))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmain..rkt%29._pass%29%29" class="RktValDef RktValLink" data-pltdoc="x">pass</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Invokes the given procedure with the given argument value. In other words, <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmain..rkt%29._pass%29%29" class="RktValLink" data-pltdoc="x">pass</a></span><span class="stt"> </span><span class="RktVar">arg</span><span class="stt"> </span><span class="RktVar">func</span><span class="RktPn">)</span> is just like <span class="RktPn">(</span><span class="RktVar">func</span><span class="stt"> </span><span class="RktVar">arg</span><span class="RktPn">)</span> but in a different order.</div></p><p>This utility can come in handy when experimenting with a new operation that returns procedures&#8212;<wbr></wbr>for example, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match-lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match-lambda</a></span>. Instead of going to the trouble to define another operation that acts as a let binding&#8212;<wbr></wbr>in this case, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match</a></span>&#8212;<wbr></wbr>it&rsquo;s easy enough to use <span class="stt">pass</span> and a weak bracket to accomplish basically the same programming style:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(2 3)</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html%23%2528form._%2528%2528lib._parendown%252Fmain..rkt%2529._pd%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">pd</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmain..rkt%29._pass%29%29" class="RktValLink" data-pltdoc="x">pass</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match-lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match-lambda</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(2 3)</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._w-))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">w-</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">local-binds</span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Works just like a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">let</a></span> form with no <span class="RktVar">proc-id</span>, but uses the <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._binds%29%29" class="RktStxLink" data-pltdoc="x">binds</a></span> splicing syntax class for the syntax of its bindings, so parentheses can usually be omitted.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-%29%29" class="RktStxLink" data-pltdoc="x">w-</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._fn))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._fn%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">fn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">arg-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a procedure with positional arguments <span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> and body <span class="RktVar">body-expr</span>.</div></p><p>This is only a frequently useful shorthand, not a full replacement of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>. Unlike <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span>, <span class="stt">fn</span> can only be used to create functions of fixed arity, with no keyword arguments, and the body may only consist of one expression (although this expression may be a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">begin</a></span> form of course). Hence, programs that use <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span> may still need to use <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span> on occasion.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html%23%2528form._%2528%2528lib._parendown%252Fmain..rkt%2529._pd%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">pd</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash-map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash-map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(~s, ~s)"</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("(a, 1)" "(b, 2)")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html%23%2528form._%2528%2528lib._parendown%252Fmain..rkt%2529._pd%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">pd</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._build-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">build-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">~</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktSym">~</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(0 10 20 30 40)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._w-loop))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-loop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">w-loop</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc-id</span><span class="hspace">&nbsp;</span><span class="RktVar">local-binds</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Works just like a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">let</a></span> form with a <span class="RktVar">proc-id</span>, but uses the <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._binds%29%29" class="RktStxLink" data-pltdoc="x">binds</a></span> splicing syntax class for the syntax of its bindings, so parentheses can usually be omitted.</div></p><p>This example reverses and squares the numbers in a list, using the <span class="RktVar">next</span> procedure to continue the loop:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html%23%2528form._%2528%2528lib._parendown%252Fmain..rkt%2529._pd%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">pd</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-loop%29%29" class="RktStxLink" data-pltdoc="x">w-loop</a></span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktSym">original</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expect%29%29" class="RktStxLink" data-pltdoc="x">expect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">original</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(9 4 1)</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._loopfn))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._loopfn%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">loopfn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a procedure with positional arguments <span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> and body <span class="RktVar">body-expr</span>, which can refer to itself in the body using the name <span class="RktVar">proc-id</span>.</div></p><h5 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;conditionals&quot;">1.2.2<tt>&nbsp;</tt><a name="(part._conditionals)"></a>Conditionals</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._mat))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._mat%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">mat</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">else-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._expect))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expect%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">expect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">else-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Checks whether <span class="RktVar">pat</span> matches the result of <span class="RktVar">val-expr</span>. If it does, this evaluates <span class="RktVar">then-expr</span> in tail position with the bindings introduced by <span class="RktVar">pat</span>. Otherwise, this evaluates <span class="RktVar">else-expr</span> without any new bindings.</div></p><p>The only difference between <span class="stt">mat</span> and <span class="stt">expect</span> is the order of <span class="RktVar">then-expr</span> and <span class="RktVar">else-expr</span> in the form. When these are used with Parendown&rsquo;s weak opening brackets, they enable a programming style where run time error checking and other early exit conditions are kept toward the top of a procedure body, without affecting the indentation of the procedure&rsquo;s main logic.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=parendown&amp;rel=index.html%23%2528form._%2528%2528lib._parendown%252Fmain..rkt%2529._pd%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">pd</a></span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rev</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._w-loop%29%29" class="RktStxLink" data-pltdoc="x">w-loop</a></span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._mat%29%29" class="RktStxLink" data-pltdoc="x">mat</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expect%29%29" class="RktStxLink" data-pltdoc="x">expect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._error%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Expected a list"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktVar">/</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">rev</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(3 2 1)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">rev</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">Expected a list</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._matfns))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._matfns%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">matfns</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">elsefn-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">elsefn-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a procedure. The procedure takes a single argument value and checks whether it matches the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match</a></span> pattern <span class="RktVar">pat</span>. If it does, the procedure evaluates <span class="RktVar">then-expr</span> in tail position with the bindings introduced by <span class="RktVar">pat</span>. Otherwise, the procedure makes a tail call to the procedure resulting from <span class="RktVar">elsefn-expr</span>, passing in the same argument value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._expectfn))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expectfn%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">expectfn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">else-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns a procedure. The procedure takes a single argument value and checks whether it matches the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match</a></span> pattern <span class="RktVar">pat</span>. If it does, the procedure evaluates <span class="RktVar">then-expr</span> in tail position with the bindings introduced by <span class="RktVar">pat</span>. Otherwise, the procedure evaluates <span class="RktVar">else-expr</span> in tail position without any new bindings.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._dissect))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissect%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">dissect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._dissect/derived))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissect%2Fderived%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">dissect/derived</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">orig</span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Checks whether <span class="RktVar">pat</span> matches the result of <span class="RktVar">val-expr</span>. If it does, this evaluates <span class="RktVar">then-expr</span> in tail position with the bindings introduced by <span class="RktVar">pat</span>. Otherwise, the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528def._%2528%2528lib._racket%252Fmatch..rkt%2529._exn%7E3amisc%7E3amatch%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:misc:match?</a></span> exception is raised.</div></p><p>The <span class="stt">dissect/derived</span> variant reports errors in terms of <span class="RktVar">orig</span>.</p><p>If you need a custom error message, use <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expect%29%29" class="RktStxLink" data-pltdoc="x">expect</a></span> with an expression that raises an exeption.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._dissectfn))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissectfn%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">dissectfn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/main..rkt)._dissectfn/derived))"></a><span title="Provided from: lathe-comforts | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._dissectfn%2Fderived%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">dissectfn/derived</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">orig</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">then-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a procedure. The procedure takes a single argument value and checks whether it matches the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528form._%2528%2528lib._racket%252Fmatch..rkt%2529._match%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">match</a></span> pattern <span class="RktVar">pat</span>. If it does, the procedure evaluates <span class="RktVar">then-expr</span> in tail position with the bindings introduced by <span class="RktVar">pat</span>. Otherwise, the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=match.html%23%2528def._%2528%2528lib._racket%252Fmatch..rkt%2529._exn%7E3amisc%7E3amatch%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:misc:match?</a></span> exception is raised.</div></p><p>The <span class="stt">dissectfn/derived</span> variant reports errors in terms of <span class="RktVar">orig</span>.</p><p>If you need a custom error message, use <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmain..rkt%29._expectfn%29%29" class="RktStxLink" data-pltdoc="x">expectfn</a></span> with an expression that raises an exeption.</p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;contract&quot;">2<tt>&nbsp;</tt><a name="(part._contract)"></a><a name="(mod-path._lathe-comforts/contract)"></a>Utilities for Contracts</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Fcontract%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/contract</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/contract..rkt)._let/c))"></a><span title="Provided from: lathe-comforts/contract | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._let%2Fc%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">let/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">var-id</span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">val-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Evaluates each <span class="RktVar">val-expr</span>, renames each of those resulting contracts to its respective <span class="RktVal">'</span><span class="RktVal">var-id</span>, evaluates the <span class="RktVar">body-expr</span> with those values in scope under respective <span class="RktVar">var-id</span> variables, and renames the resulting contract to <span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">let/c</span><span class="stt"> </span><span class="RktVal">[</span><span class="RktVal">var-id</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktVar">val-name</span><span class="RktVal">]</span><span class="stt"> </span><span class="RktVal">...</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktVar">body-name</span><span class="RktVal">)</span>, where <span class="RktVar">val-name</span> and <span class="RktVar">body-name</span> are the original names of the contracts.</div></p><p>This can come in handy when composiing relatively large contracts that use the same contract in multiple places. It keeps the name more concise than it usually would be.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/contract..rkt)._fix/c))"></a><span title="Provided from: lathe-comforts/contract | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._fix%2Fc%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">fix/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">options</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">contract-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">contract-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A fixed-point syntax for contracts. Returns the result of running <span class="RktVar">contract-expr</span> with a certain contract in scope as <span class="RktVar">id</span>. The contract functionality of <span class="RktVar">id</span> should be used only after <span class="RktVar">contract-expr</span> has returned a contract, and it behaves just like that contract. This functionality is based on <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fbase..rkt%2529._recursive-contract%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">recursive-contract</a></span>, and the <span class="RktVar">options</span> given here supply the optional arguments of the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fbase..rkt%2529._recursive-contract%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">recursive-contract</a></span> operation.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._fix%2Fc%29%29" class="RktStxLink" data-pltdoc="x">fix/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">simple-s-expression/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">simple-s-expression/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#&lt;contract: (fix/c simple-s-expression/c (or/c symbol? (listof simple-s-expression/c)))&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/contract..rkt)._by-own-method/c))"></a><span title="Provided from: lathe-comforts/contract | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._by-own-method%2Fc%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">by-own-method/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">body-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">A syntax for contracts that depend on the value they apply to. Returns a contract that tries to match the value against the match pattern <span class="RktVar">pat</span>, and if successful, executes the <span class="RktVar">body-expr</span> (with all the bound variables from <span class="RktVar">pat</span> in scope) and behaves according to that contract. If the match is not successful, then the value is not considered to meet this contract.</div></p><p>The name of the returned contract includes <span class="RktVar">pat</span> and <span class="RktVar">body-expr</span> verbatim. If they contain references to variables defined elsewhere, <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fcontract..rkt%29._let%2Fc%29%29" class="RktStxLink" data-pltdoc="x">let/c</a></span> may be useful to ensure those variable bindings are apparent in the overall contract name.</p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;maybe&quot;">3<tt>&nbsp;</tt><a name="(part._maybe)"></a><a name="(mod-path._lathe-comforts/maybe)"></a>Maybe Values</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Fmaybe%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/maybe</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p>Maybe values are a way to encode optional data. Using maybe values can simplify some interfaces that would otherwise use run time errors or special-cased sentinel values like <span class="RktVal">#f</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._lathe-comforts/maybe..rkt)._nothing))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">nothing</a></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">nothing</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>match expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">nothing</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._nothing~3f))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">nothing?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Struct-like operations which construct and deconstruct a maybe value that does not contain an element.</div></p><p>Every two <span class="stt">nothing</span> values are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._lathe-comforts/maybe..rkt)._just))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">just</a></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">just</a></span><span class="hspace">&nbsp;</span><span class="RktVar">value-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>match expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">just</a></span><span class="hspace">&nbsp;</span><span class="RktVar">value-pat</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._just~3f))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">just?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._just-value))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">just-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">inst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Struct-like operations which construct and deconstruct a maybe value that contains an element.</div></p><p>Two <span class="stt">just</span> values are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> if they contain <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> elements.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._maybe~3f))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">maybe?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns whether the given value is a maybe value. That is, it checks that the value is either a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValLink" data-pltdoc="x">nothing?</a></span> value or a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span> value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._maybe/c))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">maybe/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a contract that recognizes a maybe value where the element, if any, abides by the given contract.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._maybe-bind))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe-bind%29%29" class="RktValDef RktValLink" data-pltdoc="x">maybe-bind</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a maybe value by replacing the element of the given maybe value, if any, with zero or one elements according to the given function.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._maybe-map))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">maybe-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a maybe value by replacing the element of the given maybe value, if any, with another according to the given function.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/maybe..rkt)._maybe-if))"></a><span title="Provided from: lathe-comforts/maybe | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe-if%29%29" class="RktValDef RktValLink" data-pltdoc="x">maybe-if</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">get-value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">get-value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a maybe value that has an element if and only if the given <span class="RktVar">condition</span> is not <span class="RktVal">#f</span>. The element is computed by calling the given function <span class="RktVar">get-value</span> with no arguments.</div></p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;string&quot;">4<tt>&nbsp;</tt><a name="(part._string)"></a><a name="(mod-path._lathe-comforts/string)"></a>Utilities for Strings</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Fstring%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/string</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/string..rkt)._immutable-string~3f))"></a><span title="Provided from: lathe-comforts/string | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fstring..rkt%29._immutable-string~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">immutable-string?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns whether the given value is an immutable string.</div></p><p>Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktVar">v</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._immutable%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">immutable?</a></span><span class="stt"> </span><span class="RktVar">v</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;trivial&quot;">5<tt>&nbsp;</tt><a name="(part._trivial)"></a><a name="(mod-path._lathe-comforts/trivial)"></a>Trivial Values</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Ftrivial%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/trivial</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p>Some values never really vary at all. Perhaps some library accepts an argument that it&rsquo;ll pass through, but the library&rsquo;s client has no need for its pass-through services this time. Perhaps some data structure can store annotations on certain nodes, but the client doesn&rsquo;t really care to annotate any of the nodes this time. In cases like these, it&rsquo;s useful to have a particular value that doesn&rsquo;t mean anything.</p><p>Racket programs sometimes use <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span> for this purpose, but that value is more commonly used as the return value of side-effecting operations which will never have a meaningful result to print at the top level. If a user exploring at the top level uses an operation that typically returns a pass-through value or label, but in this case it happens to return a trivial pass-through value or a trivial label, that&rsquo;s potentially interesting information for the user, since they may not have even known they were dealing with trivial data yet.</p><p>So Lathe Comforts provides a very simple structure type, <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial%29%29" class="RktStxLink" data-pltdoc="x">trivial</a></span>, to represent trivial values.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><a name="(form._((lib._lathe-comforts/trivial..rkt)._trivial))"></a><span title="Provided from: lathe-comforts/trivial | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">trivial</a></span></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">trivial</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>match expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">trivial</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/trivial..rkt)._trivial~3f))"></a><span title="Provided from: lathe-comforts/trivial | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Ftrivial..rkt%29._trivial~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">trivial?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Struct-like operations which construct and deconstruct a trivial value.</div></p><p>Every two <span class="stt">trivial</span> values are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.</p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;list&quot;">6<tt>&nbsp;</tt><a name="(part._list)"></a><a name="(mod-path._lathe-comforts/list)"></a>Utilities for Lists and Natural Numbers</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Flist%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/list</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><h4 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;list-nat&quot;">6.1<tt>&nbsp;</tt><a name="(part._list-nat)"></a>Utilities for Natural Numbers</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._nat-~3emaybe))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._nat-~3emaybe%29%29" class="RktValDef RktValLink" data-pltdoc="x">nat-&gt;maybe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe%2Fc%29%29" class="RktValLink" data-pltdoc="x">maybe/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Finds the predecessor of the given natural number, if any. If there is one, the result is a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span> of that value. If there isn&rsquo;t, the result is a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValLink" data-pltdoc="x">nothing?</a></span>.</div></p><h4 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;list-list&quot;">6.2<tt>&nbsp;</tt><a name="(part._list-list)"></a>Utilities for Lists</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-foldl))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-foldl%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-foldl</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the final state value obtained by initializing the state as the given value <span class="RktVar">state</span> and updating the state by calling the given function <span class="RktVar">func</span> with each element of the list <span class="RktVar">lst</span> from first to last.</div></p><p>The function <span class="RktVar">func</span> is passed two values: The current state value and the list element to process. Its return value is used as the updated state value.</p><p>Racket already provides a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._foldl%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">foldl</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-foldr))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-foldr%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-foldr</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">state</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the final state value obtained by initializing the state as the given value <span class="RktVar">state</span> and updating the state by calling the given function <span class="RktVar">func</span> with each element of the list <span class="RktVar">lst</span> from last to first.</div></p><p>The function <span class="RktVar">func</span> is passed two values: The list element to process and the current state value. Its return value is used as the updated state value.</p><p>Racket already provides a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._foldr%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">foldr</a></span> function, but this one arranges the function to be the last argument, and it switches the order of the list and initial state arguments so the initial state is visually closer to the side of the list it interacts with.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-bind))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-bind%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-bind</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a list by replacing every element of the given list with zero, one, or more elements according to the given function.</div></p><p>The elements are processed from first to last.</p><p>Racket already provides an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._append-map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">append-map</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-map))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a list by replacing every element of the given list with another according to the given function.</div></p><p>The elements are processed from first to last.</p><p>Racket already provides a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">map</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-any))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-any%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-any</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given list&rsquo;s elements from first to last and calls the given function on each one, stopping early if the function returns a non-<span class="RktVal">#f</span> value for any but the last element.</div></p><p>If the list is empty, the overall result is <span class="RktVal">#f</span>. Otherwise, if the function does return a non-<span class="RktVal">#f</span> value for any but the last element, then that value is used as the overall result. Otherwise, the (possibly multiple) return values of calling the function with the last element are used as the result.</p><p>Racket already provides an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._ormap%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">ormap</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-all))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given list&rsquo;s elements from first to last and calls the given function on each one, stopping early if the function returns <span class="RktVal">#f</span> for any but the last element.</div></p><p>If the list is empty, the overall result is <span class="RktVal">#t</span>. Otherwise, if the function does return <span class="RktVal">#f</span> for any but the last element, then the overall result is <span class="RktVal">#f</span>. Otherwise, the (possibly multiple) return values of calling the function with the last element are used as the result.</p><p>Racket already provides an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._andmap%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">andmap</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-each))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-each%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-each</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given list&rsquo;s elements from first to last and calls the given procedure on each one. Ignores the procedure&rsquo;s results.</div></p><p>Racket already provides a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._for-each%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">for-each</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-kv-map))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-kv-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a list constructed by iterating over the given list&rsquo;s entries from first to last, calling the given function with each entry&rsquo;s index and value, and collecting the results.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-kv-any))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-any%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-kv-any</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given list&rsquo;s entries from first to last and calls the given function on each entry&rsquo;s index and value, stopping early if the function returns a non-<span class="RktVal">#f</span> value for any but the last element.</div></p><p>If the list is empty, the overall result is <span class="RktVal">#f</span>. Otherwise, if the function does return a non-<span class="RktVal">#f</span> value for any but the last entry, then that value is used as the overall result. Otherwise, the (possibly multiple) return values of calling the function with the last entry&rsquo;s index and value are used as the result.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-kv-all))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-kv-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given list&rsquo;s entries from first to last and calls the given function on each entry&rsquo;s index and value, stopping early if the function returns <span class="RktVal">#f</span> for any but the last element.</div></p><p>If the list is empty, the overall result is <span class="RktVal">#t</span>. Otherwise, if the function does return <span class="RktVal">#f</span> for any but the last entry, then the overall result is <span class="RktVal">#f</span>. Otherwise, the (possibly multiple) return values of calling the function with the last entry&rsquo;s index and value are used as the result.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-kv-each))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-kv-each%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-kv-each</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given list&rsquo;s entries from first to last and calls the given procedure on each entry&rsquo;s index and value. Ignores the procedure&rsquo;s results.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-zip-map))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-zip-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a list by replacing every pair of elements of the given two lists (which must be of the same length) with a single element according to the given function.</div></p><p>The elements are processed from first to last.</p><p>Racket already provides a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">map</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-zip-any))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-any%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-zip-any</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given two lists (which must be of the same length) and calls the given function on each pair of elements from first to last, stopping early if the function returns a non-<span class="RktVal">#f</span> value for any but the last pair of elements.</div></p><p>If the lists are empty, the overall result is <span class="RktVal">#f</span>. Otherwise, if the function does return a non-<span class="RktVal">#f</span> value for any but the last pair of elements, then that value is used as the overall result. Otherwise, the (possibly multiple) return values of calling the function with the last pair of elements are used as the result.</p><p>Racket already provides an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._ormap%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">ormap</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-zip-all))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-zip-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given two lists (which must be of the same length) and calls the given function on each pair of elements from first to last, stopping early if the function returns <span class="RktVal">#f</span> for any but the last pair of elements.</div></p><p>If the lists are empty, the overall result is <span class="RktVal">#t</span>. Otherwise, if the function does return <span class="RktVal">#f</span> for any but the last pair of elements, then the overall result is <span class="RktVal">#f</span>. Otherwise, the (possibly multiple) return values of calling the function with the last pair of elements are used as the result.</p><p>Racket already provides an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._andmap%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">andmap</a></span> function, but this one arranges the function to be the last argument.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-zip-each))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-zip-each%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-zip-each</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given two lists (which must be of the same length) and calls the given procedure on each pair of elements from first to last. Ignores the procedure&rsquo;s results.</div></p><p>Racket already provides a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._for-each%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">for-each</a></span> function, but this one arranges the function to be the last argument.</p><h4 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;list-together&quot;">6.3<tt>&nbsp;</tt><a name="(part._list-together)"></a>Utilities for Natural Numbers and Lists Together</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-length~3c~3dnat~3f))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-length~3c~3dnat~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-length&lt;=nat?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._nat~3c~3dlist-length~3f))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._nat~3c~3dlist-length~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">nat&lt;=list-length?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-length~3dnat~3f))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-length~3dnat~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-length=nat?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._list-length~3cnat~3f))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._list-length~3cnat~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">list-length&lt;nat?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/list..rkt)._nat~3clist-length~3f))"></a><span title="Provided from: lathe-comforts/list | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Flist..rkt%29._nat~3clist-length~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">nat&lt;list-length?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528lib._racket%252Fmath..rkt%2529._natural%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">These procedures compare a given natural number with the length of a given list. This can be more efficient than comparing the number to <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">length</a></span><span class="stt"> </span><span class="RktVar">lst</span><span class="RktPn">)</span> when that length is larger than the number.</div></p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;hash&quot;">7<tt>&nbsp;</tt><a name="(part._hash)"></a><a name="(mod-path._lathe-comforts/hash)"></a>Utilities for Hash Tables</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Fhash%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/hash</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._make-similar-hash))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._make-similar-hash%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-similar-hash</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">example</span><span class="hspace">&nbsp;</span><span class="RktVar">assocs</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">example</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">assocs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">pair?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table with the same key-comparison procedure, key-holding strength, and mutability as <span class="RktVar">example</span> but with entries populated from <span class="RktVar">assocs</span> instead. If <span class="RktVar">assocs</span> contains duplicate keys, the last entry in the list takes precedence.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-comparison-same~3f))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-comparison-same~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-comparison-same?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns whether the two given hash tables have the same comparison procedure (<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eqv%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eqv?</a></span>, or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-keys-same~3f))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-keys-same~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-keys-same?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns whether the two given hash tables have the same set of keys according to their comparison procedure. If the two hash tables don&rsquo;t even have the same comparison procedure, the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span> exception is raised.</div></p><p>If the thread performing this operation is terminated and the given hash tables use <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eqv%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eqv?</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> as their comparison procedure, all current and future operations on those hash tables may block indefinitely.</p><p>If either of the given hash tables is modified partway through this operation, or if either one is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table whose keys have been mutated after insertion, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-ref-maybe))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-ref-maybe%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-ref-maybe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Looks up the given key in the given hash table. Returns a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span> of the value found or a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValLink" data-pltdoc="x">nothing?</a></span> if no entry for that key exists.</div></p><p>If the thread performing this operation is terminated and the given hash table uses <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eqv%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eqv?</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> as its comparison procedure, all current and future operations on that hash table may block indefinitely.</p><p>If the given hash table is modified partway through this operation, or if it&rsquo;s an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table whose keys have been mutated after insertion, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-set-maybe))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-set-maybe%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-set-maybe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">maybe-value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table with the same key-comparison procedure, key-holding strength, and mutability as the given one, where the given key&rsquo;s mapping has been deleted (if <span class="RktVar">maybe-value</span> is a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValLink" data-pltdoc="x">nothing?</a></span>) or replaced (if it&rsquo;s a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span> of some value to use as the replacement).</div></p><p>If the given hash table is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table whose keys have been mutated after insertion, the resulting behavior may be unpredictable.</p><p>If the result is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table and one of its keys is mutated after insertion, it may have unpredictable behavior with other hash-table-related utilities.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-map-sorted))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-map-sorted%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-map-sorted</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key&lt;?</span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key&lt;?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a list constructed by converting the given hash table to a list, sorting it in ascending order by comparing keys according to the given <span class="RktVar">key&lt;?</span> behavior, and then transforming each entry in ascending order by calling the given <span class="RktVar">func</span> with the entry&rsquo;s key and value.</div></p><p>The number of times <span class="RktVar">key&lt;?</span> is called is unspecified. The particular argument values it receives are unspecified, aside from the fact that they are all keys of <span class="RktVar">hash</span>.</p><p>If the given hash table is modified while this operation is setting up (before it calls either of the given functions for the first time), the particular list of entries it processes may be unpredictable. Modifications after that will not affect the operation.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-bind))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-bind%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-bind</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table constructed by iterating over the given hash table <span class="RktVar">hash</span>&rsquo;s entries in an unspecified order, calling the given function <span class="RktVar">func</span> with each entry&rsquo;s key and value, and collecting the entries of the resulting hash tables into a single result hash table.</div></p><p>If multiple results of <span class="RktVar">func</span> have the same key, the last one to be computed takes precedence.</p><p>The resulting hash table has the same key-comparison procedure, key-holding strength, and mutability as <span class="RktVar">hash</span>. Each result of <span class="RktVar">func</span> may have its own combination of key-comparison procedure, key-holding strength, and mutability; these properties will be ignored.</p><p>If <span class="RktVar">hash</span> is modified while this operation is setting up (before it calls the given function for the first time), the particular list of entries this operation processes may be unpredictable. Modifications after that will not affect the operation.</p><p>Likewise, if a result of <span class="RktVar">func</span> is modified between the time it is returned and the time this operation either returns or calls <span class="RktVar">func</span> again, then the particular list of entries this operation collects from that <span class="RktVar">func</span> result may be unpredictable.</p><p>If the overall result is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table and one of its keys is mutated after insertion, it may have unpredictable behavior with other hash-table-related utilities.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-map-maybe))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-map-maybe%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-map-maybe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table constructed by iterating over the given hash table&rsquo;s entries in an unspecified order, calling the given function with each entry&rsquo;s key and value, and collecting the results. If for some input entry, the function returns a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValLink" data-pltdoc="x">nothing?</a></span>, then there is no corresponding output entry. When the function returns a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span>, then there is a corresponding output entry which maps the input entry&rsquo;s key to the the value of the <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span>.</div></p><p>The resulting hash table has the same key-comparison procedure, key-holding strength, and mutability as the given one.</p><p>If the given hash table is modified while this operation is setting up (before it calls the given function for the first time), the particular list of entries it processes may be unpredictable. Modifications after that will not affect the operation.</p><p>If the result is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table and one of its keys is mutated after insertion, it may have unpredictable behavior with other hash-table-related utilities.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-map))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table with the same keys as the given one. The result is constructed by iterating over the given hash table&rsquo;s entries in an unspecified order and calling the given function with each entry&rsquo;s key and value to determine the corresponding result entry&rsquo;s mapped value.</div></p><p>The resulting hash table has the same key-comparison procedure, key-holding strength, and mutability as the given one.</p><p>If the given hash table is modified while this operation is setting up (before it calls the given function for the first time), the particular list of entries it processes may be unpredictable. Modifications after that will not affect the operation.</p><p>If the result is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table and one of its keys is mutated after insertion, it may have unpredictable behavior with other hash-table-related utilities.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-any))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-any%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-any</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given hash table&rsquo;s entries in an unspecified order and calls the given function on each entry&rsquo;s key and value, stopping early if the function returns <span class="RktVal">#t</span>. If the function does return <span class="RktVal">#t</span>, then the overall result is <span class="RktVal">#t</span>; otherwise, it&rsquo;s <span class="RktVal">#f</span>.</div></p><p>If the given hash table is modified partway through this operation, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-all))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given hash table&rsquo;s entries in an unspecified order and calls the given function on each entry&rsquo;s key and value, stopping early if the function returns <span class="RktVal">#f</span>. If the function does return <span class="RktVal">#f</span>, then the overall result is <span class="RktVal">#f</span>; otherwise, it&rsquo;s <span class="RktVal">#t</span>.</div></p><p>If the given hash table is modified partway through this operation, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-kv-each))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-kv-each%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-kv-each</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given hash table&rsquo;s entries in an unspecified order and calls the given procedure on each entry&rsquo;s key and value. Ignores the procedure&rsquo;s results.</div></p><p>If the given hash table is modified partway through this operation, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-v-map-maybe))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-map-maybe%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-v-map-maybe</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._maybe~3f%29%29" class="RktValLink" data-pltdoc="x">maybe?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table constructed by iterating over the given hash table&rsquo;s entries in an unspecified order, calling the given function with each entry&rsquo;s mapped value, and collecting the results. If for some input entry, the function returns a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._nothing~3f%29%29" class="RktValLink" data-pltdoc="x">nothing?</a></span>, then there is no corresponding output entry. When the function returns a <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span>, then there is a corresponding output entry which maps the input entry&rsquo;s key to the the value of the <span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fmaybe..rkt%29._just~3f%29%29" class="RktValLink" data-pltdoc="x">just?</a></span>.</div></p><p>The resulting hash table has the same key-comparison procedure, key-holding strength, and mutability as the given one.</p><p>If the given hash table is modified while this operation is setting up (before it calls the given function for the first time), the particular list of entries it processes may be unpredictable. Modifications after that will not affect the operation.</p><p>If the result is an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>-based hash table and one of its keys is mutated after insertion, it may have unpredictable behavior with other hash-table-related utilities.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-v-map))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-v-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a hash table with the same keys as the given one. The result is constructed by iterating over the given hash table&rsquo;s entries in an unspecified order and calling the given function with each entry&rsquo;s mapped value to determine the corresponding result entry&rsquo;s mapped value.</div></p><p>The resulting hash table has the same key-comparison procedure, key-holding strength, and mutability as the given one.</p><p>If the given hash table is modified while this operation is setting up (before it calls the given function for the first time), the particular list of entries it processes may be unpredictable. Modifications after that will not affect the operation.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-v-any))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-any%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-v-any</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given hash table&rsquo;s mapped values in an unspecified order and calls the given function on each one, stopping early if the function returns <span class="RktVal">#t</span>. If the function does return <span class="RktVal">#t</span>, then the overall result is <span class="RktVal">#t</span>; otherwise, it&rsquo;s <span class="RktVal">#f</span>.</div></p><p>If the given hash table is modified partway through this operation, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-v-all))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-all%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-v-all</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given hash table&rsquo;s mapped values in an unspecified order and calls the given function on each one, stopping early if the function returns <span class="RktVal">#f</span>. If the function does return <span class="RktVal">#f</span>, then the overall result is <span class="RktVal">#f</span>; otherwise, it&rsquo;s <span class="RktVal">#t</span>.</div></p><p>If the given hash table is modified partway through this operation, the resulting behavior may be unpredictable.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._lathe-comforts/hash..rkt)._hash-v-each))"></a><span title="Provided from: lathe-comforts/hash | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28def._%28%28lib._lathe-comforts%2Fhash..rkt%29._hash-v-each%29%29" class="RktValDef RktValLink" data-pltdoc="x">hash-v-each</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span><span class="RktVar">func</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hash</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=hashtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._hash%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">hash?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">func</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Iterates over the given hash table&rsquo;s mapped values in an unspecified order and calls the given procedure on each one. Ignores the procedure&rsquo;s results.</div></p><p>If the given hash table is modified partway through this operation, the resulting behavior may be unpredictable.</p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;struct&quot;">8<tt>&nbsp;</tt><a name="(part._struct)"></a><a name="(mod-path._lathe-comforts/struct)"></a>Utilities for Structs</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Fstruct%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/struct</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._struct-easy))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-easy%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-easy</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">slot-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">rest</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This is a convenience layer over <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span>, which has some features to automate the implementation of the struct&rsquo;s print behavior and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> behavior.</div></p><p>The interface is rather unstable at this point. It&rsquo;s not even clear at this point which pieces of the behavior here are by design and which are temporary kludges.</p><p>Here are some non-normative examples of how it can be used:</p><p>The definition <span class="RktPn">(</span><span class="stt">struct-easy</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktVar">field-one</span><span class="stt"> </span><span class="RktVar">field-two</span><span class="RktPn">)</span><span class="RktPn">)</span> behaves the same way as <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">field-one</span><span class="stt"> </span><span class="RktVar">field-two</span><span class="RktPn">)</span><span class="RktPn">)</span> except that it also implements a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3acustom-write%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:custom-write</a></span> behavior based on <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structutils.html%23%2528def._%2528%2528lib._racket%252Fstruct..rkt%2529._make-constructor-style-printer%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-constructor-style-printer</a></span>.</p><p>In the <span class="RktVar">rest</span> section, the first occurrence of the <span class="RktPn">#:other</span> keyword begins passing the rest of the subforms through to the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span> form. To illustrate, this means the definition <span class="RktPn">(</span><span class="stt">struct-easy</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktVar">field-one</span><span class="stt"> </span><span class="RktVar">field-two</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">#:other</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> behaves the same way as <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">field-one</span><span class="stt"> </span><span class="RktVar">field-two</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>, aside from that custom write behavior.</p><p>If <span class="RktPn">#:equal</span> appears in the <span class="RktVar">rest</span> section (before any occurrence of  <span class="RktPn">#:other</span>), then an implementation of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3aequal%252Bhash%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:equal+hash</a></span> will be generated so that the resulting structure type&rsquo;s instances are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> if their corresponding fields are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.</p><p>If a list of the form <span class="RktPn">(</span><span class="RktPn">#:guard-easy</span><span class="stt"> </span><span class="RktVar">body-expr</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> appears in the <span class="RktVar">rest</span> section (before any occurrence of  <span class="RktPn">#:other</span>), then the resulting structure type runs each <span class="RktVar">body-expr</span> when an instance is constructed. In those expressions, local variables corresponding to each field (e.g. <span class="RktVar">field-one</span> and <span class="RktVar">field-two</span>) are bound to the values that instance is being constructed with. The results of each <span class="RktVar">body-expr</span> are ignored; they&rsquo;re expected to raise exceptions if the field values are unacceptable.</p><p>If <span class="RktPn">#:write</span> followed by an expression appears, then whenever an instance of this structure type would have its <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3acustom-write%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:custom-write</a></span> behavior invoked, it runs that expression with local variables in scope corresponding to each field name (e.g. <span class="RktVar">field-one</span> and <span class="RktVar">field-two</span>), each bound to the instance&rsquo;s respective field value. The expression is expected to return a procedure that takes the instance value itself and returns a list of values to be printed. (Since these are redundant, typically the expression will either ignore the field variables or ignore the instance value.) The resulting list of values is printed according to the behavior of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structutils.html%23%2528def._%2528%2528lib._racket%252Fstruct..rkt%2529._make-constructor-style-printer%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-constructor-style-printer</a></span>.</p><p>If <span class="RktPn">#:error-message-phrase</span> followed by an expression appears, then that expression will be evaluated as the structure type is defined, and its result will be used in certain error messages of the generated <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3acustom-write%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:custom-write</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3aequal%252Bhash%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:equal+hash</a></span> implementations, particularly the errors that occur when these methods are called with a value that isn&rsquo;t actually an instance of this structure type. The errors are of the form "expected &lt;this&gt; to be &lt;phrase&gt;", and the default "&lt;phrase&gt;" is "an instance of the &lt;name&gt; structure type". For certain structure types, it may make sense to use <span class="RktPn">#:error-message-phrase</span> to change this to a more pithy phrase, like "an RGB color" rather than "an instance of the rgb-color structure type." (However, is it even possible for clients of <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-easy%29%29" class="RktStxLink" data-pltdoc="x">struct-easy</a></span> to observe these errors in their programs? This feature might not make any visible difference.)</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._struct-predicate))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-predicate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-predicate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-name-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Expands to the predicate identifier associated with the given structure type name.</div></p><p>For instance, if a struct is defined as <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">field-one</span><span class="stt"> </span><span class="RktVar">field-two</span><span class="RktPn">)</span><span class="RktPn">)</span>, then traditionally we can recognize instances of the struct using <span class="RktPn">(</span><span class="RktVar">my-data?</span><span class="stt"> </span><span class="RktVar">x</span><span class="RktPn">)</span>, and now we can also recognize them using <span class="RktPn">(</span><span class="RktPn">(</span><span class="stt">struct-predicate</span><span class="stt"> </span><span class="RktVar">my-data</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">x</span><span class="RktPn">)</span>.</p><p>This comes in handy mostly when defining other syntax transformers that deal with structure type names. Sometimes it allows those syntax transformers to be written using simple syntax templates, saving the trouble of making manual calls to <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stxtrans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-local-value%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">syntax-local-value</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structinfo.html%23%2528def._%2528%2528lib._racket%252Fstruct-info..rkt%2529._extract-struct-info%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">extract-struct-info</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._struct-accessor-by-name))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._struct-accessor-by-name%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">struct-accessor-by-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">struct-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">field-name-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Expands to the struct field accessor identifier associated with the given structure type name and field name.</div></p><p>For instance, if a struct is defined as <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="stt"> </span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">field-one</span><span class="stt"> </span><span class="RktVar">field-two</span><span class="RktPn">)</span><span class="RktPn">)</span>, then traditionally we can extract the first field using <span class="RktPn">(</span><span class="RktVar">my-data-field-one</span><span class="stt"> </span><span class="RktVar">x</span><span class="RktPn">)</span>, and now we can also extract it using <span class="RktPn">(</span><span class="RktPn">(</span><span class="stt">struct-accessor-by-name</span><span class="stt"> </span><span class="RktVar">my-data</span><span class="stt"> </span><span class="RktVar">field-one</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">x</span><span class="RktPn">)</span>.</p><p>This comes in handy mostly when defining other syntax transformers that deal with structure type names. Sometimes it allows those syntax transformers to be written using simple syntax templates, saving the trouble of making manual calls to <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stxtrans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-local-value%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">syntax-local-value</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structinfo.html%23%2528def._%2528%2528lib._racket%252Fstruct-info..rkt%2529._extract-struct-info%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">extract-struct-info</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._istruct/c))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._istruct%2Fc%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">istruct/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">field/c-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">field/c-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a contract that recognizes an instance of structure type <span class="RktVar">name-id</span> where the fields abide by the respective <span class="RktVar">field/c-expr</span> contracts.</div></p><p>Unlike <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fstruct-dc..rkt%2529._struct%252Fc%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct/c</a></span> (but like <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._match%2Fc%29%29" class="RktStxLink" data-pltdoc="x">match/c</a></span>), this works even when <span class="RktVar">name-id</span> is an immutable structure type name and the <span class="RktVar">field/c-expr</span> contracts contain one or more impersonator contracts.</p><p>However, this comes at the price of some quirks. This operation works by reconstructing the struct altogether when a higher-order projection is taken. This means the projection of this struct isn&rsquo;t necessarily <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>, or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=chaperones.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._impersonator-of%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">impersonator-of?</a></span> to the original value. In fact, the projection becomes an instance of the structure type <span class="RktVar">name-id</span>, even when the original value is an instance of a distinct structure subtype of <span class="RktVar">name-id</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._define-imitation-simple-struct))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._define-imitation-simple-struct%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-imitation-simple-struct</a></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">inst?-id</span><span class="hspace">&nbsp;</span><span class="RktVar">inst-field-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inst-id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">reflection-name-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">inspector-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktPn">#:prop</span><span class="hspace">&nbsp;</span><span class="RktVar">prop-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">prop-val-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktPn">#:gen</span><span class="hspace">&nbsp;</span><span class="RktVar">gen:name</span><span class="hspace">&nbsp;</span><span class="RktVar">method-definition</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-write%29%29" class="RktStxLink" data-pltdoc="x">auto-write</a></span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-equal%29%29" class="RktStxLink" data-pltdoc="x">auto-equal</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">inspector-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=inspectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._inspector%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">inspector?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">prefab</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">reflection-name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structprops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._struct-type-property%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">struct-type-property?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a new structure type, and defines struct-like operations which construct and deconstruct an actual structure value of that type.</div></p><p>The variable <span class="RktVar">inst?-id</span> is defined to be a predicate that detects these structures.</p><p>Each variable <span class="RktVar">inst-field-id</span> is defined to be a procedure that accesses the corresponding positional field of any given one of these structures.</p><p>The variable <span class="RktVar">inst-id</span> is defined to be a match expander that can be used to construct or match these structures.</p><p>The structure type is created with the given reflection name, the given inspector, a number of fields equal to the number of <span class="RktVar">inst-field-id</span> variables specified, and structure type property bindings determined by the given <span class="RktVar">option</span> entries.</p><p>The reflection name is used for certain reflective operations.</p><p>If the inspector is the value <span class="RktVal">'</span><span class="RktVal">prefab</span>, this accesses a prefab structure type instead of creating a new one, and there must be no <span class="RktVar">option</span> entries specified.</p><p>An <span class="RktVar">option</span> of the form <span class="RktPn">(</span><span class="RktPn">#:prop</span><span class="stt"> </span><span class="RktVar">prop-expr</span><span class="stt"> </span><span class="RktVar">prop-val-expr</span><span class="RktPn">)</span> is like providing the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span> option <span class="RktPn">#:property</span><span class="stt"> </span><span class="RktVar">prop-expr</span><span class="stt"> </span><span class="RktVar">prop-val-expr</span>. It specifies a binding of the <span class="RktVar">prop-expr</span> structure type property to the value <span class="RktVar">prop-val-expr</span>.</p><p>An <span class="RktVar">option</span> of the form <span class="RktPn">(</span><span class="RktPn">#:gen</span><span class="stt"> </span><span class="RktVar">gen:name</span><span class="stt"> </span><span class="RktVar">method-definition</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> is like providing the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span> option <span class="RktPn">#:methods</span><span class="stt"> </span><span class="RktVar">gen:name</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">method-definition</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">]</span>. The <span class="RktVar">gen:name</span> must be an identifier with a transformer binding that specifies a generic interface as defined by <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=struct-generics.html%23%2528form._%2528%2528lib._racket%252Fgeneric..rkt%2529._define-generics%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-generics</a></span>. The <span class="RktVar">method-definition</span> forms define the implementation of this interface&rsquo;s methods for this new structure type just as they do in <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span>.</p><p>An <span class="RktVar">option</span> of the form <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-write%29%29" class="RktStxLink" data-pltdoc="x">auto-write</a></span><span class="RktPn">)</span> specifies implementations of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3acustom-write%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:custom-write</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._prop%7E3acustom-print-quotable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">prop:custom-print-quotable</a></span> which use <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structutils.html%23%2528def._%2528%2528lib._racket%252Fstruct..rkt%2529._make-constructor-style-printer%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-constructor-style-printer</a></span> to display the value.</p><p>An <span class="RktVar">option</span> of the form <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-equal%29%29" class="RktStxLink" data-pltdoc="x">auto-equal</a></span><span class="RktPn">)</span> specifies an implementation of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3aequal%252Bhash%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:equal+hash</a></span> which treats any two of these structures as <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> if their fields are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.</p><p>Note that unlike <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span>, this has no support for creating structure types that have supertypes, subtypes, guard procedures, mutable fields, or automatic fields. For the most part, all these features except supertypes and subtypes can be simulated: Mutable fields can be simulated with immutable fields that contain mutable boxes, while guard procedures and automatic fields can be simulated by defining another procedure to call instead of calling the defined constructor directly.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>structure type property expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._auto-write))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-write%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">auto-write</a></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax which is only useful as an option to <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._define-imitation-simple-struct%29%29" class="RktStxLink" data-pltdoc="x">define-imitation-simple-struct</a></span>. In that context, it specifies that the created structure type should have implementations of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3acustom-write%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:custom-write</a></span> and <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Printer_Extension.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._prop%7E3acustom-print-quotable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">prop:custom-print-quotable</a></span> which use <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structutils.html%23%2528def._%2528%2528lib._racket%252Fstruct..rkt%2529._make-constructor-style-printer%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-constructor-style-printer</a></span> to display a structure value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>structure type property expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._auto-equal))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._auto-equal%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">auto-equal</a></span></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A syntax which is only useful as an option to <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._define-imitation-simple-struct%29%29" class="RktStxLink" data-pltdoc="x">define-imitation-simple-struct</a></span>. In that context, it specifies that the created structure type should have an implementation of <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._gen%7E3aequal%252Bhash%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">gen:equal+hash</a></span> which treats any two of the structure values as <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span> if their fields are <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">equal?</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/struct..rkt)._define-imitation-simple-generics))"></a><span title="Provided from: lathe-comforts/struct | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._define-imitation-simple-generics%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-imitation-simple-generics</a></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">inst?-id</span><span class="hspace">&nbsp;</span><span class="RktVar">inst-impl?-id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:method</span><span class="hspace">&nbsp;</span><span class="RktVar">method-id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:this</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prop:inst-id</span><span class="hspace">&nbsp;</span><span class="RktVar">build-inst-impl-id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prop-name-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">inst-impl-reflection-name-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">supers-expr</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prop-name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">inst-impl-reflection-name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">supers-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._cons%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structprops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._struct-type-property%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">struct-type-property?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVar">inst-impl?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a new structure type property, creates a new structure type for use as the type of implementations of that property, and defines generic-interface-like operations for using these things.</div></p><p>The variable <span class="RktVar">inst?-id</span> is defined to be a predicate which determines whether the given value implements the property. Usually a value is considered to implement the property if its structure type has an implementation associated with the property. A structure type descriptor is special; it&rsquo;s considered to implement the property if the structure type it&rsquo;s a descriptor for has an implementation associated with the property.</p><p>The variable <span class="RktVar">inst-impl?-id</span> is defined to be a predicate which recognizes values of the structure type created for representing implementations of this property.</p><p>Each variable <span class="RktVar">method-id</span> is defined to be a procedure of the indicated number of arguments. Each <span class="RktPn">(</span><span class="RktPn">)</span> occurrence represents one argument, and the occurrence of <span class="RktPn">(</span><span class="RktPn">#:this</span><span class="RktPn">)</span> represents one argument which receives special treatment. The argument in the <span class="RktPn">(</span><span class="RktPn">#:this</span><span class="RktPn">)</span> position is expected to be a value which implements the property. Its implementation for the property determines the rest of the procedure&rsquo;s behavior.</p><p>The variable <span class="RktVar">prop:inst-id</span> is defined to a structure type property descriptor. When a structure type has an implementation associated with the descriptor <span class="RktVar">prop:inst-id</span>, that implementation is also associated with the property the rest of these operations interact with. (In fact, for now this is the descriptor of the property itself.)</p><p>The variable <span class="RktVar">build-inst-impl-id</span> is defined to be a procedure which constructs a value which represents an implementation of this property from N arguments, where N is the number of <span class="RktPn">#:method</span> clauses in this definition. Each argument must be an implementation to use for the corresponding method.</p><p>The symbol resulting from <span class="RktVar">prop-name-expr</span> is used for certain reflective operations on the structure type property descriptor.</p><p>The symbol resulting from <span class="RktVar">inst-impl-reflection-name-expr</span> is used for certain reflective operations on instances of the structure type of implementations.</p><p>The list resulting from <span class="RktVar">supers-expr</span> has the same meaning as the <span class="RktVar">supers</span> argument to <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=structprops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-struct-type-property%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-struct-type-property</a></span>. It&rsquo;s an association list mapping a structure type property to a function which transform the implementation of this property into the implementation of that one. When a structure type has an implementation of this property, it has an implementation of all of those as well, generated by the given functions.</p><p>When composing a <span class="RktVar">supers</span> argument to pass in, keep in mind that the values representing the implementation of this property are very opaque. Usually the only way to use them is by incorporating them into the creation of another structure type. Most <span class="RktVar">supers</span> arguments will simply use constant values or call the generic methods, ignoring the implementation value they receive altogether.</p><p>Note that unlike <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=struct-generics.html%23%2528form._%2528%2528lib._racket%252Fgeneric..rkt%2529._define-generics%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-generics</a></span>, this has no support for creating generic interface information that can be used with the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span> <span class="RktPn">#:method</span> syntax; it has no support for giving methods optional arguments, keyword arguments, rest arguments, or non-dispatching fast paths; it has no support for letting instances implement some methods but not others; and it does not define a contract combinator.</p><p>Some of these drawbacks are tricky to work around, but not all of them. Methods which take complex argument lists or which have fast paths can be defined as wrapper procedures. The idea of an unimplemented method can be approximated by adding a second method that returns a boolean saying whether the first is implemented.</p><p>The <span class="RktPn">#:method</span> syntax is not especially feasible. It&rsquo;s possible to use it by writing a separate <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=struct-generics.html%23%2528form._%2528%2528lib._racket%252Fgeneric..rkt%2529._define-generics%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-generics</a></span> interface with a <span class="RktPn">#:derive-property</span> option that populates this property. However, users should be discouraged from calling that wrapper interface&rsquo;s methods directly or using its contract combinator, since those things will look at the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=struct-generics.html%23%2528form._%2528%2528lib._racket%252Fgeneric..rkt%2529._define-generics%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-generics</a></span> interface, not this property it&rsquo;s intended to populate. Instead of using the <span class="RktPn">#:method</span> syntax, it&rsquo;s recommended to define various procedures and macros that make calls to <span class="RktVar">build-inst-impl-id</span> with the desired combinations of functionality.</p><p>Even the contract combinator can be simulated in a more big-picture sense: Higher-order contracts for structure type properties will tend to need to replace a property&rsquo;s implementation with an instrumented version. Not all structure types that implement a properly will do so in a way that&rsquo;s easily decoupled from their other functionality, much less swapped out for another whole implementation. That means the ability to swap something out is essentially another method that structure type can implement, and it can be designed as such.</p><p>When writing contracts for values whose design isn&rsquo;t easy to change, another approach is to intercept those values at the boundaries of a program and convert them into a custom structure type whose design is easier to control.</p><h3 x-source-module="(lib &quot;lathe-comforts/scribblings/lathe-comforts.scrbl&quot;)" x-source-pkg="lathe-comforts-doc" x-part-tag="&quot;match&quot;">9<tt>&nbsp;</tt><a name="(part._match)"></a><a name="(mod-path._lathe-comforts/match)"></a>Utilities for Match Expanders</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._lathe-comforts%2Fmatch%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">lathe-comforts/match</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/lathe-comforts-lib" title="Install this package using `raco pkg install lathe-comforts-lib`"><span class="stt">lathe-comforts-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/match..rkt)._define-match-expander-from-match-and-make))"></a><span title="Provided from: lathe-comforts/match | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._define-match-expander-from-match-and-make%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-match-expander-from-match-and-make</a></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">new-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">match-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">make-id-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">make-list-name-id</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Defines <span class="RktVar">new-name-id</span> as a syntax that expands into a call to <span class="RktVar">match-name-id</span> if it&rsquo;s used a match expander, <span class="RktVar">make-id-name-id</span> if it&rsquo;s used as an standalone identifier in an expression context, and <span class="RktVar">make-list-name-id</span> if it&rsquo;s used at the beginning of a list in an expression context.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/match..rkt)._define-match-expander-attenuated))"></a><span title="Provided from: lathe-comforts/match | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._define-match-expander-attenuated%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-match-expander-attenuated</a></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">new-name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">old-name-id</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">arg-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg/c-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">guard-expr</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">arg/c-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Defines <span class="RktVar">new-name-id</span> as a syntax that acts as a match expander which takes one subform for each <span class="RktVar">arg-id</span> and expands into a pattern using <span class="RktVar">old-name-id</span> with the same number of subforms.</div></p><p>When the syntax defined this way used as an expression syntax with one subexpression for each <span class="RktVar">arg/c-expr</span>, it first executes each subexpression, projects them each through the corresponding <span class="RktVar">arg/c-expr</span> contract, and evaluates <span class="RktVar">guard-expr</span> with <span class="RktVar">arg-id</span> bound to those projections. If the result of <span class="RktVar">guard-expr</span> is <span class="RktVal">#f</span>, a precondition representing to this guard fails, raising an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._exn%7E3afail%7E3acontract%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">exn:fail:contract</a></span> exception. Otherwise, this returns the result of <span class="RktPn">(</span><span class="RktVar">old-name-id</span><span class="stt"> </span><span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>.</p><p>When the syntax defined this way is used as an identifier, it returns a function that performs the expression syntax behavior when it&rsquo;s called.</p><p>When the syntax defined this way is used as a match expander with one pattern for each <span class="RktVar">arg-id</span>, it first tries to match the same arguments according to <span class="RktPn">(</span><span class="RktVar">old-name-id</span><span class="stt"> </span><span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>, and it fails if that pattern fails. Then it tries to check each of the <span class="RktVar">arg/c-expr</span> contracts&rsquo; <span class="RktSym">contract-first-order-passes?</span> behavior against the respective argument value, and it fails if any of those fails. Then it projects the arguments through those contracts, and it attempts to check the <span class="RktVar">guard-expr</span> with those projections, failing if the <span class="RktVar">guard-expr</span> returns <span class="RktVal">#f</span>. If it hasn&rsquo;t failed yet, it proceeds to match those projections according to the patterns given at the call site.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._lathe-comforts/match..rkt)._match/c))"></a><span title="Provided from: lathe-comforts/match | Package: lathe-comforts-lib"><span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fmatch..rkt%29._match%2Fc%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">match/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg/c-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">arg/c-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=contract-utilities.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fguts..rkt%2529._contract%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">contract?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a contract that recognizes a value if it matches a pattern of the form <span class="RktPn">(</span><span class="RktVar">name-id</span><span class="stt"> </span><span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>, where each <span class="RktVar">arg-id</span> is an identifier, and only as long as each value bound to a <span class="RktVar">arg-id</span> this way abides by the respective <span class="RktVar">arg/c-expr</span> contract.</div></p><p>The value&rsquo;s projection is computed by taking the projections of each of the arguments and then executing <span class="RktPn">(</span><span class="RktVar">name-id</span><span class="stt"> </span><span class="RktVar">arg-id</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>, where this time each <span class="RktVar">arg-id</span> is an identifier already bound to the argument&rsquo;s projection value. For some match patterns, this may cause substantial changes to the value when projected by this contract: If <span class="RktVar">name-id</span> is <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=vectors.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._vector%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">vector</a></span>, it changes immutable vectors to mutable ones. If <span class="RktVar">name-id</span> is a structure type name, it changes instances of subtypes of <span class="RktVar">name-id</span> into instances of <span class="RktVar">name-id</span> itself.</p><p>Unlike <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fstruct-dc..rkt%2529._struct%252Fc%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct/c</a></span> (but like <span class="RktSym"><a href="#%28form._%28%28lib._lathe-comforts%2Fstruct..rkt%29._istruct%2Fc%29%29" class="RktStxLink" data-pltdoc="x">istruct/c</a></span>), this works even when <span class="RktVar">name-id</span> is an immutable structure type name and the <span class="RktVar">arg/c-expr</span> contracts contain one or more impersonator contracts.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>