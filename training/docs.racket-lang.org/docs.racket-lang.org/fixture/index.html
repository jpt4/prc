<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Test Fixtures for RackUnit</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Test Fixtures for Rack<span class="mywbr"> &nbsp;</span>Unit</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Overview_of_.Collections_and_.Modules%29" class="tocviewlink" data-pltdoc="x">Overview of Collections and Modules</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Data_.Model%29" class="tocviewlink" data-pltdoc="x">Data Model</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Rack.Unit_.Integration%29" class="tocviewlink" data-pltdoc="x">Rack<span class="mywbr"> &nbsp;</span>Unit Integration</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Test Fixtures for Rack<span class="mywbr"> &nbsp;</span>Unit</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Overview_of_.Collections_and_.Modules%29" class="tocsubseclink" data-pltdoc="x">Overview of Collections and Modules</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Data_.Model%29" class="tocsubseclink" data-pltdoc="x">Data Model</a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fixture</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fixture?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-initialized~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fixture-<wbr></wbr>initialized?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>fixture</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fixture-<wbr></wbr>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">call/<span class="mywbr"> &nbsp;</span>fixture</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fixture-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-info%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">fixture-<wbr></wbr>info</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Rack.Unit_.Integration%29" class="tocsubseclink" data-pltdoc="x">Rack<span class="mywbr"> &nbsp;</span>Unit Integration</a></td></tr><tr><td><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-begin%2Ffixture%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">test-<wbr></wbr>begin/<span class="mywbr"> &nbsp;</span>fixture</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-case%2Ffixture%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">test-<wbr></wbr>case/<span class="mywbr"> &nbsp;</span>fixture</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;fixture/scribblings/main.scrbl&quot;)" x-source-pkg="fixture" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Test_.Fixtures_for_.Rack.Unit)"></a><a name="(mod-path._fixture)"></a>Test Fixtures for RackUnit</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Jack Firth &lt;<a href="mailto:jackhfirth@gmail.com">jackhfirth@gmail.com</a>&gt;</p></span></div><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/fixture" title="Install this package using `raco pkg install fixture`"><span class="stt">fixture</span></a></span></td></tr></table></div><div class="SIntrapara"></div></p><p>This library defines <a href="#%28tech._fixture%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixtures</span></a>, resources used in test cases that
are automatically created and destroyed at the beginning and end of each test
case. Fixtures are built on top of <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">rackunit</span></a> test cases and the
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=index.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">disposable</span></a> library; familiarity with the two is assumed in this
document.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tmpdir</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Ffile..rkt%2529._disposable-directory%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">disposable-directory</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tmpfile</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Ffile..rkt%2529._disposable-file%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">disposable-file</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-case%2Ffixture%29%29" class="RktStxLink" data-pltdoc="x">test-case/fixture</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"tests"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktSym">tmpdir</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktSym">tmpfile</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-case%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-case</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"some-test"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">use</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-tmpdir</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-tmpfile</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-case%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-case</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"other-test"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">use</span><span class="hspace">&nbsp;</span><span class="RktSym">different</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-tmpdir</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-tmpfile</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Source code for this library is available <a href="https://github.com/jackfirth/racket-fixture">on Github</a> and
is provided under the terms of the <a href="https://github.com/jackfirth/racket-fixture/blob/master/LICENSE">Apache License 2.0</a>.</p><p><span style="font-weight: bold">Warning!</span> This library is <span style="font-style: italic">experimental</span>; it may change in backwards
incompatible ways without notice. As such, now is the best time for feedback and
suggestions so feel free to open a repository issue or reach out to me directly.</p><h3 x-source-module="(lib &quot;fixture/scribblings/main.scrbl&quot;)" x-source-pkg="fixture" x-part-tag="&quot;Overview_of_Collections_and_Modules&quot;">1<tt>&nbsp;</tt><a name="(part._.Overview_of_.Collections_and_.Modules)"></a>Overview of Collections and Modules</h3><p>This package provides several modules, all in the <a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture</span></a>
collection:</p><ul><li><p><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture</span></a> - Re-provides the exports of
<a href="#%28mod-path._fixture%2Fbase%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture/base</span></a> and <a href="#%28mod-path._fixture%2Frackunit%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture/rackunit</span></a>.</p></li><li><p><a href="#%28mod-path._fixture%2Fbase%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture/base</span></a> - Base definitions of
<a href="#%28tech._fixture%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixtures</span></a> and all testing framework agnostic forms.</p></li><li><p><a href="#%28mod-path._fixture%2Frackunit%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture/rackunit</span></a> - Tools for using fixtures with
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">rackunit</span></a>.</p></li></ul><h3 x-source-module="(lib &quot;fixture/scribblings/main.scrbl&quot;)" x-source-pkg="fixture" x-part-tag="&quot;Data_Model&quot;">2<tt>&nbsp;</tt><a name="(part._.Data_.Model)"></a><a name="(mod-path._fixture/base)"></a>Data Model</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._fixture%2Fbase%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture/base</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/fixture" title="Install this package using `raco pkg install fixture`"><span class="stt">fixture</span></a></span></td></tr></table></p><p>A <a name="(tech._fixture)"></a><span style="font-style: italic">fixture</span> is an external resource that must be
properly initialized and disposed of for a test. Fixtures are essentially a pair
of a <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Basic_Disposable_API_and_Concepts.html%23%2528tech._disposable%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">disposable</span></a> defining the external resource and a
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=guide&amp;rel=parameterize.html%23%2528tech._parameter%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">parameter</span></a> that is set for each test to an instance of the
disposable.</p><p>Additionally, fixtures may have <a name="(tech._fixture._info)"></a><span style="font-style: italic">fixture info</span>;
custom metadata about the current value of the fixture that can be used in test
failure messages. Each fixture defines what info values it provides and there
are no restrictions on the kind of values a fixture may use for info, although
it&rsquo;s expected that calling <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._write%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">write</a></span> on them produces something relatively
useful.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._fixture))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture%29%29" class="RktValDef RktValLink" data-pltdoc="x">fixture</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">disp</span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:info-proc</span><span class="hspace">&nbsp;</span><span class="RktVar">info-proc</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">disp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Basic_Disposable_API_and_Concepts.html%23%2528def._%2528%2528lib._disposable%252Fmain..rkt%2529._disposable%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">disposable?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">info-proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">values</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a <a href="#%28tech._fixture%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixture</span></a> named <span class="RktVar">name</span> that provides instances of
values created with <span class="RktVar">disp</span>. The <span class="RktVar">info-proc</span> defines the fixture&rsquo;s
<a href="#%28tech._fixture._info%29" class="techoutside" data-pltdoc="x"><span class="techinside">info</span></a>, and is called with the current value of the fixture to when
<span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-info%29%29" class="RktValLink" data-pltdoc="x">fixture-info</a></span> is called. Fixtures must be initialized with
<span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span> before use; attempting to access the current value before
initialization raises a contract error.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">example-info</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"example value of ~v"</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture%29%29" class="RktValLink" data-pltdoc="x">fixture</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ex</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Fexample..rkt%2529._example-disposable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">example-disposable</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:info-proc</span><span class="hspace">&nbsp;</span><span class="RktSym">example-info</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528form._%2528%2528lib._racket%252Ffunction..rkt%2529._thunk%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">thunk</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-value%29%29" class="RktValLink" data-pltdoc="x">fixture-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-info%29%29" class="RktValLink" data-pltdoc="x">fixture-info</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">Allocated 30</span></p></td></tr><tr><td><p><span class="RktOut">30</span></p></td></tr><tr><td><p><span class="RktOut">example value of 30</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 30</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-value%29%29" class="RktValLink" data-pltdoc="x">fixture-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">fixture-value: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: fixture-initialized?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;fixture&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: an and/c case of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">the 1st argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(and/c fixture? fixture-initialized?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">any/c)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: &lt;pkgs&gt;/fixture/base.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: program</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: &lt;pkgs&gt;/fixture/base.rkt:14.3</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._fixture~3f))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">fixture?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a <a href="#%28tech._fixture%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixture</span></a>, returns
<span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._fixture-initialized~3f))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-initialized~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">fixture-initialized?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fix</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">fix</span> is currently initialized with
<span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span>, returns <span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._fixture/base..rkt)._define-fixture))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-fixture</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">disposable-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">fixture-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">fixture-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:accessor-id</span><span class="hspace">&nbsp;</span><span class="RktVar">accessor-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:info-proc</span><span class="hspace">&nbsp;</span><span class="RktVar">info-proc-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">disposable-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Basic_Disposable_API_and_Concepts.html%23%2528def._%2528%2528lib._disposable%252Fmain..rkt%2529._disposable%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">disposable?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">info-proc-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Binds <span class="RktVar">id</span> to a <a href="#%28tech._fixture%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixture</span></a> with name <span class="RktVal">'</span><span class="RktVal">id</span>,
with <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Basic_Disposable_API_and_Concepts.html%23%2528tech._disposable%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">disposable</span></a> <span class="RktVar">disposable-expr</span>, and with its
<a href="#%28tech._fixture._info%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixture info</span></a> defined by <span class="RktVar">info-proc-expr</span>. Additionally,
binds <span class="RktVar">accessor-id</span> to a shorthand function that call
<span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-value%29%29" class="RktValLink" data-pltdoc="x">fixture-value</a></span> on <span class="RktVar">id</span>. If <span class="RktVar">accessor-id</span> is not
provided, it defaults to <span class="RktSym">current-</span><span class="RktVar">id</span>. Each
<span class="RktVar">fixture-option</span> may only be provided once.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">example-info</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"example value of ~v"</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Fexample..rkt%2529._example-disposable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">example-disposable</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:info-proc</span><span class="hspace">&nbsp;</span><span class="RktSym">example-info</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528form._%2528%2528lib._racket%252Ffunction..rkt%2529._thunk%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">thunk</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-ex</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-info%29%29" class="RktValLink" data-pltdoc="x">fixture-info</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">Allocated 12</span></p></td></tr><tr><td><p><span class="RktOut">12</span></p></td></tr><tr><td><p><span class="RktOut">example value of 12</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 12</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">current-ex</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">raise-argument-error: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: exact-nonnegative-integer?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: "fixture"</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">argument position: 3rd</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">other arguments...:</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">'current-ex</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">"fixture not initialized"</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">#&lt;fixture&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._fixture-value))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">fixture-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fix</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-initialized~3f%29%29" class="RktValLink" data-pltdoc="x">fixture-initialized?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the current value of <span class="RktVar">fix</span>, or <span class="RktVal">#f</span> if the fixture has
not been initialized.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._call/fixture))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValDef RktValLink" data-pltdoc="x">call/fixture</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fix</span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Initializes <span class="RktVar">fix</span> to a new instance of the fixture&rsquo;s disposable within
the body of <span class="RktVar">proc</span>, disposing of the instance of the fixture after
calling <span class="RktVar">proc</span>. Returns whatever values are returned by <span class="RktVar">proc</span>.
Within the dynamic extend of <span class="RktVar">proc</span>, <span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-initialized~3f%29%29" class="RktValLink" data-pltdoc="x">fixture-initialized?</a></span>
returns <span class="RktVal">#t</span>. Multiple uses of <span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span> may be nested, but
a nested use initializes <span class="RktVar">fix</span> to a different instance of <span class="RktSym">disp</span>.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Fexample..rkt%2529._example-disposable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">example-disposable</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528form._%2528%2528lib._racket%252Ffunction..rkt%2529._thunk%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">thunk</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-ex</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-ex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">Allocated 25</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 25</span></p></td></tr></table></td></tr><tr><td><p><span class="RktRes">625</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._fixture-name))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">fixture-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fix</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the name of <span class="RktVar">fix</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._fixture/base..rkt)._fixture-info))"></a><span title="Provided from: fixture/base, fixture | Package: fixture"><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-info%29%29" class="RktValDef RktValLink" data-pltdoc="x">fixture-info</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fix</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fix</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._and%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-initialized~3f%29%29" class="RktValLink" data-pltdoc="x">fixture-initialized?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVar">fix</span>&rsquo;s current <a href="#%28tech._fixture._info%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixture info</span></a> by applying
<span class="RktVar">fix</span>&rsquo;s fixture info procedure to the current value of the fixture.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">example-info</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Fexample..rkt%2529._example-disposable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">example-disposable</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:info-proc</span><span class="hspace">&nbsp;</span><span class="RktSym">example-info</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=procedures.html%23%2528form._%2528%2528lib._racket%252Ffunction..rkt%2529._thunk%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">thunk</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture-info%29%29" class="RktValLink" data-pltdoc="x">fixture-info</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">Allocated 60</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 60</span></p></td></tr></table></td></tr><tr><td><p><span class="RktRes">(example-info 60)</span></p></td></tr></table></blockquote></div></p><h3 x-source-module="(lib &quot;fixture/scribblings/main.scrbl&quot;)" x-source-pkg="fixture" x-part-tag="&quot;RackUnit_Integration&quot;">3<tt>&nbsp;</tt><a name="(part._.Rack.Unit_.Integration)"></a><a name="(mod-path._fixture/rackunit)"></a>RackUnit Integration</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._fixture%2Frackunit%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">fixture/rackunit</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/fixture" title="Install this package using `raco pkg install fixture`"><span class="stt">fixture</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._fixture/rackunit..rkt)._test-begin/fixture))"></a><span title="Provided from: fixture/rackunit, fixture | Package: fixture"><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-begin%2Ffixture%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">test-begin/fixture</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fixture-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">fixture-clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktVar">fixture-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">fixture-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-begin%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-begin</a></span>, but with support for <a href="#%28tech._fixture%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixtures</span></a>. Within
the given <span class="RktVar">body</span> forms, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=internals.html%23%2528def._%2528%2528lib._rackunit%252Fmain..rkt%2529._current-test-case-around%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">current-test-case-around</a></span> is
parameterized to a function that wraps the test in a <span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._call%2Ffixture%29%29" class="RktValLink" data-pltdoc="x">call/fixture</a></span>
expression once for each <span class="RktVar">fixture-expr</span>. Every test found in the
<span class="RktVar">body</span> forms, including the outer <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-begin%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-begin</a></span>, is allocated its
own instance of each fixture. Fixtures are allocated in order from top to
bottom and deallocated in reverse.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Fexample..rkt%2529._example-disposable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">example-disposable</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ex2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Fexample..rkt%2529._example-disposable%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">example-disposable</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ex-sum</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-ex1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-ex2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-begin%2Ffixture%29%29" class="RktStxLink" data-pltdoc="x">test-begin/fixture</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktSym">ex1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktSym">ex2</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ex-sum</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-case%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-case</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"nested"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmisc..rkt%2529._displayln%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ex-sum</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">Allocated 37</span></p></td></tr><tr><td><p><span class="RktOut">Allocated 89</span></p></td></tr><tr><td><p><span class="RktOut">126</span></p></td></tr><tr><td><p><span class="RktOut">Allocated 44</span></p></td></tr><tr><td><p><span class="RktOut">Allocated 61</span></p></td></tr><tr><td><p><span class="RktOut">105</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 61</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 44</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 89</span></p></td></tr><tr><td><p><span class="RktOut">Deallocated 37</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>Additionally, test failures are augmented with a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528def._%2528%2528lib._rackunit%252Fmain..rkt%2529._check-info%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">check-info</a></span> with the
name <span class="RktVal">'</span><span class="RktVal">fixtures</span>. The info&rsquo;s value is a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528def._%2528%2528lib._rackunit%252Fmain..rkt%2529._nested-info%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">nested-info</a></span> containing
one check info for each fixture used; that info&rsquo;s name and value correspond to
the fixture&rsquo;s name and its <a href="#%28tech._fixture._info%29" class="techoutside" data-pltdoc="x"><span class="techinside">fixture info</span></a> at the time the test
failure occurred.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">file1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Ffile..rkt%2529._disposable-file%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">disposable-file</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Fbase..rkt%29._define-fixture%29%29" class="RktStxLink" data-pltdoc="x">define-fixture</a></span><span class="hspace">&nbsp;</span><span class="RktSym">file2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=disposable&amp;rel=Batteries-Included_Disposables.html%23%2528def._%2528%2528lib._disposable%252Ffile..rkt%2529._disposable-file%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">disposable-file</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-begin%2Ffixture%29%29" class="RktStxLink" data-pltdoc="x">test-begin/fixture</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktSym">file1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktSym">file2</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528def._%2528%2528lib._rackunit%252Fmain..rkt%2529._check-equal%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktErr">--------------------</span></p></td></tr><tr><td><p><span class="RktErr">FAILURE</span></p></td></tr><tr><td><p><span class="RktErr">fixtures:</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">file1:</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">#&lt;path:/var/tmp/rkttmp15665492491566549255324&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">file2:</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">#&lt;path:/var/tmp/rkttmp15665492551566549255317&gt;</span></p></td></tr><tr><td><p><span class="RktErr">name: </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">check-equal?</span></p></td></tr><tr><td><p><span class="RktErr">location: </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">eval:3:0</span></p></td></tr><tr><td><p><span class="RktErr">actual: </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">1</span></p></td></tr><tr><td><p><span class="RktErr">expected: </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">2</span></p></td></tr><tr><td><p><span class="RktErr">--------------------</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._fixture/rackunit..rkt)._test-case/fixture))"></a><span title="Provided from: fixture/rackunit, fixture | Package: fixture"><span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-case%2Ffixture%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">test-case/fixture</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">fixture-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">string-literal</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">fixture-clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:fixture</span><span class="hspace">&nbsp;</span><span class="RktVar">fixture-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">fixture-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._fixture%2Fbase..rkt%29._fixture~3f%29%29" class="RktValLink" data-pltdoc="x">fixture?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._fixture%2Frackunit..rkt%29._test-begin%2Ffixture%29%29" class="RktStxLink" data-pltdoc="x">test-begin/fixture</a></span>, but for <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-case%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-case</a></span> instead of
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=rackunit&amp;rel=api.html%23%2528form._%2528%2528lib._rackunit%252Fmain..rkt%2529._test-begin%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">test-begin</a></span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>