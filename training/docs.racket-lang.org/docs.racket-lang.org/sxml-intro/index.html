<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>SXML in Racket: Tools for XML and HTML</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">SXML in Racket:<span class="mywbr"> &nbsp;</span> Tools for XML and HTML</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Confusion%29" class="tocviewlink" data-pltdoc="x">Confusion</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Tools%29" class="tocviewlink" data-pltdoc="x">Tools</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._sxml-xexp%29" class="tocviewlink" data-pltdoc="x">Appendix:<span class="mywbr"> &nbsp;</span> SXML/<span class="mywbr"> &nbsp;</span>xexp</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.History%29" class="tocviewlink" data-pltdoc="x">History</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.Legal%29" class="tocviewlink" data-pltdoc="x">Legal</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">SXML in Racket:<span class="mywbr"> &nbsp;</span> Tools for XML and HTML</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Confusion%29" class="tocsubseclink" data-pltdoc="x">Confusion</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Tools%29" class="tocsubseclink" data-pltdoc="x">Tools</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._sxml-xexp%29" class="tocsubseclink" data-pltdoc="x">Appendix:<span class="mywbr"> &nbsp;</span> SXML/<span class="mywbr"> &nbsp;</span>xexp</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.History%29" class="tocsubseclink" data-pltdoc="x">History</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Legal%29" class="tocsubseclink" data-pltdoc="x">Legal</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">1:3</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.S.X.M.L_in_.Racket__.Tools_for_.X.M.L_and_.H.T.M.L)"></a>SXML in Racket: Tools for XML and HTML</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Neil Van Dyke &lt;<a href="mailto:neil@neilvandyke.org">neil@neilvandyke.org</a>&gt;</p></span></div><p>License: <a href="#%28part._.Legal%29" data-pltdoc="x">LGPLv3</a>
<span class="hspace">&nbsp;</span>
Web: <a href="http://www.neilvandyke.org/racket/sxml-intro/"><span class="url">http://www.neilvandyke.org/racket/sxml-intro/</span></a></p><h3 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;Introduction&quot;">1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>SXML is a computer representation of XML, originally defined by Oleg Kiselyov
for the Scheme programming language.  SXML is one of the representations of XML
and HTML that is used by Racket tools.  This document first clears up some
confusion about the various representations, and then lists Racket tools
available for SXML.</p><p>People writing SXML-related packages for Racket might wish to link to this
document from the documentation of their package.  For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktMeta">This</span><span class="hspace">&nbsp;</span><span class="RktMeta">package</span><span class="hspace">&nbsp;</span><span class="RktMeta">fooifies</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">@</span><span class="RktSym">seclink</span><span class="RktPn">[</span><span class="RktVal">"top"</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">#:doc</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">'</span><span class="RktPn">(</span><span class="RktSym">lib</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"sxml-intro/sxml-intro.scrbl"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">#:indirect?</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#true</span><span class="RktPn">]</span><span class="RktPn">{</span><span class="RktMeta">SXML</span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">for</span><span class="hspace">&nbsp;</span><span class="RktMeta">great</span><span class="hspace">&nbsp;</span><span class="RktMeta">justice.</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">You</span><span class="hspace">&nbsp;</span><span class="RktMeta">know</span><span class="hspace">&nbsp;</span><span class="RktMeta">what</span><span class="hspace">&nbsp;</span><span class="RktMeta">you</span><span class="hspace">&nbsp;</span><span class="RktMeta">are</span><span class="hspace">&nbsp;</span><span class="RktMeta">doing.</span><span class="RktMeta"></span></td></tr></table></blockquote><p>Authors of SXML-related Racket packages should also have Neil add their
SXML-related package to this document.</p><h3 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;Confusion&quot;">2<tt>&nbsp;</tt><a name="(part._.Confusion)"></a>Confusion</h3><p>First, to get some confusion out of the way... For historical reasons, there
are a few different representations of XML and HTML that different Racket-based
tools support:</p><ul><li><p>&ldquo;SXML&rdquo; &#8212;<wbr></wbr> The Scheme XML representation described and formalized
by Oleg Kiselyov.  The documents can be found at
<a href="https://pobox.com/~oleg/ftp/Scheme/SXML.html"><span class="url">http://pobox.com/~oleg/ftp/Scheme/SXML.html</span></a>.</p></li><li><p>&ldquo;SXML/xexp&rdquo; and &ldquo;<span class="RktSym">xexp</span><span class="RktMeta"></span>&rdquo; and &ldquo;SHTML&rdquo; &#8212;<wbr></wbr> SXML dialect(s) that
are often practically interchangeable with strictly-standard-compliant SXML.
See <a href="#%28part._sxml-xexp%29" data-pltdoc="x">Appendix: SXML/xexp</a>.</p></li><li><p>&ldquo;<span class="RktSym">xexpr</span><span class="RktMeta"></span>&rdquo; &#8212;<wbr></wbr> An s-expression representation of XML used by some
core Racket tools, including being the default representation used by the
Racket Web Server.  The &ldquo;xexpr&rdquo; format appears similar to SXML, but there are
technical reasons that unifying the two formats has seemed impractical.  Among
the differences, the arbitrary nested lists permitted by SXML make SXML more
amenable to efficient splicing.  See <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._xml%2Fxml..scrbl%29.%27._.%27top.%27%29%29&amp;version=7.4" class="Sq" data-pltdoc="x">the XML: Parsing and Writing documentation</a>.</p></li><li><p>&ldquo;<span class="RktSym">xml</span><span class="RktMeta"></span>&rdquo; &#8212;<wbr></wbr> An opaque representation of XML, supported by core
Racket.  See <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._xml%2Fxml..scrbl%29.%27._.%27top.%27%29%29&amp;version=7.4" class="Sq" data-pltdoc="x">the XML: Parsing and
Writing documentation</a>.</p></li><li><p>&ldquo;<span class="RktSym">html</span><span class="RktMeta"></span>&rdquo; &#8212;<wbr></wbr> An opaque representation of HTML, supported by core
Racket.  See <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._html%2Fhtml..scrbl%29.%27._.%27top.%27%29%29&amp;version=7.4" class="Sq" data-pltdoc="x">the HTML : Parsing
Library documentation</a>.</p></li></ul><p>Only the first two bulleted items above are considered &ldquo;SXML&rdquo; and discussed
further in this document.</p><h3 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;Tools&quot;">3<tt>&nbsp;</tt><a name="(part._.Tools)"></a>Tools</h3><p>The original SXML tools by Kiselyov, et al., are all provided by the Racket
<span class="RktSym">sxml</span><span class="RktMeta"></span> package:</p><ul><li><p><a href="https://docs.racket-lang.org/sxml/ssax.html">SSAX</a> &#8212;<wbr></wbr> Parsing
XML to SXML.</p></li><li><p><a href="https://docs.racket-lang.org/sxml/srl.html">SRL</a> &#8212;<wbr></wbr>
Serialization of SXML to XML.</p></li><li><p><a href="https://docs.racket-lang.org/sxml/sxpath.html">SXPath</a> &#8212;<wbr></wbr>
XPath-like querying of SXML.</p></li><li><p><a href="https://docs.racket-lang.org/sxml/sxslt.html">SXSLT</a> &#8212;<wbr></wbr>
XSLT-like transformation language for SXML.</p></li><li><p><a href="https://docs.racket-lang.org/sxml/SXML.html">SXML procedures</a>
&#8212;<wbr></wbr> Low-level procedures for working with SXML.</p></li></ul><p>General-purpose SXML-related tools by others include:</p><ul><li><p><a href="http://celtic.benderweb.net/sxml-match/"><span class="RktSym">sxml-match</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Pattern-matching of SXML, by Jim Bender.  (Currently only in PLaneT.)</p></li><li><p><a href="http://www.neilvandyke.org/racket/html-parsing/"><span class="RktSym">html-parsing</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Permissively parsing HTML to SXML.</p></li><li><p><a href="http://www.neilvandyke.org/racket/html-writing/"><span class="RktSym">html-writing</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Writing HTML from SXML.</p></li><li><p><a href="http://www.neilvandyke.org/racket/html-template/"><span class="RktSym">html-template</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Writing HTML from SXML, using a compile-time template language embedded in
Racket code, instead of run-time s-expressions.</p></li><li><p><a href="http://www.neilvandyke.org/racket/rws-html-template/"><span class="RktSym">rws-html-template</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Using compile-time HTML template with Racket Web Server.</p></li><li><p><a href="http://www.neilvandyke.org/racket/webscraperhelper/"><span class="RktSym">webscraperhelper</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Aid for developing SXPath queries from SXML examples.</p></li></ul><p>Packages that use SXML but are not general-purpose SXML tools:</p><ul><li><p><a href="http://www.neilvandyke.org/racket/kitco/"><span class="RktSym">kitco</span><span class="RktMeta"></span></a>
&#8212;<wbr></wbr> Getting financial price data, including in SXML format.</p></li></ul><p>If you&rsquo;ve written an SXML-related Racket tool not listed here, please contact
Neil.</p><h3 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;sxml-xexp&quot;">4<tt>&nbsp;</tt><a name="(part._sxml-xexp)"></a>Appendix: SXML/xexp</h3><p>&ldquo;SXML/xexp&rdquo; and &ldquo;<span class="RktSym">xexp</span><span class="RktMeta"></span>&rdquo; were intended to be temporary names, to
acknowledge that some tools were not strictly compliant with SXML.  These names
would be dropped once the SXML standard adopted the extensions and/or the tools
were modified to not use the extensions.  For example, the <span class="RktSym">html-parsing</span><span class="RktMeta"></span>
package currently provides a <span class="RktSym">html-&gt;xexp</span> procedure, and eventually a
later version of that package might provide a strictly-compliant
<span class="RktSym">html-&gt;sxml</span> procedure.  (In retrospect, the different names might have
caused more confusion than simply calling things &ldquo;SXML&rdquo; even when not
strictly compliant.)</p><p>The known differences of some &ldquo;SXML/xexp&rdquo; tools from strict SXML may include:</p><ul><li><p>Input must be ordered as in SXML first normal form (1NF).  For example,
any attributes list must precede child elements.</p></li><li><p>The SXML keyword symbols may be lowercase, such as <span class="RktVal">'</span><span class="RktVal">*TOP*</span> may be
<span class="RktVal">'</span><span class="RktVal">*top*</span>.  This difference is actually due to early ambiguity in the
standard, since some Scheme implementations at the time had case-insensitive
symbols.</p></li><li><p>Special <span class="RktVal">'</span><span class="RktVal">&amp;</span> syntax for character entity references, especially in
handwritten HTML encoded in SXML.  The syntax is <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">&amp;</span><span class="stt"> </span><span style="font-style: italic">val</span><span class="RktVal">)</span>, where <span style="font-style: italic">val</span> is the symbolic name of the character as a
symbol, or an integer with the numeric value of the character.  For example,
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">&amp;</span><span class="stt"> </span><span class="RktVal">rArr</span><span class="RktVal">)</span> or <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">&amp;</span><span class="stt"> </span><span class="RktVal">151</span><span class="RktVal">)</span>.  An early version of
<span class="RktSym">html-parsing</span><span class="RktMeta"></span> or HtmlPrag also permitted <span style="font-style: italic">val</span> to be a string.</p></li><li><p>Racket character literals can be used like string literals, for XML
CDATA.</p></li><li><p>For representing HTML, SXML that is non-CDATA-content within the HTML
<span class="stt">script</span> element may be treated as &ldquo;CDATA faux HTML&rdquo;, or PCDATA, to
support languages like Ractive.js.  (This was added to the <span class="RktSym">html-writing</span><span class="RktMeta"></span>
package, around version 4.0.)</p></li></ul><p>The above are itemized to document the known differences, not to encourage
their use.</p><h3 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;History&quot;">5<tt>&nbsp;</tt><a name="(part._.History)"></a>History</h3><ul><li><p><div class="SIntrapara">Version 1:3 &#8212;<wbr></wbr> 2016-04-03
</div><div class="SIntrapara"><ul><li><p>Added mention of CDATA faux HTML to SXML/xexp appendix.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 1:2 &#8212;<wbr></wbr> 2016-02-28
</div><div class="SIntrapara"><ul><li><p>Updated <span class="RktSym">webscraperhelper</span><span class="RktMeta"></span>, since moved from PLaneT to new package system.</p></li><li><p>Added mention of <span class="RktSym">kitco</span><span class="RktMeta"></span> package.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 1:1 &#8212;<wbr></wbr> 2016-02-25
</div><div class="SIntrapara"><ul><li><p>Replaced <span class="RktSym">web-server-xexp</span><span class="RktMeta"></span> PLaneT package with <span class="RktSym">rws-html-template</span><span class="RktMeta"></span>.</p></li><li><p>Added mention of SHTML.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 1:0 &#8212;<wbr></wbr> 2016-02-25
</div><div class="SIntrapara"><ul><li><p>Initial release.</p></li></ul></div></p></li></ul><h3 x-source-module="(lib &quot;sxml-intro/sxml-intro.scrbl&quot;)" x-source-pkg="sxml-intro" x-part-tag="&quot;Legal&quot;">6<tt>&nbsp;</tt><a name="(part._.Legal)"></a>Legal</h3><p>This document is Copyright 2016 Neil Van Dyke.  Licensed under the
<a href="https://www.gnu.org/licenses/lgpl.html">GNU Lesser General Public
License</a>, version 3 (LGPLv3).</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>