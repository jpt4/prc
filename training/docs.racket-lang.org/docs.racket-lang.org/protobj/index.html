<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>protobj: Prototype-Delegation Object Model</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">protobj:<span class="mywbr"> &nbsp;</span> Prototype-<wbr></wbr>Delegation Object Model</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Tour%29" class="tocviewlink" data-pltdoc="x">Tour</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Basic_.Interface%29" class="tocviewlink" data-pltdoc="x">Basic Interface</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Terse_.Syntax%29" class="tocviewlink" data-pltdoc="x">Terse Syntax</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Known_.Issues%29" class="tocviewlink" data-pltdoc="x">Known Issues</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.History%29" class="tocviewlink" data-pltdoc="x">History</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._.Legal%29" class="tocviewlink" data-pltdoc="x">Legal</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">protobj:<span class="mywbr"> &nbsp;</span> Prototype-<wbr></wbr>Delegation Object Model</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Tour%29" class="tocsubseclink" data-pltdoc="x">Tour</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Interface%29" class="tocsubseclink" data-pltdoc="x">Basic Interface</a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object?</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-parent%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>parent</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-set%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>set!</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-get%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>get</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-get%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>get</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-apply%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>apply</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-apply%2Fnoslot-thunk%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>apply/<span class="mywbr"> &nbsp;</span>noslot-<wbr></wbr>thunk</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-raw-clone%2Fno-slots-copy%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>raw-<wbr></wbr>clone/<span class="mywbr"> &nbsp;</span>no-<wbr></wbr>slots-<wbr></wbr>copy</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-raw-clone%2Fcopy-immed-slots%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>raw-<wbr></wbr>clone/<span class="mywbr"> &nbsp;</span>copy-<wbr></wbr>immed-<wbr></wbr>slots</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._object-raw-clone%2Fcopy-all-slots%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">object-<wbr></wbr>raw-<wbr></wbr>clone/<span class="mywbr"> &nbsp;</span>copy-<wbr></wbr>all-<wbr></wbr>slots</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._protobj%2Fmain..rkt%29._current-root-object%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">current-<wbr></wbr>root-<wbr></wbr>object</span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Terse_.Syntax%29" class="tocsubseclink" data-pltdoc="x">Terse Syntax</a></td></tr><tr><td><a href="#%28form._%28%28lib._protobj%2Fmain..rkt%29._~5e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">^</span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobj%2Fmain..rkt%29._%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">!</span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobj%2Fmain..rkt%29._~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">?</span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobj%2Fmain..rkt%29._~40%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">@</span></a></td></tr><tr><td><a href="#%28form._%28%28lib._protobj%2Fmain..rkt%29._~25%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">%</span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Known_.Issues%29" class="tocsubseclink" data-pltdoc="x">Known Issues</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.History%29" class="tocsubseclink" data-pltdoc="x">History</a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Legal%29" class="tocsubseclink" data-pltdoc="x">Legal</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">2:0</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._protobj__.Prototype-.Delegation_.Object_.Model)"></a><a name="(mod-path._protobj)"></a>protobj: Prototype-Delegation Object Model</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Neil Van Dyke</p></span></div><p><div class="SIntrapara"></div><div class="SIntrapara">License: <a href="#%28part._.Legal%29" class="plainlink" data-pltdoc="x">LGPLv3</a> <span class="hspace">&nbsp;</span> Web: <a href="http://www.neilvandyke.org/racket/protobj/" class="plainlink">http://www.neilvandyke.org/racket/protobj/</a>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">protobj</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/protobj" title="Install this package using `raco pkg install protobj`"><span class="stt">protobj</span></a></span></td></tr></table></div></p><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;Introduction&quot;">1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p><div class="SIntrapara">Protobj was a Scheme exercise, and is packaged for those curious,
not intended for practical use.  Protobj was written primarily as a <span class="RktSym">syntax-rules</span> learning exercise, and secondarily because people asked about
prototype object models for Scheme from time to time.</div><div class="SIntrapara">Protobj implements a simple prototype-delegation object model,
somewhat similar to that of <a href="http://www.selflanguage.org/_static/published/self-power.pdf">Self</a>, and also related to those of SLIB <span class="RktSym">object</span><span class="RktMeta"></span> and OScheme.  The Protobj library defines both a verbose set of
procedures, and terse special syntax.</div><div class="SIntrapara">Protobj is based on objects with named slots that can contain
arbitrary values.  Object have immediate slots, and single parent objects from
which additional slots are inherited.  When setting in a child object a slot
inherited from the parent, a new immediate slot is created in the child so that
the parent is unaffected and the slot is no longer inherited.</div><div class="SIntrapara">Methods are simply closures stored in slots.  When a method is
applied, the first term of the closure is the receiver object.  Unlike Self,
getting the contents of the slot is distinguished from invoking a method
contained in the slot.  This distinction was made due to the way first-class
closures are often used in Scheme.</div><div class="SIntrapara">An object is cloned by invoking the <span class="RktSym">clone</span><span class="RktMeta"></span> method.  The default root object&rsquo;s <span class="RktSym">clone</span><span class="RktMeta"></span> method creates a new child object without any immediate slots,
rather than copying any slots.  This behavior can be overridden to always copy
certain slots, to copy immediate slots, or to copy all inherited slots.  An
overriding <span class="RktSym">clone</span><span class="RktMeta"></span> method can be implemented to apply its parent&rsquo;s <span class="RktSym">clone</span><span class="RktMeta"></span> method to itself and then set certain slots in the new child
appropriately.</div><div class="SIntrapara">Protobj was originally writtin in R5RS, SRFI-9, SRFI-23, and
SRFI-39.</div></p><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;Tour&quot;">2<tt>&nbsp;</tt><a name="(part._.Tour)"></a>Tour</h3><p><div class="SIntrapara">The following is a quick tour of Protobj using the terse special syntax.</div><div class="SIntrapara"><ul><li><p><div class="SIntrapara">Bind <span class="RktSym">a</span> to the new object that is created by cloning the default root object (<span class="RktSym">%</span> is special syntax for invoking the <span class="RktSym">clone</span><span class="RktMeta"></span> method):</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p></li><li><p><div class="SIntrapara">Verify that <span class="RktSym">a</span> is an object and that <span class="RktSym">a</span>&rsquo;s parent is the default root object:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">object?</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#t</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">eq?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">^</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-root-object</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#t</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Add to <span class="RktSym">a</span> a slot named <span class="RktSym">x</span><span class="RktMeta"></span> with value <span class="RktVal">1</span>:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">!</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></p></blockquote></div></p></li><li><p><div class="SIntrapara">Get <span class="RktSym">a</span>&rsquo;s slot <span class="RktSym">x</span><span class="RktMeta"></span>&rsquo;s value:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Bind <span class="RktSym">b</span> to a clone of <span class="RktSym">a</span>:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p></li><li><p><div class="SIntrapara">Get <span class="RktSym">b</span>&rsquo;s slot <span class="RktSym">x</span><span class="RktMeta"></span>&rsquo;s value, which is inherited from <span class="RktSym">a</span>:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Set <span class="RktSym">a</span>&rsquo;s slot <span class="RktSym">x</span><span class="RktMeta"></span>&rsquo;s value to <span class="RktVal">42</span>, and observe that <span class="RktSym">b</span> inherits the new value:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">!</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">42</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">42</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Set <span class="RktSym">b</span>&rsquo;s slot <span class="RktSym">x</span><span class="RktMeta"></span>&rsquo;s value to <span class="RktVal">69</span>, and observe that <span class="RktSym">a</span> retains its own <span class="RktSym">x</span><span class="RktMeta"></span> value although &rsquo;s <span class="RktSym">x</span><span class="RktMeta"></span> value has been changed:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">!</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">69</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">42</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">69</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Add to <span class="RktSym">a</span> an <span class="RktSym">xplus</span><span class="RktMeta"></span> slot containing a closure that implements a method of the
object:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">!</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">xplus</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lambda</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">$</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">$</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p></li><li><p><div class="SIntrapara">Apply the method to the <span class="RktSym">a</span> and <span class="RktSym">b</span> objects (<span class="RktSym">b</span> inherits any new slots added to <span class="RktSym">a</span>):</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">@</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">xplus</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">49</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">@</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">xplus</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">76</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Observe the shorthand syntax for applying methods to an object
multiple times, with the syntax having the value of the lastmost application:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">@</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xplus</span><span class="hspace">&nbsp;</span><span class="RktVal">1000</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xplus</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">49</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Bind to <span class="RktSym">c</span> an object that clones <span class="RktSym">a</span> and adds slot <span class="RktSym">y</span><span class="RktMeta"></span> with value <span class="RktVal">101</span>:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">101</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p></li><li><p><div class="SIntrapara">Get the values of both the <span class="RktSym">x</span><span class="RktMeta"></span> and <span class="RktSym">y</span><span class="RktMeta"></span> slots of <span class="RktSym">c</span>:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">42<span class="stt"> </span>101</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara">Finally, bind <span class="RktSym">d</span> to a clone of <span class="RktSym">a</span> that overrides <span class="RktSym">a</span>&rsquo;s <span class="RktSym">x</span><span class="RktMeta"></span> slot:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">%</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">z</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1<span class="stt"> </span>2<span class="stt"> </span>3</span></td></tr></table></blockquote></div></p></li></ul></div></p><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;Basic_Interface&quot;">3<tt>&nbsp;</tt><a name="(part._.Basic_.Interface)"></a>Basic Interface</h3><p><div class="SIntrapara">The basic interface of Protobj is a set of procedures.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object~3f))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Predicate for whether or not <span class="RktVar">x</span> is a Protobj object.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-parent))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-parent</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">object?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr></table></blockquote></div><div class="SIntrapara">Yields the parent object of object <span class="RktVar">obj</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-set!))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-set!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">val</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Sets the slot identified by symbol <span class="RktVar">slot-symbol</span> in object <span class="RktVar">obj</span> to value <span class="RktVar">val</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-get))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-get</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot-symbol</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span></td></tr></table></blockquote></div><div class="SIntrapara">Yields the value of slot named by symbol <span class="RktVar">slot-symbol</span> in object <span class="RktVar">obj</span> (immediate or inherited).  If no slot of that name exists, an
error is signaled.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-get))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-get</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span><span class="RktVar">noslot-thunk</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">noslot-thunk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Yields the value of slot named by symbol <span class="RktVar">slot-symbol</span> in object <span class="RktVar">obj</span> (immediate or inherited), if any such slot exists.  If no slot
of that name exists, then yields the value of applying closure <span class="RktVar">noslot-thunk</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-apply))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-apply</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Applies the method (closure) in the slot named by <span class="RktVar">slot-symbol</span> of object <span class="RktVar">obj</span>.  The first term of the method is <span class="RktVar">obj</span>, and one or more <span class="RktVar">arg</span> are the remaining terms.  If no such slot exists, an error is
signaled.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-apply/noslot-thunk))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-apply/noslot-thunk</span></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">obj</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">noslot-thunk</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">slot-symbol</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym">any</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">noslot-thunk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">slot-symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">symbol?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym">object-apply</span>, except that, if the slot does not exist, instead of signaling
an error, the value is the result of applying <span class="RktVar">noslot-thunk</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-raw-clone/no-slots-copy))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-raw-clone/no-slots-copy</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-raw-clone/copy-immed-slots))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-raw-clone/copy-immed-slots</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr><tr><td><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._object-raw-clone/copy-all-slots))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">object-raw-clone/copy-all-slots</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">void?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr></table></blockquote></div><div class="SIntrapara">These procedures implement different ways of cloning an object,
and are generally bound as <span class="RktSym">clone</span><span class="RktMeta"></span> methods in root objects. <span class="RktSym">object-raw-clone/no-slots-copy</span> does not copy any slots, <span class="RktSym">object-raw-clone/copy-immed-slots</span> copes immediate slots, and <span class="RktSym">object-raw-clone/copy-all-slots</span> copies all slots including inherited ones.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._protobj/main..rkt)._current-root-object))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">current-root-object</span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">current-root-object</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">object?</span></td></tr></table></blockquote></div><div class="SIntrapara">Parameter for the default root object.  The initial value is a
root object that has <span class="RktSym">object-raw-clone/no-slots-copy</span> in its <span class="RktSym">clone</span><span class="RktMeta"></span> slot.</div></p><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;Terse_Syntax&quot;">4<tt>&nbsp;</tt><a name="(part._.Terse_.Syntax)"></a>Terse Syntax</h3><p><div class="SIntrapara">Since Protobj&rsquo;s raison d&rsquo;etre was to play with syntax, here it is.
Note that slot names are never quoted.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._protobj/main..rkt)._~5e))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">^</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">obj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">object?</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Parent of <span class="RktVar">obj</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._protobj/main..rkt)._!))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">!</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">!</span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">slot</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">obj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">object?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">slot</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">identifier?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">val</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">any/c</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Sets object <span class="RktVar">obj</span>&rsquo;s slot <span class="RktVar">slot</span>&rsquo;s value to <span class="RktVar">val</span>.  In the second form of this syntax, multiple slots of <span class="RktVar">obj</span> may be set at once, and are set in the order given.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._protobj/main..rkt)._~3f))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">obj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">object</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">slot</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">identifier?</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Yields the values of the given <span class="RktVar">slot</span>s of <span class="RktVar">obj</span>.  If more than one <span class="RktVar">slot</span> is given, a multiple-value return is used.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._protobj/main..rkt)._~40))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">@</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktVar">slot</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">@</span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">slot</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">obj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">object?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">slot</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">identifier?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">arg</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">any/c</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Applies <span class="RktVar">obj</span>&rsquo;s <span class="RktVar">slot</span> method, with <span class="RktVar">obj</span> as the first term and <span class="RktVar">arg</span>s as the remaining terms.  In the second form of this syntax,
multiple methods may be applied, and the value is the value of the last method
application.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._protobj/main..rkt)._~25))"></a><span title="Provided from: protobj | Package: protobj"><span class="RktSym"><span class="RktSymDef RktSym">%</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">slot</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">%</span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">obj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">object?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">slot</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">identifier?</span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">val</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">any/c</span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Clones object <span class="RktVar">obj</span>, binding any given <span class="RktVar">slot</span>s to respective given <span class="RktVar">val</span>s.</div></p><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;Known_Issues&quot;">5<tt>&nbsp;</tt><a name="(part._.Known_.Issues)"></a>Known Issues</h3><ul><li><p>Needs more units tests.</p></li></ul><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;History&quot;">6<tt>&nbsp;</tt><a name="(part._.History)"></a>History</h3><ul><li><p><div class="SIntrapara">Version 2:0 &#8212;<wbr></wbr> 2016-02-29</div><div class="SIntrapara"><ul><li><p>Moving from PLaneT to new package system.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 1:2</div><div class="SIntrapara">2011-11-08</div><div class="SIntrapara"><ul><li><p>Fixed <span class="RktSym">object?</span> not being exported.  (Thanks to Shviller for reporting.)</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 1:1 &#8212;<wbr></wbr> 2009-03-03</div><div class="SIntrapara"><ul><li><p>License is now LGPL 3.</p></li><li><p>Converted to authors new Scheme administration system.</p></li><li><p>Changed slot lists and slot pairs to be explicitly mutable, for PLT 4.x.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 1:0 &#8212;<wbr></wbr> 2005-06-19</div><div class="SIntrapara"><ul><li><p>Fixed bug in <span class="RktSym">%protobj:apply*</span><span class="RktMeta"></span> (thanks to Benedikt Rosenau for reporting).</p></li><li><p>Changed <span class="RktSym">$</span> syntax to <span class="RktSym">?</span>, so that <span class="RktSym">$</span> could be used for &ldquo;self&rdquo; in methods.</p></li><li><p>Documentation changes.</p></li></ul></div></p></li><li><p><div class="SIntrapara">Version 0.1 &#8212;<wbr></wbr> 2005-01-05</div><div class="SIntrapara"><ul><li><p>Initial release.</p></li></ul></div></p></li></ul><h3 x-source-module="(lib &quot;protobj/protobj.scrbl&quot;)" x-source-pkg="protobj" x-part-tag="&quot;Legal&quot;">7<tt>&nbsp;</tt><a name="(part._.Legal)"></a>Legal</h3><p>Copyright 2005, 2009, 2011, 2016 Neil Van Dyke.  This program is Free
Software; you can redistribute it and/or modify it under the terms of the GNU
Lesser General Public License as published by the Free Software Foundation;
either version 3 of the License, or (at your option) any later version.  This
program is distributed in the hope that it will be useful, but without any
warranty; without even the implied warranty of merchantability or fitness for a
particular purpose.  See http://www.gnu.org/licenses/ for details.  For other
licenses and consulting, please contact the author.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>