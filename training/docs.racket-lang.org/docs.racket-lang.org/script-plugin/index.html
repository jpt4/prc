<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Script Plugin for DrRacket</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Script Plugin for Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Some_demonstration_videos%29" class="tocviewlink" data-pltdoc="x">Some demonstration videos</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Installation%29" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Sample_scripts%29" class="tocviewlink" data-pltdoc="x">Sample scripts</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Make_your_own_script__.First_simple_example%29" class="tocviewlink" data-pltdoc="x">Make your own script:<span class="mywbr"> &nbsp;</span> First simple example</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.Description%29" class="tocviewlink" data-pltdoc="x">Description</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._.Scripts_directory%29" class="tocviewlink" data-pltdoc="x">Scripts directory</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="#%28part._.Updating_the_.Script_.Plugin_package%29" class="tocviewlink" data-pltdoc="x">Updating the Script Plugin package</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="#%28part._.License%29" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Script Plugin for Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Some_demonstration_videos%29" class="tocsubseclink" data-pltdoc="x">Some demonstration videos</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Sample_scripts%29" class="tocsubseclink" data-pltdoc="x">Sample scripts</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Make_your_own_script__.First_simple_example%29" class="tocsubseclink" data-pltdoc="x">Make your own script:<span class="mywbr"> &nbsp;</span> First simple example</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Description%29" class="tocsubseclink" data-pltdoc="x">Description</a></td></tr><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._.The__rkt_file%29" class="tocsubseclink" data-pltdoc="x">The .rkt file</a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._.The__rktd_file%29" class="tocsubseclink" data-pltdoc="x">The .rktd file</a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Scripts_directory%29" class="tocsubseclink" data-pltdoc="x">Scripts directory</a></td></tr><tr><td><span class="tocsublinknumber">8<tt>&nbsp;</tt></span><a href="#%28part._.Updating_the_.Script_.Plugin_package%29" class="tocsubseclink" data-pltdoc="x">Updating the Script Plugin package</a></td></tr><tr><td><span class="tocsublinknumber">9<tt>&nbsp;</tt></span><a href="#%28part._.License%29" class="tocsubseclink" data-pltdoc="x">License</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Script_.Plugin_for_.Dr.Racket)"></a>Script Plugin for DrRacket</h2><p><span class="Smaller">Laurent Orseau &lt;laurent dot orseauREMOVEME at gmail dot com&gt;</span></p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Introduction&quot;">1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>The Script Plugin is now superseded by <a href="https://docs.racket-lang.org/quickscript/index.html">Quickscript</a>.</p><p>The Script Plugin&rsquo;s purpose is to make it easy to extend DrRacket with small Racket scripts
that can be used in the definition (or interaction) window, or to graphically interact with the user.</p><p>Creating a new script is as easy as a click on a menu item.
Each script is automatically added as an item to the <span style="font-style: italic">Scripts</span> menu, without needing to restart DrRacket.
A keyboard shortcut can be assigned to a script (via the menu item).
By default, a script takes as input the currently selected text, and outputs the replacement text.
There is also direct access to some elements of DrRacket GUI for advanced scripting,
like DrRacket&rsquo;s frame and the definition or interaction editor.</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Some_demonstration_videos&quot;">2<tt>&nbsp;</tt><a name="(part._.Some_demonstration_videos)"></a>Some demonstration videos</h3><ul><li><p><a href="https://www.youtube.com/watch?v=KJjVREsgnvA">Tab indent plugin:</a> Word alignment</p></li><li><p><a href="https://www.youtube.com/watch?v=qgjAZd4eBBY">Abstract variable plugin:</a> Turn an expression into a definition</p></li></ul><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Installation&quot;">3<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h3><p><div class="SIntrapara">To install, either look for <span class="stt">script-plugin</span> in the DrRacket menu <span style="font-style: italic">File/Package Manager</span>,
or run the raco command </div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">raco pkg install script-plugin</span></div><div class="SIntrapara">.</div></p><p>A warning about <span class="RktVal">"item-callback"</span> may appear, you can safely ignore it.</p><p>(If the documentation does not build up correctly, run <span class="stt">raco pkg setup </span>--<span class="stt">doc-index</span>.)</p><p>You need to restart DrRacket. Now you should have a new item <span style="font-style: italic">Scripts</span> in the menu bar.</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Sample_scripts&quot;">4<tt>&nbsp;</tt><a name="(part._.Sample_scripts)"></a>Sample scripts</h3><ul><li><p>Auto-completion (see <span class="stt">"complete-word.rkt"</span>) based on some predefined snippets (particularly useful for forms like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span>).</p></li><li><p>Search and replace in the selected text, possibly using <a href="https://xkcd.com/208/">regular expressions</a>; some templates are also predefined
(see <span class="stt">"regexp-replace.rkt"</span>).</p></li><li><p>Dynamic abbrevation and word completion (see <span class="stt">"dabbrev.rkt"</span>):
 In the editor, removes the right-hand-side part of the current word at the cursor position if any,
and completes the left-hand-side word at the cursor position with the next possible
rhs word occuring in the text.
The cursor position is not modified, therefore by calling this procedure repeatedly,
it is possible to cycle among all the corresponding words.</p></li><li><p>Provided-by (see <span class="stt">"provided-by.rkt"</span>): place the cursor on a word, click on the <span class="stt">Provided by</span> menu item and a list of the packages
defining the corresponding form shows up.</p></li><li><p>Enter submodule (see <span class="stt">"enter-submod.rkt"</span>): Place the cursor at the prompt in the interaction window, then click on one of the items in the <span class="stt">Enter submodule</span> menu and press Enter; the corresponding submodule is now evaluated and entered.</p></li><li><p>Bookmarks (see <span class="stt">"bookmarks.rkt"</span>): Easily navigate your files
based on section comment headers (modify it to your liking!).</p></li><li><p>On-screen signature of the function at the cursor (see <span class="stt">"def-signatures.rkt"</span>, somewhat obsoleted by the blue boxes, but can show information about forms that are not in scope).</p></li><li><p>Commit/update files from repositories (see <span class="stt">"git.rkt"</span>).</p></li><li><p>Automatic reformatting and custom indentation (see <span class="stt">"indent-table.rkt"</span>), particularly useful for mid-line alignment.</p></li><li><p>ASCII frames and styling (upper-case, ASCII art, etc.) for comment titles, sections, etc. (see <span class="stt">"sections.rkt"</span>).</p></li><li><p>Automatic comments, e.g. with today&rsquo;s date, user name, licenses, etc. (see <span class="stt">"author-date.rkt"</span>).</p></li><li><p>Color chooser: Opens the color chooser and writes a string constructing an RGB color with <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=draw&amp;rel=Drawing_Functions.html%23%2528def._%2528%2528lib._racket%252Fdraw..rkt%2529._make-color%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">make-color</a></span> (see <span class="stt">"color-chooser.rkt"</span>).</p></li><li><p>Open the directory of the current file in the editor (see <span class="stt">"open-dir.rkt"</span>.)</p></li><li><p>Open a terminal in the directory of the current file in DrRacket (see <span class="stt">"open-terminal.rkt"</span>.)</p></li><li><p>Easily open a core Racket file in DrRacket (see <span class="stt">"open-collects.rkt"</span>).</p></li><li><p>Turn DrRacket into a very rich text editor with <span class="RktSym">slideshow</span> (see <span class="stt">"test-slideshow.rkt"</span>).</p></li><li><p>Add your own menus and scripts to DrRacket (see <span class="stt">"test-menu.rkt"</span>).</p></li><li><p>...</p></li></ul><p>You can easily modify all these scripts through <span style="font-style: italic">Scripts/Manage scripts/Open script</span> and <span style="font-style: italic">Open script properties</span>.</p><p>You made a cool script that you&rsquo;d like to share? Why not sending me a pull request on <a href="https://github.com/Metaxal/script-plugin">github</a>, or if you don&rsquo;t know how that works just send me your files by email and I&rsquo;ll probably include them!</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Make_your_own_script__First_simple_example&quot;">5<tt>&nbsp;</tt><a name="(part._.Make_your_own_script__.First_simple_example)"></a>Make your own script: First simple example</h3><p>Click on the <span style="font-style: italic">Scripts/Manage scripts/New script...</span> menu item, and enter <span style="font-style: italic">Reverse</span> for the script name.
This creates and opens the files reverse.rkt and reverse.rktd in the script directory.
Also, a new item automatically appears in the <span style="font-style: italic">Scripts</span> menu.</p><p><div class="SIntrapara">In the .rkt file that just opened in DrRacket, modify the <span class="RktSym">item-callback</span> function to the following:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">item-callback</span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">and save the file.
(Note: if you changed the properties file, you will need to reload the menu by clicking on
<span style="font-style: italic">Scripts/Manage scripts/Reload scripts menu</span>).</div></p><p>Then go to a new tab, type some text, select it, and click on <span style="font-style: italic">Scripts/Reverse</span>, and voil&#224;!</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Description&quot;">6<tt>&nbsp;</tt><a name="(part._.Description)"></a>Description</h3><p>The plugin adds a <span style="font-style: italic">Scripts</span> menu to the main window.
This menu has several items, followed by the (initially empty) list of active
scripts.</p><p><div class="SIntrapara">The <span style="font-style: italic">New script</span> item asks for a script name and creates 2 files:
</div><div class="SIntrapara"><ul><li><p>a .rkt file, the script itself (filled with a default script template),</p></li><li><p>a .rktd file, the metadata of the script with the default values.</p></li></ul></div><div class="SIntrapara">These two files are automatically opened in DrRacket for edition.</div></p><p>The script menu is rebuilt each time the user activates it, so that changes
are taken into account as soon as possible.</p><h4 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;The__rkt_file&quot;">6.1<tt>&nbsp;</tt><a name="(part._.The__rkt_file)"></a>The .rkt file</h4><p>This is the script file.
It must provide the <span class="RktSym">item-callback</span> function,
as in the sample code.
It is meant to be executable by itself, as a normal module, to ease the testing process.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><span class="RktSymDef RktSym">item-callback</span></span><span class="hspace">&nbsp;</span><span class="RktVar">str</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Object_and_Class_Contracts.html%23%2528def._%2528%2528lib._racket%252Fclass..rkt%2529._is-a%7E3f%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=snip_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">snip%</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">str</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the string meant to be inserted in place of the current selection,
or at the cursor if there is no selection.
If the returned value is not a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string</a></span> or a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=snip_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">snip%</a></span>,
the selection is not modified (i.e., the file remains in a saved state if it was already saved).</div></p><p><div class="SIntrapara">This function signature can also be extended by (optional or mandatory) special keyword arguments:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">#:file</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">path?</a></span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span></p><p>The path to the current file of the definition window, or <span class="RktVal">#f</span>
if there is no such file (i.e., unsaved editor).</p><p><div class="SIntrapara"><span style="font-weight: bold">Example:</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">item-callback</span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="hspace">&nbsp;</span><span class="RktPn">#:file</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-append%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(in "</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">path-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"no-file"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">": "</span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>See also: <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=More_Path_Utilities.html%23%2528def._%2528%2528lib._racket%252Fpath..rkt%2529._file-name-from-path%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">file-name-from-path</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=More_Path_Utilities.html%23%2528def._%2528%2528lib._racket%252Fpath..rkt%2529._filename-extension%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">filename-extension</a></span>,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">path-&gt;string</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._split-path%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">split-path</a></span>.</p></li><li><p><span class="RktPn">#:definitions</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span></p><p>The <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> editor of the current definition window.</p><p><span style="font-weight: bold">Example:</span> <span class="stt">"insert-lambda.rkt"</span></p><p>See <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> for more details.</p></li><li><p><span class="RktPn">#:interactions</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span></p><p>The <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> editor of the current interaction window.
Similar to <span class="RktPn">#:definitions</span>.</p></li><li><p><span class="RktPn">#:editor</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span></p><p>The <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> current editor, either the definition or the interaction editor.
Similar to <span class="RktPn">#:definitions</span>.</p></li><li><p><span class="RktPn">#:frame</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=tools&amp;rel=drracket_unit.html%23%2528def._%2528%2528lib._drracket%252Ftool-lib..rkt%2529._drracket%7E3aunit%7E3aframe%7E3c%7E25%7E3e%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">drracket:unit:frame&lt;%&gt;</a></span></p><p>DrRacket&rsquo;s frame.
For advanced scripting.</p><p><div class="SIntrapara"><span style="font-weight: bold">Example:</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">item-callback</span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="hspace">&nbsp;</span><span class="RktPn">#:frame</span><span class="hspace">&nbsp;</span><span class="RktSym">fr</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fr</span><span class="hspace">&nbsp;</span><span class="RktSym">create-new-tab</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></li></ul></div></p><p>The name of the function can also be changed,
but this requires to change it also in the <span class="RktSym">functions</span>
entry of the .rktd file (see below), and the function must be <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">provide</a></span>d.</p><h4 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;The__rktd_file&quot;">6.2<tt>&nbsp;</tt><a name="(part._.The__rktd_file)"></a>The .rktd file</h4><p>This is the metadata file.
It contains an association list dictionary that defines the configuration of the script.</p><p><span style="font-weight: bold">Note:</span> <span style="font-style: italic">This file being a data file, it should almost never contain quotes. The quotes in the following definitions must thus not appear in the file.</span></p><p>Most entries (<span class="RktSym">label</span>, <span class="RktSym">shortcut</span>, <span class="RktSym">shortcut-prefix</span>, <span class="RktSym">help-string</span>) are the same as
for the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=menu-item_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">menu-item%</a></span> constructor.
In particular, a keyboard shortcut can be assigned to an item.</p><p>Additionally, if the <span class="RktSym">label</span> is <span class="RktVal">'</span><span class="RktVal">separator</span>, then a separator is added in the menu.</p><p>If an entry does not appear in the dictionary, it takes its default value.</p><p><div class="SIntrapara">There are some additional entries:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">functions</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._list%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list/c</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=symbols.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._symbol%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">symbol?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktSym">item-callback</span></p><p>If a symbol, it is the name of the function to call (which must be provided),
 and it must follow <span class="RktSym">item-callback</span>&rsquo;s signature (with potential extensions).</p><p>If a list, each symbol is the name of a function, and each string is a label for that function.
 In this case, a sub-menu holding all these functions is created,
 and the <span class="RktSym">label</span> option is used as the parent menu name.</p><p>Note that a sub-menu can be shared among scripts.</p><p><span style="font-weight: bold">Example:</span></p><p><div class="SIntrapara">The following .rktd file creates a sub-menu named <span style="font-style: italic">My Functions</span> (with the letter F for keyboard access),
 containing 3 items, one for each function and its associated letter-accessor.
 </div><div class="SIntrapara"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"my-functions.rktd"</span></span></p><blockquote class="Rfilecontent"></blockquote></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">label</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"My</span><span class="hspace">&nbsp;</span><span class="RktVal">&amp;Functions"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">functions</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">my-function1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"My</span><span class="hspace">&nbsp;</span><span class="RktVal">Function</span><span class="hspace">&nbsp;</span><span class="RktVal">#&amp;1"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">my-function2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"My</span><span class="hspace">&nbsp;</span><span class="RktVal">Function</span><span class="hspace">&nbsp;</span><span class="RktVal">#&amp;2"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">my-function3</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"My</span><span class="hspace">&nbsp;</span><span class="RktVal">Function</span><span class="hspace">&nbsp;</span><span class="RktVal">#&amp;3"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">output-to</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">active</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">And the associated .rkt example file:
 </div><div class="SIntrapara"><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">"my-functions.rkt"</span></span></p><blockquote class="Rfilecontent"></blockquote></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">my-function1</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">my-function1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"1"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">my-function2</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">my-function2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"2"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._provide%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">provide</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">my-function3</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">my-function3</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"3"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr></table></blockquote></div></p><p><span style="font-weight: bold">Note:</span> The <span class="RktSym">label</span> can also be <span class="RktVal">'</span><span class="RktVal">separator</span>.</p></li><li><p><span class="RktSym">output-to</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._one-of%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">one-of/c</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">selection</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">new-tab</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">message-box</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">selection</span></p><p>If <span class="RktVal">'</span><span class="RktVal">selection</span>, the output of the <span class="RktSym">item-callback</span> function replaces the
 selection in the current tab, or insert at the cursor if there is no
 selection.
 If <span class="RktVal">'</span><span class="RktVal">new-tab</span>, a new tab is created and the output of the function is written to it.
 If <span class="RktVal">'</span><span class="RktVal">message-box</span>, the output is displayed in a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span>.
 If <span class="RktVal">#f</span>, no output is generated.</p></li><li><p><span class="RktSym">persistent</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">#f</span></p><p>If not persistent, each time a script is invoked, it is done so in a fresh namespace
 (so that less memory is used, at the expense of a slight time overhead).
 In particular, all variables are reset to their initial state.</p><p>On the contrary, if a script is persistent, a fresh namespace is created only
 the first time it is invoked, and the same namespace is re-used for the subsequent invocations.</p><p><div class="SIntrapara">Consider the following script:
 </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=index.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">racket/base</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">item-callback</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">str</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=set_.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._set%2521%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">set!</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">number-&gt;string</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></p><p>If the script is persistent, the counter increases at each invocation of the script via the menu,
 whereas it always displays 1 if the script is not persistent.</p><p>Note: Persistent scripts can be "unloaded" by clicking on the <span style="font-style: italic">Scripts/Manage scripts/Unload persistent scripts</span> menu item.
 In the previous example, this will reset the counter.</p></li><li><p><span class="RktSym">active</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktVal">#t</span></p><p>If set to <span class="RktVal">#f</span>, no menu item is generated for this dictionary.</p></li></ul></div></p><p>Finally, one .rktd file can contain several such dictionaries (one after the other),
which allows for multiple sub-menus and menu items and in a single script.
This would have roughly the same effect as splitting such a script into several scripts,
each one with its own .rktd file and its single dictionary.</p><p>If any change is made to a .rktd file, the Scripts menu will probably need to be reloaded:
Click on <span style="font-style: italic">Scripts/Manage scripts/Reload scripts menu</span>.</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Scripts_directory&quot;">7<tt>&nbsp;</tt><a name="(part._.Scripts_directory)"></a>Scripts directory</h3><p>The default location of the user&rsquo;s scripts is in a sub-folder of
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Filesystem.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._find-system-path%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">find-system-path</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">pref-dir</span><span class="RktPn">)</span>.
The directory of the user&rsquo;s scripts can be changed through DrRacket&rsquo;s preferences
(in <span style="font-style: italic">Edit/Preferences/Scripts</span>).
<span style="font-weight: bold">Important:</span> The user&rsquo;s script directory must have write-access for the user
(which should be the case for the default settings).</p><p>The <span style="font-style: italic">Import bundled script</span> item is useful to either restore a bundled script to its initial contents if you have made changes,
or import new scripts after an update of the plugin.</p><p>Note: Bundled scripts are automatically copied from the plugin directory
to the user script directory on installation.
To force the recopy of all bundled scripts,
just delete the user script directory (itself, not only its contents) and restart DrRacket.</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;Updating_the_Script_Plugin_package&quot;">8<tt>&nbsp;</tt><a name="(part._.Updating_the_.Script_.Plugin_package)"></a>Updating the Script Plugin package</h3><p>To update the Script Plugin once already installed,
either do so through the <span style="font-style: italic">File/Package Manager</span> menu in DrRacket,
or run <span class="stt">raco pkg update script-plugin</span>.</p><p>The user&rsquo;s scripts will not be modified in the process.
There may be new bundled scripts or new versions of some bundled scripts in the new package; they won&rsquo;t be (re)installed by default in the user&rsquo;s space.
To (re)install them, import them with the <span style="font-style: italic">Import bundled script</span> menu item.
To import all bundled scripts at once, delete or rename the user script directory and restart DrRacket;
the directory will be recreated with all bundled scripts (then move your own scripts from the renamed folder to this new one if you had moved them).</p><p>Some scripts are persistent (like the <span class="stt">"def-signatures"</span> one) and
require to click on the <span style="font-style: italic">Unload persistent scripts</span> menu item for the changes to take effect.</p><h3 x-source-module="(lib &quot;script-plugin/scribblings/script-plugin.scrbl&quot;)" x-source-pkg="script-plugin" x-part-tag="&quot;License&quot;">9<tt>&nbsp;</tt><a name="(part._.License)"></a>License</h3><p>MIT License</p><p>Copyright (c) 2012 by <a href="mailto:laurent.orseauREMOVEME@gmail.com">Laurent Orseau &lt;laurent.orseauREMOVEME@gmail.com&gt;</a>.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>