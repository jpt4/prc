<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Quickscript, a scripting plugin for DrRacket</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Quickscript, a scripting plugin for Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Installation%29" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Make_your_own_script__.First_simple_example%29" class="tocviewlink" data-pltdoc="x">Make your own script:<span class="mywbr"> &nbsp;</span> First simple example</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Into_more_details%29" class="tocviewlink" data-pltdoc="x">Into more details</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Script_library%29" class="tocviewlink" data-pltdoc="x">Script library</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.Shadow_scripts%29" class="tocviewlink" data-pltdoc="x">Shadow scripts</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._.Updating_the_quickscript_package%29" class="tocviewlink" data-pltdoc="x">Updating the quickscript package</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="#%28part._.License%29" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">Quickscript, a scripting plugin for Dr<span class="mywbr"> &nbsp;</span>Racket</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Quickscript_.Extra%29" class="tocsubseclink" data-pltdoc="x">Quickscript Extra</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Make_your_own_script__.First_simple_example%29" class="tocsubseclink" data-pltdoc="x">Make your own script:<span class="mywbr"> &nbsp;</span> First simple example</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Into_more_details%29" class="tocsubseclink" data-pltdoc="x">Into more details</a></td></tr><tr><td><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>script</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.The_script_s_procedure%29" class="tocsubseclink" data-pltdoc="x">The script&rsquo;s procedure</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.The_script_s_properties%29" class="tocsubseclink" data-pltdoc="x">The script&rsquo;s properties</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Script_library%29" class="tocsubseclink" data-pltdoc="x">Script library</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Shadow_scripts%29" class="tocsubseclink" data-pltdoc="x">Shadow scripts</a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Updating_the_quickscript_package%29" class="tocsubseclink" data-pltdoc="x">Updating the quickscript package</a></td></tr><tr><td><span class="tocsublinknumber">8<tt>&nbsp;</tt></span><a href="#%28part._.License%29" class="tocsubseclink" data-pltdoc="x">License</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._.Quickscript__a_scripting_plugin_for_.Dr.Racket)"></a>Quickscript, a scripting plugin for DrRacket</h2><p><span class="Smaller">Laurent Orseau &lt;<a href="mailto:laurent.orseau@gmail.com">laurent.orseau@gmail.com</a>&gt;</span></p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Introduction&quot;">1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>Quickscript&rsquo;s purpose is to make it easy to extend DrRacket with small Racket scripts
that can be used in the definition (or interaction) window, or to graphically interact with the user.</p><p>Creating a new script is as easy as a click on a menu item.
Each script is automatically added as an item to the <span style="font-style: italic">Scripts</span> menu, without needing to restart DrRacket.
A keyboard shortcut can be assigned to a script (via the menu item).
By default, a script takes as input the currently selected text, and outputs the replacement text.
There is also direct access to some elements of DrRacket GUI for advanced scripting,
like DrRacket&rsquo;s frame and the definition or interaction editor.</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Installation&quot;">2<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h3><p><div class="SIntrapara">To install, either look for <span class="stt">quickscript</span> in the DrRacket menu <span style="font-style: italic">File|Package Manager</span>,
or run the raco command:
</div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">raco pkg install quickscript</span></div></p><p>You need to restart DrRacket. Now you should have a new item <span style="font-style: italic">Scripts</span> in the menu bar.</p><h4 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Quickscript_Extra&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Quickscript_.Extra)"></a>Quickscript Extra</h4><p>You can use Quickscript on its own, but the Quickscript Extra package has a wide range of useful scripts as well as some
example scripts intended for customisation by the user.</p><p><div class="SIntrapara">To install it, either look for <span class="stt">quickscript-extra</span> in the DrRacket menu <span style="font-style: italic">File|Package Manager</span>,
or run the raco command:
</div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">raco pkg install quickscript-extra</span></div></p><p><div class="SIntrapara">To activate you will need to register the new list of scripts in quickscript either by evaluating in DrRacket:
</div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(require quickscript-extra/register)</span></div></p><p>or on the command line with</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">$ racket -l quickscript-extra/register</span></p><p>Then click on <span style="font-style: italic">Scripts|Manage scripts|Compile scripts and reload</span>. (There is no need to restart DrRacket.)</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Make_your_own_script__First_simple_example&quot;">3<tt>&nbsp;</tt><a name="(part._.Make_your_own_script__.First_simple_example)"></a>Make your own script: First simple example</h3><p>Click on the <span style="font-style: italic">Scripts|Manage scripts|New script...</span> menu item, and enter <span style="font-style: italic">Reverse</span> for the script name.
This creates and opens the file reverse.rkt in the user&rsquo;s scripts directory.
Also, a new item automatically appears in the <span style="font-style: italic">Scripts</span> menu.</p><p><div class="SIntrapara">In the .rkt file that just opened in DrRacket, modify the <span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span> definition to the following:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:label</span><span class="hspace">&nbsp;</span><span class="RktVal">"Reverse"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-%7E3elist%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">selection</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">and save the file.
(Note: if you later change the <span class="RktSym">label</span> property, you will need to reload the menu by clicking on
<span style="font-style: italic">Scripts|Manage scripts|Reload scripts menu</span> after saving the file).</div></p><p>Then go to a new tab, type some text, select it, and click on <span style="font-style: italic">Scripts|Reverse</span>, and voil&#224;!</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Into_more_details&quot;">4<tt>&nbsp;</tt><a name="(part._.Into_more_details)"></a><a name="(mod-path._quickscript)"></a>Into more details</h3><p>Quickscript adds a <span style="font-style: italic">Scripts</span> menu to the main DrRacket window.
This menu has several items, followed by the list of scripts.</p><p>The <span style="font-style: italic">New script</span> item asks for a script name and creates a corresponding .rkt file
in the user&rsquo;s script directory, and opens it in DrRacket.</p><p>Each scripts is defined with <span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span>, which among other things adds an entry in DrRacket&rsquo;s Scripts menu.
A single script file can contain several calls to <span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span>.</p><p><div class="SIntrapara">By default, the new script is reduced to its simplest form.
However, scripts can be extended with several optional <span style="font-style: italic">properties</span> and <span style="font-style: italic">arguments</span>.
When all of them are used, a script can look like this:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-complete-script</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Properties:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:label</span><span class="hspace">&nbsp;</span><span class="RktVal">"Full script"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:help-string</span><span class="hspace">&nbsp;</span><span class="RktVal">"A complete script showing all properties and arguments"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:menu-path</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">"Submenu"</span><span class="hspace">&nbsp;</span><span class="RktVal">"Subsubmenu"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:shortcut</span><span class="hspace">&nbsp;</span><span class="RktVal">#\a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:shortcut-prefix</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ctl</span><span class="hspace">&nbsp;</span><span class="RktSym">shift</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:output-to</span><span class="hspace">&nbsp;</span><span class="RktSym">selection</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:persistent</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:os-types</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">unix</span><span class="hspace">&nbsp;</span><span class="RktSym">macosx</span><span class="hspace">&nbsp;</span><span class="RktSym">windows</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Procedure with its arguments:</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="hspace">&nbsp;</span><span class="RktPn">#:frame</span><span class="hspace">&nbsp;</span><span class="RktSym">fr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:editor</span><span class="hspace">&nbsp;</span><span class="RktSym">ed</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:definitions</span><span class="hspace">&nbsp;</span><span class="RktSym">defs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:interactions</span><span class="hspace">&nbsp;</span><span class="RktSym">ints</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:file</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Hello world!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Note that the arguments of the properties are literals, not expressions, so they must <span style="font-style: italic">not</span> be quoted.
Below we detail first the procedure and its arguments and then the script&rsquo;s properties.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._quickscript%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">quickscript</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/quickscript" title="Install this package using `raco pkg install quickscript`"><span class="stt">quickscript</span></a></span></td></tr></table></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._quickscript/main..rkt)._define-script))"></a><span title="Provided from: quickscript | Package: quickscript"><span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-script</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">property</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">property</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:label</span><span class="hspace">&nbsp;</span><span class="RktVar">label-string</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:help-string</span><span class="hspace">&nbsp;</span><span class="RktVar">string</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:menu-path</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">label-string</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:shortcut</span><span class="hspace">&nbsp;</span><span class="RktVar">char</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:shortcut-prefix</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">shortcut-prefix</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:persistent?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:output-to</span><span class="hspace">&nbsp;</span><span class="RktVar">output-to</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:os-types</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">os-type</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">shortcut-prefix</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">alt</span> | <span class="RktSym">cmd</span> | <span class="RktSym">meta</span> | <span class="RktSym">ctl</span> | <span class="RktSym">shift</span> | <span class="RktSym">option</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">output-to</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">selection</span> | <span class="RktSym">new-tab</span> | <span class="RktSym">message-box</span> | <span class="RktSym">clipboard</span> | <span class="RktVal">#f</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">os-type</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">macosx</span> | <span class="RktSym">unix</span> | <span class="RktSym">windows</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">proc</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">&#955;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">selection-id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:editor</span><span class="hspace">&nbsp;</span><span class="RktVar">editor-id</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:definitions</span><span class="hspace">&nbsp;</span><span class="RktVar">definitions-id</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:interactions</span><span class="hspace">&nbsp;</span><span class="RktVar">interactions-id</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:frame</span><span class="hspace">&nbsp;</span><span class="RktVar">frame-id</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">#:file</span><span class="hspace">&nbsp;</span><span class="RktVar">file-id</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">return-expr</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">See the following subsections for a complete description.</div></p><p>Observe again that the arguments of the properties are literals and not expressions.
This is because the script file is read twice for different purposes.
The first time, Quickscript reads the script file to extract the minimum information necessary to build the menu items in DrRacket.
No Racket operation is performed at this stage so as to be as light and quick as possible.
Then, when the corresponding menu item is clicked, Quickscript reads the script file a second time, this time to actually read and visit the Racket module and call the corresponding procedure.
That is, the script modules are instantiated only on demand to reduce the loading time and memory footprint.</p><h4 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;The_script_s_procedure&quot;">4.1<tt>&nbsp;</tt><a name="(part._.The_script_s_procedure)"></a>The script&rsquo;s procedure</h4><p>When clicking on a script label in the Scripts menu in DrRacket,
its corresponding procedure is called.
The procedure takes at least the <span class="RktSym">selection</span> argument, which is the string that is currently
selected in the current editor.
The procedure must returns either <span class="RktVal">#f</span> or a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span>.
If it returns <span class="RktVal">#f</span>, no change is applied to the current editor, but if it returns a string,
then the current selection is replace with the return value.</p><p><div class="SIntrapara">If some of the above keywords are specified in the procedure, the Script Plugin detects them and passes the
corresponding values, so the procedure can take various forms:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">....</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="hspace">&nbsp;</span><span class="RktPn">#:frame</span><span class="hspace">&nbsp;</span><span class="RktSym">fr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">....</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="hspace">&nbsp;</span><span class="RktPn">#:file</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">....</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="hspace">&nbsp;</span><span class="RktPn">#:editor</span><span class="hspace">&nbsp;</span><span class="RktSym">ed</span><span class="hspace">&nbsp;</span><span class="RktPn">#:file</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">....</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktSym">....</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Here is the meaning of the keyword arguments:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">#:file</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">path?</a></span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span></p><p>The path to the current file of the definition window, or <span class="RktVal">#f</span>
if there is no such file (i.e., unsaved editor).</p><p><div class="SIntrapara"><span style="font-weight: bold">Example:</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span><span class="hspace">&nbsp;</span><span class="RktSym">current-file-example</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:label</span><span class="hspace">&nbsp;</span><span class="RktVal">"Current file example"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:output-to</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="hspace">&nbsp;</span><span class="RktPn">#:file</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-append%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"File: "</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">path-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"no-file"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"\nSelection: "</span><span class="hspace">&nbsp;</span><span class="RktSym">selection</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>See also: <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=More_Path_Utilities.html%23%2528def._%2528%2528lib._racket%252Fpath..rkt%2529._file-name-from-path%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">file-name-from-path</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=More_Path_Utilities.html%23%2528def._%2528%2528lib._racket%252Fpath..rkt%2529._filename-extension%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">filename-extension</a></span>,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">path-&gt;string</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._split-path%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">split-path</a></span>.</p></li><li><p><span class="RktPn">#:definitions</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span></p><p>The <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> editor of the current definition window.
See <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> for more details.</p></li><li><p><span class="RktPn">#:interactions</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span></p><p>The <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> editor of the current interaction window.
Similar to <span class="RktPn">#:definitions</span>.</p></li><li><p><span class="RktPn">#:editor</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span></p><p>The <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=text_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">text%</a></span> current editor, either the definition or the interaction editor.
Similar to <span class="RktPn">#:definitions</span>.</p></li><li><p><span class="RktPn">#:frame</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=tools&amp;rel=drracket_unit.html%23%2528def._%2528%2528lib._drracket%252Ftool-lib..rkt%2529._drracket%7E3aunit%7E3aframe%7E3c%7E25%7E3e%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">drracket:unit:frame&lt;%&gt;</a></span></p><p>DrRacket&rsquo;s frame.
For advanced scripting.</p><p><div class="SIntrapara"><span style="font-weight: bold">Example:</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/class</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span><span class="hspace">&nbsp;</span><span class="RktSym">number-tabs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:label</span><span class="hspace">&nbsp;</span><span class="RktVal">"Number of tabs"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:output-to</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="hspace">&nbsp;</span><span class="RktPn">#:frame</span><span class="hspace">&nbsp;</span><span class="RktSym">fr</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._format%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Number of tabs in DrRacket: ~a"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=ivaraccess.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fclass-internal..rkt%2529._send%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">send</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fr</span><span class="hspace">&nbsp;</span><span class="RktSym">get-tab-count</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></li></ul></div></p><h4 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;The_script_s_properties&quot;">4.2<tt>&nbsp;</tt><a name="(part._.The_script_s_properties)"></a>The script&rsquo;s properties</h4><p>The properties are mere data and cannot contain expressions.</p><p>Most properties (<span class="RktPn">#:label</span>, <span class="RktPn">#:shortcut</span>, <span class="RktPn">#:shortcut-prefix</span>, <span class="RktPn">#:help-string</span>) are the same as
for the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=menu-item_.html&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">menu-item%</a></span> constructor.
In particular, a keyboard shortcut can be assigned to an item.</p><p>If a property does not appear in the dictionary, it takes its default value.</p><p><div class="SIntrapara">There are some additional properties:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">#:menu-path</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span>
This is the list of submenus in which the script&rsquo;s label will be placed,
under the Script menu.</p><p>Note that different scripts in different files can share the same submenus.</p></li><li><p><span class="RktPn">#:output-to</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="stt"> </span><span class="RktSym">selection</span><span class="stt"> </span><span class="RktSym">new-tab</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span><span class="stt"> </span><span class="RktSym">clipboard</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="stt"> </span><span class="RktSym">selection</span></p><p>If <span class="RktSym">selection</span>, the output of the procedure replaces the
selection in the current editor (definitions or interactions),
or insert the output at the cursor if there is no selection.
If <span class="RktSym">new-tab</span>, the return value is written in a new tab.
If <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span>, the return value (if a string) is displayed in a <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span>.
If <span class="RktSym">clipboard</span>, the return value (if a string) is copied to the clipboard.
If <span class="RktVal">#f</span>, the return value is not used.</p></li><li><p><span class="RktPn">#:persistent</span></p><p>If they keyword <span class="RktPn">#:persistent</span> is <span style="font-style: italic">not</span> provided,
each invocation of the script is done in a fresh namespace
that is discarded when the procedure finishes.</p><p>But if <span class="RktPn">#:persistent</span> is provided, a fresh namespace is created only
the first time it is invoked, and the same namespace is re-used for the subsequent invocations.
Note that a single namespace is kept per file, so if different scripts in the same file
are marked as persistent, they will all share the same namespace (and, thus, variables).
Also note that a script marked as non-persistent will not share the same namespace as
the other scripts of the same file marked as persistent.</p><p><div class="SIntrapara">Consider the following script:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._quickscript%2Fmain..rkt%29._define-script%29%29" class="RktStxLink" data-pltdoc="x">define-script</a></span><span class="hspace">&nbsp;</span><span class="RktSym">persistent-counter</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:label</span><span class="hspace">&nbsp;</span><span class="RktVal">"Persistent counter"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:persistent</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:output-to</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=gui&amp;rel=Windowing_Functions.html%23%2528def._%2528%2528lib._mred%252Fmain..rkt%2529._message-box%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">message-box</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._%7Ece%7Ebb%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">selection</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=set_.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._set%2521%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number-%7E3estring%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Flist..rkt%2529._count%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">count</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>If the script is persistent, the counter increases at each invocation of the script via the menu,
whereas it always displays 1 if the script is not persistent.</p><p>Note: Persistent scripts can be "unloaded" by clicking on the <span style="font-style: italic">Scripts|Manage scripts|Unload persistent scripts</span> menu item.
In the previous example, this will reset the counter.</p></li><li><p><span class="RktPn">#:os-types</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._listof%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._one-of%252Fc%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">one-of/c</a></span><span class="stt"> </span><span class="RktSym">unix</span><span class="stt"> </span><span class="RktSym">macosx</span><span class="stt"> </span><span class="RktSym">windows</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>This keyword must be followed by a list of supported os-types.
Defaults to all types, i.e. <span class="RktPn">(</span><span class="RktSym">unix</span><span class="stt"> </span><span class="RktSym">macosx</span><span class="stt"> </span><span class="RktSym">windows</span><span class="RktPn">)</span>.</p></li></ul></div></p><p>If changes are made to these properties, the Scripts menu will probably need to be reloaded
by clicking on <span style="font-style: italic">Scripts|Manage scripts|Reload scripts menu</span>.</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Script_library&quot;">5<tt>&nbsp;</tt><a name="(part._.Script_library)"></a>Script library</h3><p>When the user creates a new script, the latter is placed into a sub-directory of
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Filesystem.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._find-system-path%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">find-system-path</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">pref-dir</span><span class="RktPn">)</span>.
A direct access to this folder is provided via the <span style="font-style: italic">Scripts|Manage scripts|Open script...</span> menu entry.</p><p>Additional directories to look for scripts can be added via the <span style="font-style: italic">Scripts|Manage scripts|Library</span> menu entry.
When a directory is added to the library, all its .rkt files (non-recursively) are considered as scripts.
Specific files can be excluded from the library.</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Shadow_scripts&quot;">6<tt>&nbsp;</tt><a name="(part._.Shadow_scripts)"></a>Shadow scripts</h3><p>When a script is installed from a third party package (like quickscript-extra), it comes with its set of own values for its properties.
These values may not suit the user who may want to redefine some of them, like the menu path or the keyboard shortcuts.
An obvious choice for the user is to copy/paste the entire script, but this would prevent from benefiting from further bug fixes and enhancements made by the writer of the original script.</p><p>To solve this problem, the user can instead make a <span style="font-style: italic">shadow script</span>,
which creates a new script in the user&rsquo;s directory, with its own set of properties
that can be changed by the user, but the procedure of this script is bound to that of the original script.</p><p>To make a shadow script, open the script library in <span style="font-style: italic">Scripts|Manage scripts|Library</span>, navigate to the third-party script and click on <span style="font-style: italic">Shadow</span>.</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;Updating_the_quickscript_package&quot;">7<tt>&nbsp;</tt><a name="(part._.Updating_the_quickscript_package)"></a>Updating the quickscript package</h3><p>To update Quickscript once already installed,
either do so through the <span style="font-style: italic">File|Package Manager</span> menu in DrRacket,
or run <span class="stt">raco pkg update quickscript</span>.</p><p>The user&rsquo;s scripts will not be modified in the process.</p><h3 x-source-module="(lib &quot;quickscript/scribblings/quickscript.scrbl&quot;)" x-source-pkg="quickscript" x-part-tag="&quot;License&quot;">8<tt>&nbsp;</tt><a name="(part._.License)"></a>License</h3><p>MIT License</p><p>Copyright (c) 2012-2018 by <a href="mailto:laurent.orseau@gmail.com">Laurent Orseau &lt;laurent.orseau@gmail.com&gt;</a>.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>