<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>extensible-parser-specifications</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">extensible-<wbr></wbr>parser-<wbr></wbr>specifications</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Defining_reusable_parser_mixins%29" class="tocviewlink" data-pltdoc="x">Defining reusable parser mixins</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Matching_alternatives_in_any_order%29" class="tocviewlink" data-pltdoc="x">Matching alternatives in any order</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Parsing_the_tail_of_improper_lists%29" class="tocviewlink" data-pltdoc="x">Parsing the tail of improper lists</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Pre__global_and_post_operations%29" class="tocviewlink" data-pltdoc="x">Pre, global and post operations</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Miscellaneous_pattern_expanders%29" class="tocviewlink" data-pltdoc="x">Miscellaneous pattern expanders</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.Chaining_macro_calls_without_re-parsing_everything%29" class="tocviewlink" data-pltdoc="x">Chaining macro calls without re-<wbr></wbr>parsing everything</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">extensible-<wbr></wbr>parser-<wbr></wbr>specifications</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Defining_reusable_parser_mixins%29" class="tocsubseclink" data-pltdoc="x">Defining reusable parser mixins</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-eh-alternative-mixin%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>eh-<wbr></wbr>alternative-<wbr></wbr>mixin</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._eh-mixin-expander-type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">eh-<wbr></wbr>mixin-<wbr></wbr>expander-<wbr></wbr>type</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._make-eh-mixin-expander%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>eh-<wbr></wbr>mixin-<wbr></wbr>expander</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._eh-mixin-expander~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">eh-<wbr></wbr>mixin-<wbr></wbr>expander?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-eh-mixin-expander%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>eh-<wbr></wbr>mixin-<wbr></wbr>expander</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._expand-all-eh-mixin-expanders%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">expand-<wbr></wbr>all-<wbr></wbr>eh-<wbr></wbr>mixin-<wbr></wbr>expanders</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Using_mixins%29" class="tocsubseclink" data-pltdoc="x">Using mixins</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~mixin</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Matching_alternatives_in_any_order%29" class="tocsubseclink" data-pltdoc="x">Matching alternatives in any order</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~seq-<wbr></wbr>no-<wbr></wbr>order</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~no-<wbr></wbr>order</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Enforcing_a_partial_order_on_the_alternatives%29" class="tocsubseclink" data-pltdoc="x">Enforcing a partial order on the alternatives</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~order-<wbr></wbr>point</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3c%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">order-<wbr></wbr>point&lt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">order-<wbr></wbr>point&gt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3c%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">try-<wbr></wbr>order-<wbr></wbr>point&lt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3e%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">try-<wbr></wbr>order-<wbr></wbr>point&gt;</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7ebefore%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~before</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eafter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~after</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7etry-before%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~try-<wbr></wbr>before</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7etry-after%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~try-<wbr></wbr>after</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Parsing_the_tail_of_improper_lists%29" class="tocsubseclink" data-pltdoc="x">Parsing the tail of improper lists</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~lift-<wbr></wbr>rest</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eas-rest%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~as-<wbr></wbr>rest</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Pre__global_and_post_operations%29" class="tocsubseclink" data-pltdoc="x">Pre, global and post operations</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Pre_operations%29" class="tocsubseclink" data-pltdoc="x">Pre operations</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enamed-seq%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~named-<wbr></wbr>seq</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emaybe%2Fempty%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~maybe/<span class="mywbr"> &nbsp;</span>empty</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eoptional%2Felse%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~optional/<span class="mywbr"> &nbsp;</span>else</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Global_operations%29" class="tocsubseclink" data-pltdoc="x">Global operations</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~global-<wbr></wbr>or</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-and%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~global-<wbr></wbr>and</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-counter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~global-<wbr></wbr>counter</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#%28part._.Post_operations%29" class="tocsubseclink" data-pltdoc="x">Post operations</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-check%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~post-<wbr></wbr>check</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~post-<wbr></wbr>fail</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.4<tt>&nbsp;</tt></span><a href="#%28part._.Order_in_which_the_attributes_are_bound_for_post_operations_and_global_operations%29" class="tocsubseclink" data-pltdoc="x">Order in which the attributes are bound for post operations and
global operations</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-attribute%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">try-<wbr></wbr>attribute</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._if-attribute%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">if-<wbr></wbr>attribute</span></span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Miscellaneous_pattern_expanders%29" class="tocsubseclink" data-pltdoc="x">Miscellaneous pattern expanders</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enop%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">~nop</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Chaining_macro_calls_without_re-parsing_everything%29" class="tocsubseclink" data-pltdoc="x">Chaining macro calls without re-<wbr></wbr>parsing everything</a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define%2Fsyntax-parse%2Bsimple%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define/<span class="mywbr"> &nbsp;</span>syntax-<wbr></wbr>parse+<span class="mywbr"> &nbsp;</span>simple</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-syntax%2Fparse%2Bsimple%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>syntax/<span class="mywbr"> &nbsp;</span>parse+<span class="mywbr"> &nbsp;</span>simple</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._extensible-parser-specifications)"></a><a name="(mod-path._extensible-parser-specifications)"></a>extensible-parser-specifications</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Georges Dup&#233;ron &lt;<a href="mailto:georges.duperon@gmail.com">georges.duperon@gmail.com</a>&gt;</p></span></div><p>Caveat: the mixins defined with <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-eh-alternative-mixin%29%29" class="RktStxLink" data-pltdoc="x">define-eh-alternative-mixin</a></span> cannot be
provided and used in a separate module. Unfortunately, I cannot think of an
acceptable fix for this problem, as solving this would require extracting parts
of the mixin while preserving the bindings of some identifiers, but altering the
bindings of others. This means that for the foreseeable future, once a mixin is
defined, can only be used via <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="RktStxLink" data-pltdoc="x">~mixin</a></span> (or by directly invoking it)
within the same module.</p><p>The regular and splicing syntax classes defined with
<span class="RktPn">#:define-syntax-class</span> and <span class="RktPn">#:define-splicing-syntax-class</span> will
work fine across module boundaries, however. Manually defined syntax classes,
splicing syntax classes or ellipsis-head syntax classes will also work fine
across module boundaries, even if they contain uses of <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>, and even if those special forms contain uses of mixins
defined within the same module. In other words, as long as a definition of a
mixin and all its uses via <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="RktStxLink" data-pltdoc="x">~mixin</a></span> are within the same module,
everything else should work without surprises.</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">extensible-parser-specifications</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/extensible-parser-specifications" title="Install this package using `raco pkg install extensible-parser-specifications`"><span class="stt">extensible-parser-specifications</span></a></span></td></tr></table></p><h3 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Defining_reusable_parser_mixins&quot;">1<tt>&nbsp;</tt><a name="(part._.Defining_reusable_parser_mixins)"></a>Defining reusable parser mixins</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._define-eh-alternative-mixin))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-eh-alternative-mixin%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-eh-alternative-mixin</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">maybe-splicing-class</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">maybe-define-splicing-class</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._pattern%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-define-class</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:define-syntax-class</span><span class="hspace">&nbsp;</span><span class="RktVar">class-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-define-splicing-class</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:define-splicing-syntax-class</span><span class="hspace">&nbsp;</span><span class="RktVar">splicing-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">clause-or-mixin</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">~mixin</span><span class="hspace">&nbsp;</span><a href="#%28tech._eh._alternative._mixin%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-alternative-mixin</span></a><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">~or</span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">derived-or</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Defines an <a name="(tech._eh._alternative._mixin)"></a><span style="font-style: italic">eh-alternative mixin</span>, which is implemented as an <a href="#%28tech._eh._mixin._expander%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-mixin expander</span></a>. An eh-alternative mixin is like an
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Experimental.html%23%2528tech._ellipsis._head._alternative._set%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">ellipsis-head alternative
set</span></a>, except that it can only appear as part of a <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> (possibly
nested under other eh-alternative mixins), and can contain some global
constraints. The global constraints, detailed below, allow the parser to
perform checks across two or more mixins. For example, given a set of options
that can appear in any order, it is possible to specify that two of them are
mutually exclusive, or that two other must appear in a certain order,
regardless of the order of the other options.</div></p><p>The <span class="RktVar">derived-or</span> term covers any
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a> or
<a href="#%28tech._eh._mixin._expander%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-mixin expander</span></a> application which expands to a
<span class="RktVar">clause-or-mixin</span>.</p><p>The <span class="RktPn">#:define-syntax-class</span> option defines a syntax class with the given
<span class="RktVar">class-name</span> which matches <span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="stt"> </span><span class="RktPn">{</span><span class="RktVar">~mixin</span><span class="stt"> </span><span class="RktVar">name</span><span class="RktPn">}</span><span class="RktPn">}</span>.</p><p>The <span class="RktPn">#:define-splicing-syntax-class</span> option defines a splicing syntax
class with the given <span class="RktVar">class-name</span> which matches
<span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span><span class="stt"> </span><span class="RktPn">{</span><span class="RktVar">~mixin</span><span class="stt"> </span><span class="RktVar">name</span><span class="RktPn">}</span><span class="RktPn">}</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>for-syntax value</p></div></div><p class="RForeground"><a name="(def._((lib._extensible-parser-specifications/main..rkt)._eh-mixin-expander-type))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._eh-mixin-expander-type%29%29" class="RktValDef RktValLink" data-pltdoc="x">eh-mixin-expander-type</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=generic-syntax-expanders&amp;rel=index.html%23%2528def._%2528%2528lib._generic-syntax-expanders%252Fmain..rkt%2529._expander-type%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">expander-type?</a></span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>for-syntax procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._extensible-parser-specifications/main..rkt)._make-eh-mixin-expander))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._make-eh-mixin-expander%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-eh-mixin-expander</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=generic-syntax-expanders&amp;rel=index.html%23%2528def._%2528%2528lib._generic-syntax-expanders%252Fmain..rkt%2529._expander%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">expander?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._eh-mixin-expander~3f%29%29" class="RktValLink" data-pltdoc="x">eh-mixin-expander?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>for-syntax procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._extensible-parser-specifications/main..rkt)._eh-mixin-expander~3f))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._eh-mixin-expander~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">eh-mixin-expander?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._define-eh-mixin-expander))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-eh-mixin-expander%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-eh-mixin-expander</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">transformer-procedure</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>for-syntax procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._extensible-parser-specifications/main..rkt)._expand-all-eh-mixin-expanders))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28def._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._expand-all-eh-mixin-expanders%29%29" class="RktValDef RktValLink" data-pltdoc="x">expand-all-eh-mixin-expanders</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx-tree</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">syntax?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">These functions and forms allow the creation and manipulation of <a name="(tech._eh._mixin._expander)"></a><span style="font-style: italic">eh-mixin expanders</span>. These identifiers are generated by
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=generic-syntax-expanders&amp;rel=index.html%23%2528form._%2528%2528lib._generic-syntax-expanders%252Fmain..rkt%2529._define-expander-type%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-expander-type</a></span>. For more information, see the documentation for
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=generic-syntax-expanders&amp;rel=index.html%23%2528form._%2528%2528lib._generic-syntax-expanders%252Fmain..rkt%2529._define-expander-type%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-expander-type</a></span>.</div></p><h4 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Using_mixins&quot;">1.1<tt>&nbsp;</tt><a name="(part._.Using_mixins)"></a>Using mixins</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7emixin))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~mixin</a></span></span><span class="hspace">&nbsp;</span><a href="#%28tech._eh._alternative._mixin%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-alternative-mixin</span></a><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Expands the <a href="#%28tech._eh._alternative._mixin%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-alternative-mixin</span></a>, with no arguments. This is
equivalent to <span class="RktPn">(</span><span class="RktVar">eh-alternative-mixin</span><span class="RktPn">)</span>, but <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="RktStxLink" data-pltdoc="x">~mixin</a></span>
additionally checks that the given <span class="RktVar">eh-alternative-mixin</span> is indeed an
<a href="#%28tech._eh._alternative._mixin%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-alternative mixin</span></a>. Otherwise, with the syntax,
<span class="RktPn">(</span><span class="RktVar">eh-alternative-mixin</span><span class="RktPn">)</span> the name <span class="RktVar">eh-alternative-mixin</span> would
be interpreted as a pattern variable by <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> if the expander
was not available for some reason (e.g. a missing import).</div></p><h3 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Matching_alternatives_in_any_order&quot;">2<tt>&nbsp;</tt><a name="(part._.Matching_alternatives_in_any_order)"></a>Matching alternatives in any order</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>pattern expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eseq-no-order))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~seq-no-order</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">clause-or-mixin</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="RktStxLink" data-pltdoc="x">~mixin</a></span><span class="hspace">&nbsp;</span><a href="#%28tech._eh._alternative._mixin%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-alternative-mixin</span></a><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">derived-or</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Splicing pattern which matches the given <span class="RktVar">clause-or-mixin</span>s in any
order, enforcing the global constraints expressed within each.</div></p><p>Nested <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> directly below <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> are recursively
inlined. In other words, the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> present directly below the
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or below such an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> clause do not behave as
"exclusive or", but instead contain clauses which can appear in any order.
These clauses are not grouped in any way by the <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span>, i.e.
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="stt"> </span><span class="RktSym">c</span><span class="stt"> </span><span class="RktSym">d</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span> is equivalent to
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktSym">b</span><span class="stt"> </span><span class="RktSym">c</span><span class="stt"> </span><span class="RktSym">d</span><span class="RktPn">)</span>.</p><p>The <span class="RktVar">derived-or</span> term covers any
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._pattern._expander%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">pattern expander</span></a> or
<a href="#%28tech._eh._mixin._expander%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-mixin expander</span></a> application which expands to a
<span class="RktVar">clause-or-mixin</span>. The expansion of pattern and eh-mixin expanders
happens before inlining the top <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> clauses.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>pattern expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eno-order))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~no-order</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">clause-or-mixin</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emixin%29%29" class="RktStxLink" data-pltdoc="x">~mixin</a></span><span class="hspace">&nbsp;</span><a href="#%28tech._eh._alternative._mixin%29" class="techoutside" data-pltdoc="x"><span class="techinside">eh-alternative-mixin</span></a><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">derived-or</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>, except that it matches a syntax list, instead of
being spliced into the surrounding sequence of patterns. In other words,</div></p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span><span class="RktPn">)</span></p></blockquote><p>is equivalent to (notice the extra pair of braces above):</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="hspace">&nbsp;</span><span class="RktVar">clause-or-mixin</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span></p></blockquote><p>Additionally, <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> can include clauses which use
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span>, which lifts a pattern which matches the tail of an
improper list.</p><h4 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Enforcing_a_partial_order_on_the_alternatives&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Enforcing_a_partial_order_on_the_alternatives)"></a>Enforcing a partial order on the alternatives</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eorder-point))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~order-point</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">point-name</span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">When parsing a sequence of elements, <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> and
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> associate an increasing number to each element starting from
zero.</div></p><p>The number associated with the first element matched by
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> is memorised into the attribute
<span class="RktVar">point-name</span>.</p><p>This allows the position of elements matched by otherwise independent mixins to
be compared using <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3c%29%29" class="RktStxLink" data-pltdoc="x">order-point&lt;</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3e%29%29" class="RktStxLink" data-pltdoc="x">order-point&gt;</a></span></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._order-point~3c))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3c%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">order-point&lt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">a</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">b</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> when the first element matched by
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> occurs before the first element
matched by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>. Otherwise, returns
<span class="RktVal">#f</span>.</div></p><p>This operation does not fail if <span class="RktVar">a</span> or <span class="RktVar">b</span> are bound to
<span class="RktVal">#f</span> (i.e. their corresponding <span class="RktVar">syntax-pattern</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> did not
match). Instead, in both cases, it returns <span class="RktVal">#f</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._order-point~3e))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3e%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">order-point&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">a</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">b</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> when the first element matched by
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> occurs after the first element
matched by <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span>. Otherwise, returns
<span class="RktVal">#f</span>.</div></p><p>This operation does not fail if <span class="RktVar">a</span> or <span class="RktVar">b</span> are bound to
<span class="RktVal">#f</span> (i.e. their corresponding <span class="RktVar">syntax-pattern</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> did not
match). Instead, in both cases, it returns <span class="RktVal">#f</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._try-order-point~3c))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3c%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">try-order-point&lt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">a</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">b</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3c%29%29" class="RktStxLink" data-pltdoc="x">order-point&lt;</a></span>, except that it does not fail if <span class="RktVar">a</span> or
<span class="RktVar">b</span> are not attributes, or if they are bound to <span class="RktVal">#f</span>. Instead, in
all those cases, it returns <span class="RktVal">#f</span>.</div></p><p>It can be used as follows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a must appear after b"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3c%29%29" class="RktStxLink" data-pltdoc="x">try-order-point&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The same caveats as for <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-attribute%29%29" class="RktStxLink" data-pltdoc="x">try-attribute</a></span> apply.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._try-order-point~3e))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3e%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">try-order-point&gt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">a</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">b</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3e%29%29" class="RktStxLink" data-pltdoc="x">order-point&gt;</a></span>, except that it does not fail if <span class="RktVar">a</span> or
<span class="RktVar">b</span> are not attributes, or if they are bound to <span class="RktVal">#f</span>. Instead, in
all those cases, it returns <span class="RktVal">#f</span>.</div></p><p>It can be used as follows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a must appear before b"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3e%29%29" class="RktStxLink" data-pltdoc="x">try-order-point&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The same caveats as for <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-attribute%29%29" class="RktStxLink" data-pltdoc="x">try-attribute</a></span> apply.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin-expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7ebefore))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7ebefore%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~before</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Post-checks that the first element matched by <span class="RktVar">pat</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> appears before
the <span class="RktVar">other</span> order-point. This is a shorthand for:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3e%29%29" class="RktStxLink" data-pltdoc="x">order-point&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>Note: Hopefully <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7ebefore%29%29" class="RktStxLink" data-pltdoc="x">~before</a></span> will be modified in the future so that it
auto-detects if the <span class="RktVar">other</span> order-point is not defined as part of the
current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span>. Do not rely on comparisons with order points
somehow defined outside the current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span>, as that behaviour may
change in the future.</p><p>This is implemented as a <a href="#%28part._.Pre__global_and_post_operations%29" data-pltdoc="x">pre
operation</a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin-expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eafter))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eafter%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~after</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Post-checks that the first element matched by <span class="RktVar">pat</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> appears after
the <span class="RktVar">other</span> order-point. This is a shorthand for:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._order-point~3c%29%29" class="RktStxLink" data-pltdoc="x">order-point&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>Note: Hopefully <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eafter%29%29" class="RktStxLink" data-pltdoc="x">~after</a></span> will be modified in the future so that it
auto-detects if the <span class="RktVar">other</span> order-point is not defined as part of the
current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span>. Do not rely on comparisons with order points
somehow defined outside the current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span>, as that behaviour may
change in the future.</p><p>This is implemented as a <a href="#%28part._.Pre__global_and_post_operations%29" data-pltdoc="x">pre
operation</a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin-expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7etry-before))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7etry-before%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~try-before</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Post-checks that the first element matched by <span class="RktVar">pat</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> appears before
the <span class="RktVar">other</span> order-point. The <span class="RktSym">try-</span> version does not cause an
error if the order-point <span class="RktVar">other</span> is not define (e.g. it was part of
another mixin which was not included). This is a shorthand for:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3e%29%29" class="RktStxLink" data-pltdoc="x">try-order-point&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>Note: Hopefully <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7ebefore%29%29" class="RktStxLink" data-pltdoc="x">~before</a></span> will be modified in the future so that it
auto-detects if the <span class="RktVar">other</span> order-point is missing. This form will then
be removed.</p><p>This is implemented as a <a href="#%28part._.Pre__global_and_post_operations%29" data-pltdoc="x">pre
operation</a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin-expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7etry-after))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7etry-after%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~try-after</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Post-checks that the first element matched by <span class="RktVar">pat</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span> appears after
the <span class="RktVar">other</span> order-point. The <span class="RktSym">try-</span> version does not cause an
error if the order-point <span class="RktVar">other</span> is not define (e.g. it was part of
another mixin which was not included). This is a shorthand for:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eorder-point%29%29" class="RktStxLink" data-pltdoc="x">~order-point</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-order-point~3c%29%29" class="RktStxLink" data-pltdoc="x">try-order-point&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pt</span><span class="hspace">&nbsp;</span><span class="RktVar">other</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>Note: Hopefully <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eafter%29%29" class="RktStxLink" data-pltdoc="x">~after</a></span> will be modified in the future so that it
auto-detects if the <span class="RktVar">other</span> order-point is missing. This form will then
be removed.</p><p>This is implemented as a <a href="#%28part._.Pre__global_and_post_operations%29" data-pltdoc="x">pre
operation</a>.</p><h3 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Parsing_the_tail_of_improper_lists&quot;">3<tt>&nbsp;</tt><a name="(part._.Parsing_the_tail_of_improper_lists)"></a>Parsing the tail of improper lists</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">{</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7elift-rest))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~lift-rest</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="RktPn">}</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Lifts <span class="RktVar">pat</span> out of the current mixin, so that it is used as a pattern to
match the tail of the improper list being matched. It is subject to the
following restrictions:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span> is allowed only within <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span>, but not
within <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>. <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> always matches against
a proper sequence of elements, while <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> may match a proper or
improper list.</p></li><li><p>The tail of the improper list must not be a pair, otherwise the
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">car</a></span> would have been included in the main part of the list.</p></li><li><p>The <span class="RktVar">pat</span> is used to match the tail only if its surrounding
pattern successfully matched some elements of the main section of the list.</p><p>If the <span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="stt"> </span><span class="RktVar">pat</span><span class="RktPn">}</span> is the only pattern present within an
alternative, then it is always used.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r:nat</span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktSym">i:id</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'(1 x y z)</span></p></td></tr></table></blockquote></div></p></li><li><p>Among the lifted rest patterns which are considered (see the point
above), only one may successfully match. An error is raised if two or more
lifted rest patterns successfully match against the tail of the list.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parser%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">syntax-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eliteral%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~literal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rn:nat</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ri:id</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eliteral%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~literal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rs:str</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rj:id</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">match</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">rn and ri considered, rn matched</span></td></tr><tr><td><p><span class="RktRes">'match</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">rn and ri considered, ri matched</span></td></tr><tr><td><p><span class="RktRes">'match</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVal">"a"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">rs and rj considered, rs matched</span></td></tr><tr><td><p><span class="RktRes">'match</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">rs and rj considered, rj matched</span></td></tr><tr><td><p><span class="RktRes">'match</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">all four considered, rn matched</span></td></tr><tr><td><p><span class="RktRes">'match</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">all four considered, both ri and rj matched</span></td></tr><tr><td><p><span class="RktErr">eval:7.0: x: more than one of the lifted rest patterns</span></p></td></tr><tr><td><p><span class="RktErr">matched</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: (x y . z)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: (x y . z)</span></p></td></tr></table></blockquote></div></p><p>The rationale is that selecting the first lifted rest pattern that matches
would result in unclear behaviour, as the order of the alternative clauses
should not be significant.</p></li><li><p>Post and global operations can be used within the <span class="RktVar">pat</span>. This
combination of features is not thoroughly tested, however. Please report any
issues you run into.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">{</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eas-rest))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eas-rest%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~as-rest</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">}</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span>, but the <span class="RktVar">pat</span>s are injected as part of the same
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> as <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span>. This means that syntax/parse will not
throw an error for the following code:</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p2</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parser%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">syntax-parser</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eonce%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~once</a></span><span class="hspace">&nbsp;</span><span class="RktSym">name:id</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eonce%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~once</a></span><span class="hspace">&nbsp;</span><span class="RktSym">message:str</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eonce%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~once</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eas-rest%29%29" class="RktStxLink" data-pltdoc="x">~as-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">val:nat</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7elift-rest%29%29" class="RktStxLink" data-pltdoc="x">~lift-rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">val:nat</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stxops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._syntax-%7E3edatum%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">syntax-&gt;datum</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktPn">#:messsage</span><span class="hspace">&nbsp;</span><span class="RktSym">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:val</span><span class="hspace">&nbsp;</span><span class="RktSym">val</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p2</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">123</span><span class="hspace">&nbsp;</span><span class="RktVal">"msg"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">matched by ~as-rest</span></td></tr><tr><td><p><span class="RktRes">'(#:name x #:messsage "msg" #:val 123)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p2</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"msg"</span><span class="hspace">&nbsp;</span><span class="RktVal">123</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">matched by ~as-rest</span></td></tr><tr><td><p><span class="RktRes">'(#:name x #:messsage "msg" #:val 123)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p2</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"msg"</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVal">456</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">matched by ~lift-rest</span></td></tr><tr><td><p><span class="RktRes">'(#:name x #:messsage "msg" #:val 456)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">p2</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"msg"</span><span class="hspace">&nbsp;</span><span class="RktVal">123</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVal">456</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">can't have both</span></td></tr><tr><td><p><span class="RktErr">eval:5.0: x: bad syntax</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: (x "msg" 123 . 456)</span></p></td></tr></table></blockquote></div></p><h3 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Pre__global_and_post_operations&quot;">4<tt>&nbsp;</tt><a name="(part._.Pre__global_and_post_operations)"></a>Pre, global and post operations</h3><p>Pre operations happen before the <span class="RktSym">~!</span> backtracking cut, so they can
affect what combination of alternative clauses the parser will choose. Post
operations happen after the <span class="RktSym">~!</span> backtracking cut, and can only reject
the <span class="RktSym">~no-order</span> or <span class="RktSym">~seq-no-order</span> as a whole (i.e. different
orders will not be attempted after a <span class="RktSym">~post-fail</span>. Global operations will
always succeed.</p><p>Post operations can access the attributes defined by global and pre operations
as well as attributes defined by the alternative clauses. Global operations
cannot access the attributes of post operations, and pre operations cannot
access the attributes of global and post operations. See
<a href="#%28part._.Order_in_which_the_attributes_are_bound_for_post_operations_and_global_operations%29" data-pltdoc="x">Order in which the attributes are bound for post operations and
global operations</a>
for more details.</p><h4 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Pre_operations&quot;">4.1<tt>&nbsp;</tt><a name="(part._.Pre_operations)"></a>Pre operations</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7enamed-seq))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enamed-seq%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~named-seq</a></span></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to <span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span>, but also binds the
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a> to the whole sequence. If the sequence appears inside
an <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eor%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~or</a></span> clause that fails, the
<span class="RktVar">attribute-name</span> is still bound to the empty sequence.</div></p><p>Known issues: this may not behave as expected if <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enamed-seq%29%29" class="RktStxLink" data-pltdoc="x">~named-seq</a></span> appears
under ellipses.</p><p>This probably should bind the sequence attribute <span style="font-style: italic">before</span> the "global"
operations, instead of being a "post" operation, and may be changed in that way
the future.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7emaybe/empty))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7emaybe%2Fempty%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~maybe/empty</a></span></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Optionally matches <span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eseq%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~seq</a></span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">}</span>. If the match fails, it
matches these same sequence of patterns against the empty syntax list
<span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">)</span>. This form can be used in an ellipsis-head position. This is
implemented in both cases as a "pre" action.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eoptional/else))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eoptional%2Felse%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~optional/else</a></span></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">maybe-defaults</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">else-post-fail</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">maybe-name</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-defaults</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:defaults</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">default-binding</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">else-post-fail</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:else-post-fail</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:else-post-fail</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:else-post-fail</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:unless</span><span class="hspace">&nbsp;</span><span class="RktVar">unless-condition</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:else-post-fail</span><span class="hspace">&nbsp;</span><span class="RktPn">#:unless</span><span class="hspace">&nbsp;</span><span class="RktVar">unless-condition</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span>, but with conditional post-failures when the pattern is
not matched. An <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eoptional%2Felse%29%29" class="RktStxLink" data-pltdoc="x">~optional/else</a></span> pattern can be matched zero or one time
as part of the <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span>. When it is not
matched (i.e. matched zero times):
</div><div class="SIntrapara"><ul><li><p>it uses the default values for the attributes as specified with
<span class="RktPn">#:defaults</span>.</p></li><li><p>for each <span class="RktPn">#:else-post-fail</span> clause, it checks whether the
<span class="RktVar">condition</span> or <span class="RktVar">unless-condition</span> is true or false,
respectively. If this is the case the whole <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> is rejected with the given <span class="RktVar">message</span>. The
behaviour of <span class="RktPn">#:else-post-fail</span> is the same as the behaviour of
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span>, except that the "post" conditional failure can only be
executed if the optional <span class="RktVar">syntax-pattern</span> was not matched.</p><p>Note that there is an implicit cut (<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7e%2521%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~!</a></span>) between the no-order
patterns and the "post" checks, so after a <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span> fails,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> does not backtrack and attempt different combinations
of patterns to match the sequence, nor does it backtrack and attempt to match
a shorter sequence. This is by design, as it allows for better error messages
(syntax-parse would otherwise attempt and possibly succeed in matching a
shorter sequence, then just treat the remaining terms as
"unexpected terms").</p></li></ul></div></p><p>The meaning of <span class="RktPn">#:name</span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a> option is the same as for
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span>.</p><h4 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Global_operations&quot;">4.2<tt>&nbsp;</tt><a name="(part._.Global_operations)"></a>Global operations</h4><p>The global patterns presented below match all of the given
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a>s, like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span> does, and perform a global
aggregation over all the values corresponding to successful matches of a global
pattern using the same <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a>.</p><p>After the whole <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> finished matching
its contents, but before "post" operations are executed, the attribute
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a> is bound to
<span class="RktPn">(</span><span class="RktVar">aggrgate-function</span><span class="stt"> </span><span class="RktVar">value&#8321;</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="stt"> </span><span class="RktVar">value&#8345;</span><span class="RktPn">)</span>, where each <span class="RktSym">value&#7522;</span> is
the value which was passed to an occurrence of <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="RktStxLink" data-pltdoc="x">~global-or</a></span> with the same
<span class="RktVar">attribute-name</span>, and which successfully matched. The
<span class="RktVar">aggregate-function</span> will be <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span> for <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="RktStxLink" data-pltdoc="x">~global-or</a></span>,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span> for <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-and%29%29" class="RktStxLink" data-pltdoc="x">~global-and</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span> for
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-counter%29%29" class="RktStxLink" data-pltdoc="x">~global-counter</a></span>.</p><p><div class="SIntrapara">Each <span class="RktSym">value&#7522;</span> is computed in the context in which it appears, after the
<span class="RktVar">syntax-pattern</span>s. This means that it can access:
</div><div class="SIntrapara"><ul><li><p>attributes already bound in the current alternative clause within the
current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span></p></li><li><p>attributes bound by the <span class="RktVar">syntax-patterns</span>s</p></li><li><p>attributes already bound outside of the <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> or
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span></p></li><li><p>but it cannot access attributes bound in other alternative clauses within
the current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>.</p></li></ul></div></p><p>The <span class="RktSym">value&#7522;</span> are aggregated with <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span>, <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span> or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span>
in the order in which they appear in the <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> or
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>. If a <span class="RktSym">value&#7522;</span> appears under ellipses, or as part
of an alternative clause which can match more than once (i.e. not <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eonce%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~once</a></span>
or <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eoptional%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~optional</a></span>), then each match within that <span class="RktSym">value&#7522;</span> group is
aggregated in the order it appears.</p><p>Since this notion of order is rather complex, it is possible that future
versions of this library will always return a boolean (<span class="RktVal">#f</span> or
<span class="RktVal">#t</span> for <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="RktStxLink" data-pltdoc="x">~global-or</a></span> and <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-and%29%29" class="RktStxLink" data-pltdoc="x">~global-and</a></span>, which would make
the notion of order irrelevant.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eglobal-or))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~global-or</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">attribute-name+value</span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">attribute-name+value</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="hspace">&nbsp;</span><span class="RktVar">value&#7522;</span><span class="RktPn">]</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Matches all of the given <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a>s, like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span> does, and
perform a global <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span> over all the values corresponding to successful
matches of a global pattern using the same <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a>. See above
for a description of how global operations work.</div></p><p>If the <span class="RktVar">value&#7522;</span> is omitted, <span class="RktVal">#t</span> is used as a default.</p><p>The result is always transformed into a boolean, so <span class="RktVar">attribute-name</span> is
always bound to either <span class="RktVal">#t</span> or <span class="RktVal">#f</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eglobal-and))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-and%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~global-and</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">attribute-name+value</span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">attribute-name+value</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="hspace">&nbsp;</span><span class="RktVar">value&#7522;</span><span class="RktPn">]</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Matches all of the given <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a>s, like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span> does, and
perform a global <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span> over all the values corresponding to successful
matches of a global pattern using the same <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a>. See above
for a description of how global operations work.</div></p><p>If there is at least one occurrence of <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-and%29%29" class="RktStxLink" data-pltdoc="x">~global-and</a></span> for that
<span class="RktVar">attribute-name</span> which successfully matches, the result of the
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="stt"> </span><span class="RktVar">value&#7522;</span><span class="stt"> </span><span class="RktMeta"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=stx-patterns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fstxcase-scheme..rkt%2529._......%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">...</a></span><span class="RktPn">)</span> is always coerced to a boolean, so
<span class="RktVar">attribute-name</span> is always bound to either <span class="RktVal">#t</span> or <span class="RktVal">#f</span>.</p><p>If there are no matches at all, the special value <span class="RktVal">'</span><span class="RktVal">none</span> is used
instead of <span class="RktVal">#t</span> as would be produced by <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">and</a></span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7eglobal-counter))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-counter%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~global-counter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">attribute-name+value</span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">attribute-name+value</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="hspace">&nbsp;</span><span class="RktVar">value&#7522;</span><span class="RktPn">]</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Matches all of the given <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a>s, like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span> does, and
perform a global <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span> over all the values corresponding to successful
matches of a global pattern using the same <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a>. See above
for a description of how global operations work.</div></p><p>If the <span class="RktVar">value&#7522;</span> is omitted, <span class="RktVal">1</span> is used as a default.</p><h4 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Post_operations&quot;">4.3<tt>&nbsp;</tt><a name="(part._.Post_operations)"></a>Post operations</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7epost-check))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-check%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~post-check</a></span></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._action._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">A-pattern</span></a><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-check%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~post-check</a></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._action._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">A-pattern</span></a><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Matches <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a>, and executes the given <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._action._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">A-pattern</span></a>
after the whole <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> finished matching
its contents.</div></p><p>If unspecified, the <span class="RktVar">syntax-pattern</span> defaults to <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enop%29%29" class="RktStxLink" data-pltdoc="x">~nop</a></span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>eh-mixin expander</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7epost-fail))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~post-fail</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">condition</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktPn">#:unless</span><span class="hspace">&nbsp;</span><span class="RktVar">unless-condition</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:unless</span><span class="hspace">&nbsp;</span><span class="RktVar">unless-condition</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">After the whole <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> finished matching
its contents, checks whether <span class="RktVar">condition</span> or <span class="RktVar">unless-condition</span> is
true or false, respectively.  If this is the case the whole
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> is rejected with the given
<span class="RktVar">message</span>.</div></p><p>Note that there is an implicit cut (<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7e%2521%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~!</a></span>) between the no-order patterns
and the "post" checks, so after a <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span> fails,
<span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._syntax-parse%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">syntax-parse</a></span> does not backtrack and attempt different combinations of
patterns to match the sequence, nor does it backtrack and attempt to match a
shorter sequence. This is by design, as it allows for better error messages
(syntax-parse would otherwise attempt and possibly succeed in matching a
shorter sequence, then just treat the remaining terms as "unexpected terms").</p><h4 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Order_in_which_the_attributes_are_bound_for_post_operations_and_global_operations&quot;">4.4<tt>&nbsp;</tt><a name="(part._.Order_in_which_the_attributes_are_bound_for_post_operations_and_global_operations)"></a>Order in which the attributes are bound for post operations and
global operations</h4><p>Within the <span class="RktVar">A-pattern</span>s of post operations, the regular attributes bound
by all the clauses inside <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> are
bound. The attributes defined as part of all "global" actions are bound too. The
attributes defined as part of "post" actions of other clauses are bound only if
the clause defining them appears before the current clause in the source code.
For example, the following code works because the clause containing
<span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="stt"> </span><span class="RktVal">"2 is incompatible with 1"</span><span class="stt"> </span><span class="RktPn">#:when</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._not%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">not</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._attribute%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">}</span>
appears after the clause which binds <span class="RktSym">a</span> with the "post" action
<span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-check%29%29" class="RktStxLink" data-pltdoc="x">~post-check</a></span><span class="stt"> </span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7ebind%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~bind</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="stt"> </span><span class="RktRdr">#'</span><span class="RktSym">the-a</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-check%29%29" class="RktStxLink" data-pltdoc="x">~post-check</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7ebind%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~bind</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">the-a</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"2 is incompatible with 1"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._not%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._attribute%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>If the two clauses are swapped, then the following code would raise a syntax
error because <span class="RktSym">a</span> is not bound as an attribute in the
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"2 is incompatible with 1"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._not%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._attribute%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-check%29%29" class="RktStxLink" data-pltdoc="x">~post-check</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7ebind%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~bind</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">the-a</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>On the other hand, the following code, which does not bind <span class="RktSym">a</span> as part
of a post operation, is valid:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"2 is incompatible with 1"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._not%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._attribute%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">the-a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7ebind%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~bind</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">the-a</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>Furthermore, the following code still works, as attributes are bound by the
"global" operations before the "post" operations are executed:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7eand%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7epost-fail%29%29" class="RktStxLink" data-pltdoc="x">~post-fail</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"2 is incompatible with 1"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._not%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._attribute%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="RktStxLink" data-pltdoc="x">~global-or</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr></table></blockquote><p>Note that the order in which clauses appear within the <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>
or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> does not impact the order in which the elements must
appear in the matched syntax (aside from issues related to greediness).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._try-attribute))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-attribute%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">try-attribute</a></span></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This macro expands to <span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._attribute%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">attribute</a></span><span class="stt"> </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="RktPn">)</span> if
<a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a> is bound as a syntax pattern variable, and to
<span class="RktVal">#f</span> otherwise.</div></p><p>This macro can be used to check for mutual exclusion of an attribute which is
bound by other mixins that might or might not be present in the final
<span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eno-order%29%29" class="RktStxLink" data-pltdoc="x">~no-order</a></span> or <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span>.</p><p>Use this sparingly, as if an syntax pattern variable with that name is bound by
an outer scope, the <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-attribute%29%29" class="RktStxLink" data-pltdoc="x">try-attribute</a></span> macro will still access it, ignorant
of the fact that the current <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eseq-no-order%29%29" class="RktStxLink" data-pltdoc="x">~seq-no-order</a></span> does not contain any mixin
which binds that attribute.</p><p>Instead, it is better practice to use
<span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-or%29%29" class="RktStxLink" data-pltdoc="x">~global-or</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">attribute-name</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktPn">}</span> or
<span class="RktPn">{</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7eglobal-and%29%29" class="RktStxLink" data-pltdoc="x">~global-and</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">attribute-name</span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">]</span><span class="RktPn">}</span> to ensure that the attribute is
declared, while using the operation&rsquo;s neutral element to not alter the final
result.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._if-attribute))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._if-attribute%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">if-attribute</a></span></span><span class="hspace">&nbsp;</span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a><span class="hspace">&nbsp;</span><span class="RktVar">if-branch</span><span class="hspace">&nbsp;</span><span class="RktVar">else-branch</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This macro expands to <span class="RktVar">if-branch</span> if <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-specifying.html%23%2528tech._attribute%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">attribute-name</span></a> is bound as
a syntax pattern variable, and to <span class="RktVar">else-branch</span> otherwise.</div></p><p>The same caveats as for <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._try-attribute%29%29" class="RktStxLink" data-pltdoc="x">try-attribute</a></span> apply.</p><h3 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Miscellaneous_pattern_expanders&quot;">5<tt>&nbsp;</tt><a name="(part._.Miscellaneous_pattern_expanders)"></a>Miscellaneous pattern expanders</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>pattern expander</p></div></div><p class="RForeground"><span class="RktPn">{</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._~7enop))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enop%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">~nop</a></span></span><span class="RktPn">}</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._action._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">A-pattern</span></a> <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._~7enop%29%29" class="RktStxLink" data-pltdoc="x">~nop</a></span> does not perform any
action. It simply expands to <span class="RktPn">{</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._%7E7edo%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">~do</a></span><span class="RktPn">}</span>.</div></p><h3 x-source-module="(lib &quot;extensible-parser-specifications/scribblings/extensible-parser-specifications.scrbl&quot;)" x-source-pkg="extensible-parser-specifications" x-part-tag="&quot;Chaining_macro_calls_without_re-parsing_everything&quot;">6<tt>&nbsp;</tt><a name="(part._.Chaining_macro_calls_without_re-parsing_everything)"></a>Chaining macro calls without re-parsing everything</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._define/syntax-parse+simple))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define%2Fsyntax-parse%2Bsimple%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define/syntax-parse+simple</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">name-or-curry</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">name-or-curry</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">name-or-curry</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-define-class</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:define-syntax-class</span><span class="hspace">&nbsp;</span><span class="RktVar">splicing-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-define-splicing-class</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:define-splicing-syntax-class</span><span class="hspace">&nbsp;</span><span class="RktVar">splicing-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">class-name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier?</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">splicing-name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier?</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">This macro works like <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=Parsing_Syntax.html%23%2528form._%2528%2528lib._syntax%252Fparse..rkt%2529._define%252Fsyntax-parse%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define/syntax-parse</a></span> from <span class="RktSym">phc-toolkit</span>,
except that it also defines the function <span class="RktVar">name-forward-attributes</span>,
which can be used by other macros to forward already parsed attributes to the
<span class="RktVar">body</span>, without the need to parse everything a second time.</div></p><p>The syntax pattern for the <span class="RktVar">name</span> macro&rsquo;s arguments can be saved in a
splicing syntax class by specifying the <span class="RktPn">#:define-splicing-syntax-class</span>
option. The pattern only includes the arguments after the name, i.e it matches
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fstx..rkt%2529._stx-cdr%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">stx-cdr</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=phc-toolkit&amp;rel=syntax-parse_helpers.html%23%2528form._%2528%2528submod._%2528lib._phc-toolkit%252Fsyntax-parse..rkt%2529._untyped%2529._stx%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">stx</a></span><span class="RktPn">)</span>.</p><p>The syntax pattern for the <span class="RktVar">name</span> macro&rsquo;s arguments can be saved in a
syntax class by specifying the <span class="RktPn">#:define-syntax-class</span> option. The
pattern only includes the arguments after the name, i.e it matches
<span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=syntax-helpers.html%23%2528def._%2528%2528lib._syntax%252Fstx..rkt%2529._stx-cdr%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">stx-cdr</a></span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=phc-toolkit&amp;rel=syntax-parse_helpers.html%23%2528form._%2528%2528submod._%2528lib._phc-toolkit%252Fsyntax-parse..rkt%2529._untyped%2529._stx%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">stx</a></span><span class="RktPn">)</span>.</p><p>If the caller macro which uses <span class="RktPn">(</span><span class="RktVar">name-forward-attributes</span><span class="RktPn">)</span> parsed its
own <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=phc-toolkit&amp;rel=syntax-parse_helpers.html%23%2528form._%2528%2528submod._%2528lib._phc-toolkit%252Fsyntax-parse..rkt%2529._untyped%2529._stx%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">stx</a></span> argument using <span class="RktSym">class-id</span>, then
<span class="RktPn">(</span><span class="RktVar">name-forward-attributes</span><span class="RktPn">)</span> is equivalent to expanding
<span class="RktPn">(</span><span class="RktVar">name</span><span class="stt"> </span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=phc-toolkit&amp;rel=syntax-parse_helpers.html%23%2528form._%2528%2528submod._%2528lib._phc-toolkit%252Fsyntax-parse..rkt%2529._untyped%2529._stx%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">stx</a></span><span class="RktPn">)</span>.</p><p>The <span class="RktVar">name-forward-attributes</span> function is defined at the same meta
level as <span class="RktVar">name</span>, i.e. at the same meta-level where this library was
required. </p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>for-template syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._extensible-parser-specifications/main..rkt)._define-syntax/parse+simple))"></a><span title="Provided from: extensible-parser-specifications | Package: extensible-parser-specifications"><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-syntax%2Fparse%2Bsimple%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-syntax/parse+simple</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=syntax&amp;rel=stxparse-patterns.html%23%2528tech._syntax._pattern%2529&amp;version=7.4" class="techoutside Sq" data-pltdoc="x"><span class="techinside">syntax-pattern</span></a><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">This macro is provided for meta-level -1.</div></p><p>This is the same as <span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define%2Fsyntax-parse%2Bsimple%29%29" class="RktStxLink" data-pltdoc="x">define/syntax-parse+simple</a></span>, except that it
operates at level -1 relative to this library, and defines at that level a
transformer binding (which therefore executes at the same meta-level as this
library. In other words,
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define-syntax%2Fparse%2Bsimple%29%29" class="RktStxLink" data-pltdoc="x">define-syntax/parse+simple</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">name</span><span class="stt"> </span><span class="RktPn">. </span><span class="RktSym">pat</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span> is roughly equivalent
to:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin-for-syntax%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">begin-for-syntax</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._extensible-parser-specifications%2Fmain..rkt%29._define%2Fsyntax-parse%2Bsimple%29%29" class="RktStxLink" data-pltdoc="x">define/syntax-parse+simple</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tmp</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym">pat</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">name-forward-attributes</span><span class="hspace">&nbsp;</span><span class="RktSym">tmp-forward-attributes</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define-syntax%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktSym">tmp</span><span class="RktPn">)</span></td></tr></table></blockquote><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>