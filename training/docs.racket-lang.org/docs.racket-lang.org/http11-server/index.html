<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>http11-server</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">http11-<wbr></wbr>server</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.H.T.T.P_.S__.Endpoint%29" class="tocviewlink" data-pltdoc="x">HTTP(S) Endpoint</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">http11-<wbr></wbr>server</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.H.T.T.P_.S__.Endpoint%29" class="tocsubseclink" data-pltdoc="x">HTTP(S) Endpoint</a></td></tr><tr><td><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Dispatcher%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Dispatcher</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Handler%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Handler</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Endpoint%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Endpoint</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._launch-endpoint%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">launch-<wbr></wbr>endpoint</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;http11-server/scribblings/http11-server.scrbl&quot;)" x-source-pkg="http11-server" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._http11-server)"></a><a name="(mod-path._http11-server)"></a>http11-server</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Raymond Racine &lt;<a href="mailto:ray.racine@gmail.com">ray.racine@gmail.com</a>&gt;</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">http11-server</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/http11-server" title="Install this package using `raco pkg install http11-server`"><span class="stt">http11-server</span></a></span></td></tr></table></p><h3 x-source-module="(lib &quot;http11-server/scribblings/http11-server.scrbl&quot;)" x-source-pkg="http11-server" x-part-tag="&quot;HTTP_S__Endpoint&quot;">1<tt>&nbsp;</tt><a name="(part._.H.T.T.P_.S__.Endpoint)"></a>HTTP(S) Endpoint</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._http11-server/main..rkt)._.Dispatcher))"></a><span title="Provided from: http11-server | Package: http11-server"><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Dispatcher%29%29" class="RktValDef RktValLink" data-pltdoc="x">Dispatcher</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=http11&amp;rel=index.html%23%2528def._%2528%2528lib._http11%252Fmain..rkt%2529._.Request.Header%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">RequestHeader</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Handler%29%29" class="RktValLink" data-pltdoc="x">Handler</a></span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A Dispatcher is a function that returns the appropriate Handler function for an HTTP(S) request based on the HTTP11 request header information.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._http11-server/main..rkt)._.Handler))"></a><span title="Provided from: http11-server | Package: http11-server"><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Handler%29%29" class="RktValDef RktValLink" data-pltdoc="x">Handler</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">Input-Port</span><span class="hspace">&nbsp;</span><span class="RktSym">Output-Port</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=http11&amp;rel=index.html%23%2528def._%2528%2528lib._http11%252Fmain..rkt%2529._.Request.Header%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">RequestHeader</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Void</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Functionally handles an HTTP(S) request.</div></p><p>The input port and output port is the socket of the requesting client.  The RequestHeader is the HTTP11 standard request information, HTTP Method, URI, Headings etc which has already be read off of the input port (necessary for dispatch logic which selects the appropriate Handler to invoke.</p><p>Payload information (if it exists e.g. for a POST) has not been read from the input port and assumed to be performed by the handler from the input port.</p><p>The output port, which has nothing written to it prior to invocation of this Handler.  In other words, the Handler is completely responsible for the entire HTTP response.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._http11-server/main..rkt)._.Endpoint-cert))"></a><a name="(def._((lib._http11-server/main..rkt)._.Endpoint-port))"></a><a name="(def._((lib._http11-server/main..rkt)._.Endpoint-dispatcher))"></a><a name="(def._((lib._http11-server/main..rkt)._.Endpoint-hostname))"></a><a name="(def._((lib._http11-server/main..rkt)._.Endpoint~3f))"></a><a name="(def._((lib._http11-server/main..rkt)._struct~3a.Endpoint))"></a><a name="(def._((lib._http11-server/main..rkt)._.Endpoint))"></a><span title="Provided from: http11-server | Package: http11-server"><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Endpoint%29%29" class="RktValDef RktValLink" data-pltdoc="x">Endpoint</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hostname</span><span class="stt"> </span><span class="RktSym">dispatcher</span><span class="stt"> </span><span class="RktSym">port</span><span class="stt"> </span><span class="RktSym">cert</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">hostname</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">String</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">dispatcher</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Dispatcher%29%29" class="RktValLink" data-pltdoc="x">Dispatcher</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">Port</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">cert</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Server-Certificate</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">The configuration information sufficient to create a HTTP(S) endpoint listener/handler.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._http11-server/main..rkt)._launch-endpoint))"></a><span title="Provided from: http11-server | Package: http11-server"><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._launch-endpoint%29%29" class="RktValDef RktValLink" data-pltdoc="x">launch-endpoint</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">endpoint</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Endpoint-Process</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">endpoint</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._http11-server%2Fmain..rkt%29._.Endpoint%29%29" class="RktValLink" data-pltdoc="x">Endpoint</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Based on the provided Endpoint information launch an Endpoint capable of handling HTTP(S) requests.</div></p><p>The return Endpoint-Process instance is used to manage the endpoint.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>