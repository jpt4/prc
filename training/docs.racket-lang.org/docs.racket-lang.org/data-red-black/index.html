<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>data-red-black: augmented red black tree structures</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">data-<wbr></wbr>red-<wbr></wbr>black:<span class="mywbr"> &nbsp;</span> augmented red black tree structures</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Positional_.Red-.Black_.Trees%29" class="tocviewlink" data-pltdoc="x">Positional Red-<wbr></wbr>Black Trees</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Augmented_.Red-.Black_.Trees%29" class="tocviewlink" data-pltdoc="x">Augmented Red-<wbr></wbr>Black Trees</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Ordered_sets__mutable_sets_with_a_total_order%29" class="tocviewlink" data-pltdoc="x">Ordered sets:<span class="mywbr"> &nbsp;</span> mutable sets with a total order</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Bibliography%29" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._top%29" class="tocsubseclink" data-pltdoc="x">data-<wbr></wbr>red-<wbr></wbr>black:<span class="mywbr"> &nbsp;</span> augmented red black tree structures</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Positional_.Red-.Black_.Trees%29" class="tocsubseclink" data-pltdoc="x">Positional Red-<wbr></wbr>Black Trees</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._positional-api%29" class="tocsubseclink" data-pltdoc="x">API</a></td></tr><tr><td><span class="tocsublinknumber">1.1.1<tt>&nbsp;</tt></span><a href="#%28part._positional-data-types%29" class="tocsubseclink" data-pltdoc="x">Data types</a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">new-<wbr></wbr>tree</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>root</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>first</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>last</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">new-<wbr></wbr>node</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">singleton-<wbr></wbr>node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nil</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._non-nil-node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">non-<wbr></wbr>nil-<wbr></wbr>node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nil-<wbr></wbr>node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>data</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._set-node-data%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>node-<wbr></wbr>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>self-<wbr></wbr>width</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._update-node-self-width%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">update-<wbr></wbr>node-<wbr></wbr>self-<wbr></wbr>width!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>subtree-<wbr></wbr>width</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-parent%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>parent</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>left</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>right</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-color%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>color</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._red~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">red?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._black~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">black?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.1.2<tt>&nbsp;</tt></span><a href="#%28part._positional-operations%29" class="tocsubseclink" data-pltdoc="x">Operations</a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>first!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>last!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>before!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>after!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>first/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>last/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>before/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>after/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._delete%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">delete!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._join%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">join!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._concat%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">concat!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._split%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">split!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._reset%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">reset!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">search</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%2Fresidual%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">search/<span class="mywbr"> &nbsp;</span>residual</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._minimum%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">minimum</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._maximum%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maximum</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">successor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">predecessor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._position%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">position</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>items</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-inorder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>fold-<wbr></wbr>inorder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-preorder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>fold-<wbr></wbr>preorder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-postorder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>fold-<wbr></wbr>postorder</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._positional-uncontracted%29" class="tocsubseclink" data-pltdoc="x">Uncontracted library</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Augmented_.Red-.Black_.Trees%29" class="tocsubseclink" data-pltdoc="x">Augmented Red-<wbr></wbr>Black Trees</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._augmented-api%29" class="tocsubseclink" data-pltdoc="x">API</a></td></tr><tr><td><span class="tocsublinknumber">2.1.1<tt>&nbsp;</tt></span><a href="#%28part._augmented-data-types%29" class="tocsubseclink" data-pltdoc="x">Data types</a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">new-<wbr></wbr>tree</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>root</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-metadata-f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>metadata-<wbr></wbr>f</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>first</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>last</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">new-<wbr></wbr>node</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">singleton-<wbr></wbr>node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nil</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._non-nil-node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">non-<wbr></wbr>nil-<wbr></wbr>node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nil-<wbr></wbr>node?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>data</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._update-node-data%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">update-<wbr></wbr>node-<wbr></wbr>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>metadata</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-parent%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>parent</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>left</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>right</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-color%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">node-<wbr></wbr>color</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._red~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">red?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._black~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">black?</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.1.2<tt>&nbsp;</tt></span><a href="#%28part._augmented-operations%29" class="tocsubseclink" data-pltdoc="x">Operations</a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>first!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>last!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>before!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>after!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>first/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>last/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>before/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%2Fdata%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">insert-<wbr></wbr>after/<span class="mywbr"> &nbsp;</span>data!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._delete%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">delete!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._join%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">join!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._concat%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">concat!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._split%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">split!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._reset%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">reset!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._minimum%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">minimum</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._maximum%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">maximum</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">successor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">predecessor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>items</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-inorder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>fold-<wbr></wbr>inorder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-preorder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>fold-<wbr></wbr>preorder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-postorder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">tree-<wbr></wbr>fold-<wbr></wbr>postorder</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._augmented-uncontracted%29" class="tocsubseclink" data-pltdoc="x">Uncontracted library</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Ordered_sets__mutable_sets_with_a_total_order%29" class="tocsubseclink" data-pltdoc="x">Ordered sets:<span class="mywbr"> &nbsp;</span> mutable sets with a total order</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._ordered-set-api%29" class="tocsubseclink" data-pltdoc="x">API</a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set/<span class="mywbr"> &nbsp;</span>c</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-order%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>order</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>empty?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-count%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>count</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>member?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>add!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-remove%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>remove!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-~3elist%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ordered-<wbr></wbr>set-<wbr></wbr>&gt;list</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._in-ordered-set%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">in-<wbr></wbr>ordered-<wbr></wbr>set</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Bibliography%29" class="tocsubseclink" data-pltdoc="x">Bibliography</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._doc-bibliography%29" class="tocsubseclink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h2 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;top&quot;"><a name="(part._top)"></a><a name="(part._data-red-black__augmented_red_black_tree_structures)"></a>data-red-black: augmented red black tree structures</h2><p><div class="SIntrapara">The <span class="stt">data/red-black</span> library consists of several
red-black tree data structures.  Its contents include two red-black
tree implementations:
</div><div class="SIntrapara"><ul><li><p><a href="#%28mod-path._data%2Fred-black%2Fpositional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">data/red-black/positional</span></a>: meant to support position-based queries</p></li><li><p><a href="#%28mod-path._data%2Fred-black%2Faugmented%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">data/red-black/augmented</span></a>: meant to support flexible node extensions</p></li></ul></div></p><p>as well as an application of augmented red-black trees to support an ordered set collection in <a href="#%28mod-path._data%2Fred-black%2Fordered-set%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">data/red-black/ordered-set</span></a>.</p><h3 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;Positional_Red-Black_Trees&quot;">1<tt>&nbsp;</tt><a name="(part._.Positional_.Red-.Black_.Trees)"></a><a name="(mod-path._data/red-black/positional)"></a>Positional Red-Black Trees</h3><p>Danny Yoo &lt;<a href="mailto:dyoo@hashcollision.org">dyoo@hashcollision.org</a>&gt;</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._data%2Fred-black%2Fpositional%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">data/red-black/positional</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/data-red-black" title="Install this package using `raco pkg install data-red-black`"><span class="stt">data-red-black</span></a></span></td></tr></table></p><p>This is an implementation of an augmented red-black tree with extra information
to support position-based queries.</p><p>The intended usage case of this structure is to maintain an ordered sequence of
items, where each item has an internal length.  Given such a sequence, we want
to support quick lookup by position and in-place insertions and deletions.
We also want to support the catenation and splitting of sequences.</p><p>For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"This"</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktVal">"is"</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktVal">"test"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"This"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"test"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">at-test-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-before/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">at-test-node</span><span class="hspace">&nbsp;</span><span class="RktVal">"small"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("This" 4) (" " 1) ("is" 2) (" " 1) ("a" 1) (" " 1) ("small" 5) ("test" 4))</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Split at the node holding "small":</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">at-small-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">left-side</span><span class="hspace">&nbsp;</span><span class="RktSym">right-side</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._split%21%29%29" class="RktValLink" data-pltdoc="x">split!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">at-small-node</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left-side</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("This" 4) (" " 1) ("is" 2) (" " 1) ("a" 1) (" " 1))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">right-side</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("test" 4))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">joined-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._join%21%29%29" class="RktValLink" data-pltdoc="x">join!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left-side</span><span class="hspace">&nbsp;</span><span class="RktSym">right-side</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">joined-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("This" 4) (" " 1) ("is" 2) (" " 1) ("a" 1) (" " 1) ("test" 4))</span></p></td></tr></table></blockquote><p>This implementation follows the basic outline for order-statistic red-black
trees described in [<a href="#%28cite._clrs2009%29" data-pltdoc="x">clrs2009</a>] and incorporates a few extensions suggsted
in [<a href="#%28cite._wein2005%29" data-pltdoc="x">wein2005</a>].  As a red-black tree, the structure ensures that the tree&rsquo;s
height is never greater than <span style="font-style: italic"></span>2<span style="font-style: italic">*lg</span>(<span style="font-style: italic">#-of-nodes + </span>1<span style="font-style: italic"></span>)<span style="font-style: italic"></span>, guaranteeing good
worst-case behavior for its operations.</p><p>The main types of values used in the library are <span style="font-style: italic">trees</span> and <span style="font-style: italic">nodes</span>.
A tree has a <span style="font-style: italic">root</span> node, and each node has holds arbitrary <span style="font-style: italic">data</span>
and a natural <span style="font-style: italic">self-width</span>, along with a reference to the elements smaller
(<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span>) and larger (<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span>).  Each node also
remembers the entire width of its subtree, which can be accessed with
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span>.  The tree holds first and last pointers into the
structure to allow for fast access to the beginning and end of the sequence.  A
distinguished <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node lies at the leaves of the tree.</p><h4 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;positional-api&quot;">1.1<tt>&nbsp;</tt><a name="(part._positional-api)"></a>API</h4><h5 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;positional-data-types&quot;">1.1.1<tt>&nbsp;</tt><a name="(part._positional-data-types)"></a>Data types</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._new-tree))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValDef RktValLink" data-pltdoc="x">new-tree</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new tree.  The tree&rsquo;s root is initially <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">a-tree</span></td></tr><tr><td><p><span class="RktRes">#&lt;tree&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"not a tree"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">not</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">tree</span><span class="hspace">&nbsp;</span><span class="RktVal">either</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-root))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-root</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the root node of the tree <span class="RktVar">t</span>.
If the tree is empty, returns the distinguished <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"first node!"</span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-first))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-first</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the first node in the tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"first node!"</span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"last node!"</span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-last))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-last</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the last node in the tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"first node!"</span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"last node!"</span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._new-node))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValDef RktValLink" data-pltdoc="x">new-node</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span><span class="RktVar">width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new singleton node.  This node can be inserted into a tree with
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span>, or
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"node"</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;node&gt;</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"node"</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Trees are not nodes: they _have_ nodes.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._singleton-node~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">singleton-node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a <span style="font-style: italic">singleton node</span>.  A singleton node
is unattached to any tree, and is not the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"node"</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Create a fresh node:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"about to attach"</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">After attachment, it is no longer singleton:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Operations such as delete! or split! will break</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">off nodes as singletons again:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._delete%21%29%29" class="RktValLink" data-pltdoc="x">delete!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._data/red-black/positional..rkt)._nil))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValDef RktValLink" data-pltdoc="x">nil</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The distinguished <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node.  By definition, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> is colored
black, and its <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-parent%29%29" class="RktValLink" data-pltdoc="x">node-parent</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span>, and
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span> are pointed to itself.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._non-nil-node~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._non-nil-node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">non-nil-node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a non-nil node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"I am not a number"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._nil-node~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">nil-node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is the nil node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"I am not a number"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-data))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-data</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the data associated to node <span class="RktVar">n</span>.  Note that the
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValLink" data-pltdoc="x">node-self-width</a></span> are entirely independent.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"utah"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._set-node-data!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._set-node-data%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">set-node-data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Assigns the data associated to node <span class="RktVar">n</span>.  Note that the
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValLink" data-pltdoc="x">node-self-width</a></span> are entirely independent.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._set-node-data%21%29%29" class="RktValLink" data-pltdoc="x">set-node-data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktVal">"rhode island"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"rhode island"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-self-width))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-self-width</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the self-width associated to node <span class="RktVar">n</span>.  Note that the
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValLink" data-pltdoc="x">node-self-width</a></span> are entirely independent.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValLink" data-pltdoc="x">node-self-width</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">4</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._update-node-self-width!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._update-node-self-width%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">update-node-self-width!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">w</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">w</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Updates the self-width associated to node <span class="RktVar">n</span>.  When attached to a tree,
also propagates the width&rsquo;s change to the widths of subtrees, upward through
its parents to the root.  Note that the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span> and
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValLink" data-pltdoc="x">node-self-width</a></span> are entirely independent.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"hello"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"world"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The tree as a whole has width 6:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Updates will propagate to the root:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._update-node-self-width%21%29%29" class="RktValLink" data-pltdoc="x">update-node-self-width!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-self-width%29%29" class="RktValLink" data-pltdoc="x">node-self-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">10</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-subtree-width))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-subtree-width</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the width of the entire subtree at node <span class="RktVar">n</span>.  This sums the
width of the left and right child subtrees, as well as its self-width.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"berkeley"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"stanford"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"wpi"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"brown"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The entire tree should sum to five, since each element contributes one.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-parent))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-parent%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-parent</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the parent of the node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"bill and ted's excellent adventure"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the matrix"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"speed"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-parent%29%29" class="RktValLink" data-pltdoc="x">node-parent</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"the matrix"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-left))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-left</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the left child of the node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"bill and ted's excellent adventure"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the matrix"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"speed"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"bill and ted's excellent adventure"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-right))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-right</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the right child of the node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"bill and ted's excellent adventure"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the matrix"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"speed"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"speed"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._node-color))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-color%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-color</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">red</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">black</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the color of the node <span class="RktVar">n</span>.  The red-black tree structure uses
this value to maintain balance.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the color purple"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"pretty in pink"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the thin red line"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"clockwork orange"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"fried green tomatoes"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-color%29%29" class="RktValLink" data-pltdoc="x">node-color</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'black</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-inorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-inorder</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktSym">acc</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-color%29%29" class="RktValLink" data-pltdoc="x">node-color</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">acc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(("fried green tomatoes" red)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("clockwork orange" black)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("the thin red line" red)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("pretty in pink" black)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("the color purple" black))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._red~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._red~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">red?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if node <span class="RktVar">n</span> is red.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the hobbit"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the fellowship of the ring"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._red~3f%29%29" class="RktValLink" data-pltdoc="x">red?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._red~3f%29%29" class="RktValLink" data-pltdoc="x">red?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._black~3f))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._black~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">black?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if node <span class="RktVar">n</span> is black.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the fellowship of the ring"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the two towers"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"return of the king"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The root is always black.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The tree should have towers as the root, with</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">the fellowship and king as left and right respectively.</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("the two towers" "the fellowship of the ring" "return of the king")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;positional-operations&quot;">1.1.2<tt>&nbsp;</tt><a name="(part._positional-operations)"></a>Operations</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-first!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-first!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n</span> as the first element in tree <span class="RktVar">t</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"pear"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"persimmon"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-first!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:81.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-last!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-last!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n</span> as the last element in tree <span class="RktVar">t</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"orange"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-last!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:82.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-before!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-before!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span><span class="RktVar">n2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n2</span> before node <span class="RktVar">n1</span> in tree <span class="RktVar">t</span>.  This effectively
makes <span class="RktVar">n2</span> the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span> of <span class="RktVar">n1</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"banana"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"mango"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"peach"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-before!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 3rd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? non-nil-node? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:83.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-after!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-after!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span><span class="RktVar">n2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n2</span> after node <span class="RktVar">n1</span> in tree <span class="RktVar">t</span>.  This effectively
makes <span class="RktVar">n2</span> the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span> of <span class="RktVar">n1</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cherry"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"pawpaw"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"grapefruit"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-after!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 3rd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? non-nil-node? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:84.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-first/data!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-first/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span><span class="RktVar">width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-last/data!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-last/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span><span class="RktVar">width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-before/data!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-before/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span><span class="RktVar">width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._insert-after/data!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-after/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span><span class="RktVar">width</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">width</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">For user convenience, the functions <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span>,
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-before/data!</a></span>, and
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-after/data!</a></span> have been provided.  These create nodes and insert
into the tree structure the same way as <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span>,
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span>, and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"message in a bottle"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"don't stand so close to me"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-before%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-before/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"everything she does is magic"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-after%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-after/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"king of pain"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(("everything she does is magic" 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("message in a bottle" 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("don't stand so close to me" 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("king of pain" 1))</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._delete!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._delete%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">delete!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Deletes node <span class="RktVar">n</span> from the tree <span class="RktVar">t</span>.  After deletion, <span class="RktVar">n</span>
will become a singleton node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"George, George, George of the Jungle,"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"strong as he can be..."</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"aaaaaaaaaaah!"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n4</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"watch out for that..."</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n5</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"&lt;thump!&gt;"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n6</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"treeeeeeeeee!, "</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n1</span><span class="hspace">&nbsp;</span><span class="RktSym">n2</span><span class="hspace">&nbsp;</span><span class="RktSym">n3</span><span class="hspace">&nbsp;</span><span class="RktSym">n4</span><span class="hspace">&nbsp;</span><span class="RktSym">n5</span><span class="hspace">&nbsp;</span><span class="RktSym">n6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._delete%21%29%29" class="RktValLink" data-pltdoc="x">delete!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">n5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(("George, George, George of the Jungle," 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("strong as he can be..." 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("aaaaaaaaaaah!" 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("watch out for that..." 1)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("treeeeeeeeee!, " 1))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that <span class="RktVar">n</span> must be attached to tree <span class="RktVar">t</span> or else will raise
a contract error:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t1</span><span class="hspace">&nbsp;</span><span class="RktVal">"tricky"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"tricky"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">This should raise an error:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._delete%21%29%29" class="RktValLink" data-pltdoc="x">delete!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">delete!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: attached-in-tree/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the n argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t tree?) (n (t) (attached-in-tree/c t)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result any/c))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:90.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._join!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._join%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">join!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Destructively joins trees <span class="RktVar">t1</span> and <span class="RktVar">t2</span>, returning a tree that
has the contents of both.  Every element in <span class="RktVar">t1</span> is treated less than
the elements in <span class="RktVar">t2</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">goku</span><span class="hspace">&nbsp;</span><span class="RktVal">gohan</span><span class="hspace">&nbsp;</span><span class="RktVal">krillin</span><span class="hspace">&nbsp;</span><span class="RktVal">piccolo</span><span class="hspace">&nbsp;</span><span class="RktVal">vegeta</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Tier two characters:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">yamcha</span><span class="hspace">&nbsp;</span><span class="RktVal">tien</span><span class="hspace">&nbsp;</span><span class="RktVal">chiaotzu</span><span class="hspace">&nbsp;</span><span class="RktVal">bulma</span><span class="hspace">&nbsp;</span><span class="RktVal">chi-chi</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">roshi</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree-of-mighty-z-warriors</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._join%21%29%29" class="RktValLink" data-pltdoc="x">join!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree-of-mighty-z-warriors</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(goku gohan krillin piccolo vegeta yamcha tien chiaotzu bulma chi-chi roshi)</span></p></td></tr></table></blockquote><p><div class="SIntrapara">Note that <span class="RktVar">t1</span> should not be <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> to <span class="RktVar">t2</span> or else will raise
a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._join%21%29%29" class="RktValLink" data-pltdoc="x">join!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">join!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: (and/c tree? not-eq?/c)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;tree&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the t2 argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t1 tree?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(t2 (t1) (and/c tree? (not-eq?/c t1))))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result tree?))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:93.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._concat!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._concat%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">concat!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Destructively joins tree <span class="RktVar">t1</span>, singleton node <span class="RktVar">n</span>, and tree
<span class="RktVar">t2</span>, returning a tree that has the contents of both.  Every element in
<span class="RktVar">t1</span> is treated less than <span class="RktSym">x</span>, and <span class="RktSym">x</span> is treated smaller than all
the elements in <span class="RktVar">t2</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVal">"inigo"</span><span class="hspace">&nbsp;</span><span class="RktVal">50</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"vizzini"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktVal">"fezzik"</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">poor-lost-circus-performers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._concat%21%29%29" class="RktValLink" data-pltdoc="x">concat!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">poor-lost-circus-performers</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("inigo" 50) ("vizzini" 1) ("fezzik" 100))</span></p></td></tr></table></blockquote><p><div class="SIntrapara">Note that <span class="RktVar">t1</span> should not be <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> to <span class="RktVar">t2</span> or else will raise
a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a-node"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._concat%21%29%29" class="RktValLink" data-pltdoc="x">concat!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">concat!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: (and/c tree? not-eq?/c)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;tree&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the t2 argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t1 tree?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(n singleton-node?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(t2 (t1) (and/c tree? (not-eq?/c t1))))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result any/c))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:95.18</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._split!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._split%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">split!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Destructively splits tree <span class="RktVar">t</span> into two trees, the first containing the
elements smaller than node <span class="RktVar">n</span>, and the second containing those larger.
Afterwards, <span class="RktVar">n</span> becomes a singleton node.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">melchior</span><span class="hspace">&nbsp;</span><span class="RktVal">caspar</span><span class="hspace">&nbsp;</span><span class="RktVal">bob</span><span class="hspace">&nbsp;</span><span class="RktVal">balthazar</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._split%21%29%29" class="RktValLink" data-pltdoc="x">split!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">We tree kings of orient are:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((melchior 1) (caspar 1) (balthazar 1))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara">Note that <span class="RktVar">n</span> must be attached to tree <span class="RktVar">t</span> or else raise
a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">melchior</span><span class="hspace">&nbsp;</span><span class="RktVal">caspar</span><span class="hspace">&nbsp;</span><span class="RktVal">bob</span><span class="hspace">&nbsp;</span><span class="RktVal">balthazar</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">This should raise an error:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"bob"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._split%21%29%29" class="RktValLink" data-pltdoc="x">split!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">split!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: attached-in-tree/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the n argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t tree?) (n (t) (attached-in-tree/c t)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(values (t1 tree?) (t2 tree?)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/positional.rkt:98.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._reset!))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._reset%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">reset!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Resets the contents of the tree to the empty state.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"house"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"cleaning"</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("house" 5) ("cleaning" 8))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._reset%21%29%29" class="RktValLink" data-pltdoc="x">reset!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._search))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValDef RktValLink" data-pltdoc="x">search</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Searches for the node at or within the given position <span class="RktVar">p</span> of the tree.
If the position is out of bounds, returns <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"alpha"</span><span class="hspace">&nbsp;</span><span class="RktVal">"beta"</span><span class="hspace">&nbsp;</span><span class="RktVal">"gamma"</span><span class="hspace">&nbsp;</span><span class="RktVal">"delta"</span><span class="hspace">&nbsp;</span><span class="RktVal">"epsilon"</span><span class="hspace">&nbsp;</span><span class="RktVal">"zeta"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"alpha"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"beta"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"beta"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"beta"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"beta"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"gamma"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p>Note: nodes with a self-width of zero are effectively invisible to
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span>, and will be skipped over.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._search/residual))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%2Fresidual%29%29" class="RktValDef RktValLink" data-pltdoc="x">search/residual</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">natural-number/c</span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Searches for the node at or within the given position <span class="RktVar">p</span> of the tree.
This is an extension of <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span> that returns a second value: the offset
into the element where the search has terminated.  If the position is out of
bounds of any element, the first component of the returned value is
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"alpha"</span><span class="hspace">&nbsp;</span><span class="RktVal">"beta"</span><span class="hspace">&nbsp;</span><span class="RktVal">"gamma"</span><span class="hspace">&nbsp;</span><span class="RktVal">"delta"</span><span class="hspace">&nbsp;</span><span class="RktVal">"epsilon"</span><span class="hspace">&nbsp;</span><span class="RktVal">"zeta"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%2Fresidual%29%29" class="RktValLink" data-pltdoc="x">search/residual</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">#&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktRes">0</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%2Fresidual%29%29" class="RktValLink" data-pltdoc="x">search/residual</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">#&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%2Fresidual%29%29" class="RktValLink" data-pltdoc="x">search/residual</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">#&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">residual</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%2Fresidual%29%29" class="RktValLink" data-pltdoc="x">search/residual</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">residual</span></td></tr><tr><td><p><span class="RktRes">70</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">residual</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-subtree-width%29%29" class="RktValLink" data-pltdoc="x">node-subtree-width</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">100</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._minimum))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._minimum%29%29" class="RktValDef RktValLink" data-pltdoc="x">minimum</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span>, returns the minimum element of the subtree rooted at
<span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"ftl"</span><span class="hspace">&nbsp;</span><span class="RktVal">"xcom"</span><span class="hspace">&nbsp;</span><span class="RktVal">"civ"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._minimum%29%29" class="RktValLink" data-pltdoc="x">minimum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"civ"</span></p></td></tr></table></blockquote></div><div class="SIntrapara">Note: to get the minimum of the whole tree, it&rsquo;s faster to use
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._maximum))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._maximum%29%29" class="RktValDef RktValLink" data-pltdoc="x">maximum</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span>, returns the maximum element of the subtree rooted at
<span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"ftl"</span><span class="hspace">&nbsp;</span><span class="RktVal">"xcom"</span><span class="hspace">&nbsp;</span><span class="RktVal">"civ"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._maximum%29%29" class="RktValLink" data-pltdoc="x">maximum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"ftl"</span></p></td></tr></table></blockquote></div><div class="SIntrapara">Note: to get the maximum of the whole tree, it&rsquo;s faster to use
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._successor))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValDef RktValLink" data-pltdoc="x">successor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span> contained in some tree, returns the immediate
successor of <span class="RktVar">n</span> in an inorder traversal of that tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"sectoid"</span><span class="hspace">&nbsp;</span><span class="RktVal">"floater"</span><span class="hspace">&nbsp;</span><span class="RktVal">"thin man"</span><span class="hspace">&nbsp;</span><span class="RktVal">"chryssalid"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"muton"</span><span class="hspace">&nbsp;</span><span class="RktVal">"cyberdisk"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-alien</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-alien</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"floater"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-alien</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"thin man"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._predecessor))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValDef RktValLink" data-pltdoc="x">predecessor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span> contained in some tree, returns the immediate
predecessor of <span class="RktVar">n</span> in an inorder traversal of that tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"sectoid"</span><span class="hspace">&nbsp;</span><span class="RktVal">"floater"</span><span class="hspace">&nbsp;</span><span class="RktVal">"thin man"</span><span class="hspace">&nbsp;</span><span class="RktVal">"chryssalid"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"muton"</span><span class="hspace">&nbsp;</span><span class="RktVal">"cyberdisk"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">last-alien</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">last-alien</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"muton"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">last-alien</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"chryssalid"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._position))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._position%29%29" class="RktValDef RktValLink" data-pltdoc="x">position</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span> contained in some tree, returns the immediate
position of <span class="RktVar">n</span> in that tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">story-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fstring..rkt%2529._string-split%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-split</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"if you give a mouse a cookie"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">story-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-pos</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._position%29%29" class="RktValLink" data-pltdoc="x">position</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">story-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">a-pos</span></td></tr><tr><td><p><span class="RktRes">16</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._search%29%29" class="RktValLink" data-pltdoc="x">search</a></span><span class="hspace">&nbsp;</span><span class="RktSym">story-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-pos</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"cookie"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-items))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-items</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a tree, returns a list of its data and width pairs.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"rock"</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"paper"</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"scissors"</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(("rock" 4) ("paper" 5) ("scissors" 8))</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-fold-inorder))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-inorder%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-fold-inorder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">acc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-fold-preorder))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-preorder%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-fold-preorder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">acc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/positional..rkt)._tree-fold-postorder))"></a><span title="Provided from: data/red-black/positional | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-postorder%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-fold-postorder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">acc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Iterates a function <span class="RktVar">f</span> across the nodes of the tree, in inorder, preorder,
and postorder respectively.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"three"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"blind"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"mice"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">"blind" should be the root, with</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">"three" and "mice" as left and right.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-inorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-inorder</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("three" "blind" "mice")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-preorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-preorder</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("blind" "three" "mice")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fpositional..rkt%29._tree-fold-postorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-postorder</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("three" "mice" "blind")</span></p></td></tr></table></blockquote><h4 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;positional-uncontracted&quot;">1.2<tt>&nbsp;</tt><a name="(part._positional-uncontracted)"></a>Uncontracted library</h4><p>This library uses contracts extensively to prevent the user from messing up;
however, the contract checking may be prohibitively
expensive for certain applications.</p><p>The uncontracted bindings of this library can be accessed through:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._submod%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">submod</a></span><span class="hspace">&nbsp;</span><span class="RktSym">data/red-black/positional</span><span class="hspace">&nbsp;</span><span class="RktSym">uncontracted</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>This provides the same bindings as the regular API, but with no contract
checks.  Use this with extreme care: Improper use of the uncontracted form of
this library may lead to breaking the red-black invariants, or (even worse)
introducing cycles in the structure.  If you don&rsquo;t know whether you should be
using the uncontracted forms or not, you probably should not.</p><h3 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;Augmented_Red-Black_Trees&quot;">2<tt>&nbsp;</tt><a name="(part._.Augmented_.Red-.Black_.Trees)"></a><a name="(mod-path._data/red-black/augmented)"></a>Augmented Red-Black Trees</h3><p>Danny Yoo &lt;<a href="mailto:dyoo@hashcollision.org">dyoo@hashcollision.org</a>&gt;</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._data%2Fred-black%2Faugmented%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">data/red-black/augmented</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/data-red-black" title="Install this package using `raco pkg install data-red-black`"><span class="stt">data-red-black</span></a></span></td></tr></table></p><p>This is an implementation of an augmented red-black tree that extends the nodes
of a basic red-black tree with attached metadata at every node.  The metadata
at a node should be a function of the data of the current node and the left and
right children.</p><p>One intended usage case of this structure is to maintain an ordered sequence of
items, where each item has an internal length.  Given such a sequence, we want
to support quick lookup by position and in-place insertions and deletions.  We
also want to support the catenation and splitting of sequences.</p><p>For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Here, the metadata represents the length of the contents</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">of the entire subtree:</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">size-of-data</span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">new-catenated-string-tree</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:metadata-f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">data</span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">size-of-data</span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">new-catenated-string-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"This"</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktVal">"is"</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktVal">"test"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Assuming the metadata is correct at every node, we can search</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">for a node by its "position" by using the metadata:</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">offset</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">offset</span><span class="hspace">&nbsp;</span><span class="RktSym">offset</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left-subtree-width</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">offset</span><span class="hspace">&nbsp;</span><span class="RktSym">left-subtree-width</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktSym">offset</span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">residual-offset</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">offset</span><span class="hspace">&nbsp;</span><span class="RktSym">left-subtree-width</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">len</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">size-of-data</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">residual-offset</span><span class="hspace">&nbsp;</span><span class="RktSym">len</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._else%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._-%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">residual-offset</span><span class="hspace">&nbsp;</span><span class="RktSym">len</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Now we can search:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"This"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"test"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">at-test-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">We can also insert within the tree,</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-before/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">at-test-node</span><span class="hspace">&nbsp;</span><span class="RktVal">"small"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("This" " " "is" " " "a" " " "small" "test")</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">and split at the node holding "small".</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">at-small-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">left-side</span><span class="hspace">&nbsp;</span><span class="RktSym">right-side</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._split%21%29%29" class="RktValLink" data-pltdoc="x">split!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">at-small-node</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left-side</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("This" " " "is" " " "a" " ")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">right-side</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("test")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">joined-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._join%21%29%29" class="RktValLink" data-pltdoc="x">join!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left-side</span><span class="hspace">&nbsp;</span><span class="RktSym">right-side</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">joined-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("This" " " "is" " " "a" " " "test")</span></p></td></tr></table></blockquote><p>The interpretation of the metadata is up to clients.  Another approprate
metadata may hold subtree <span style="font-style: italic">size</span> rather than string length, in which case
the tree acts as an container where items can be found through their index:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The definitions above depend on the value of</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">size-of-data.  Let's mutate it to be evil.</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">(Note: don't do this in production code.)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=set_.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._set%2521%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">size-of-data</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">And now we get a different kind of search altogether:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">new-catenated-string-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"rock"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"scissors"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-after/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"paper"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"rock"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"paper"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">search</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"scissors"</span></p></td></tr></table></blockquote><p>This augmented red-black tree implementation follows the basic outline in
[<a href="#%28cite._clrs2009%29" data-pltdoc="x">clrs2009</a>] and incorporates a few extensions suggsted in [<a href="#%28cite._wein2005%29" data-pltdoc="x">wein2005</a>].
As a red-black tree, the structure ensures that the tree&rsquo;s height is never
greater than <span style="font-style: italic"></span>2<span style="font-style: italic">*lg</span>(<span style="font-style: italic">#-of-nodes + </span>1<span style="font-style: italic"></span>)<span style="font-style: italic"></span>, guaranteeing good worst-case behavior
for its operations.</p><p>The main types of values used in the library are <span style="font-style: italic">trees</span> and <span style="font-style: italic">nodes</span>.
A tree has a <span style="font-style: italic">root</span> node (<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span>), and each node has holds
arbitrary <span style="font-style: italic">data</span> (<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span>) and <span style="font-style: italic">metadata</span>
(<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span>), along with a reference to the elements smaller
(<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span>) and larger (<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span>).  The tree holds first
and last pointers into the structure to allow for fast access to the beginning
and end of the sequence.  A distinguished <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node lies at the leaves
of the tree.</p><h4 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;augmented-api&quot;">2.1<tt>&nbsp;</tt><a name="(part._augmented-api)"></a>API</h4><h5 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;augmented-data-types&quot;">2.1.1<tt>&nbsp;</tt><a name="(part._augmented-data-types)"></a>Data types</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._new-tree))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValDef RktValLink" data-pltdoc="x">new-tree</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:metadata-f</span><span class="hspace">&nbsp;</span><span class="RktVar">metadata-f</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">metadata-f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new tree.  The tree&rsquo;s root is initially <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">a-tree</span></td></tr><tr><td><p><span class="RktRes">#&lt;tree&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p>When provided a <span class="RktPn">#:metadata-f</span>, each node in the tree will
have an associated <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span> that is computed through its
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span>.</p><p>The <span class="RktPn">#:metadata-f</span> must not mutate the tree as a side effect; contracts
currently do not enforce this requirement, but may in the future.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"not a tree"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">not</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">tree</span><span class="hspace">&nbsp;</span><span class="RktVal">either</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-root))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-root</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the root node of the tree <span class="RktVar">t</span>.
If the tree is empty, returns the distinguished <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"first node!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-metadata-f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-metadata-f%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-metadata-f</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the metadata-computing function for the tree <span class="RktVar">t</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-metadata-f%29%29" class="RktValLink" data-pltdoc="x">tree-metadata-f</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">indexed-metadata-f</span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:metadata-f</span><span class="hspace">&nbsp;</span><span class="RktSym">indexed-metadata-f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-metadata-f%29%29" class="RktValLink" data-pltdoc="x">tree-metadata-f</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-tree</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;procedure:indexed-metadata-f&gt;</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-first))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-first</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the first node in the tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"first node!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"last node!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-last))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-last</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the last node in the tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"first node!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"last node!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._new-node))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValDef RktValLink" data-pltdoc="x">new-node</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new singleton node.  This node can be inserted into a tree with
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span>, or
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span>, and spliced with <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._concat%21%29%29" class="RktValLink" data-pltdoc="x">concat!</a></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"node"</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#&lt;node&gt;</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"node"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Trees are not nodes: they _have_ nodes.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._singleton-node~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">singleton-node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a <span style="font-style: italic">singleton node</span>.  A singleton node
is unattached to any tree, and is not the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"node"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Create a fresh node:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"about to attach"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">After attachment, it is no longer singleton:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Operations such as delete! or split! will break</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">off nodes as singletons again:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._delete%21%29%29" class="RktValLink" data-pltdoc="x">delete!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._data/red-black/augmented..rkt)._nil))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValDef RktValLink" data-pltdoc="x">nil</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The distinguished <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> node.  By definition, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span> is colored
<span class="RktVal">'</span><span class="RktVal">black</span>, its <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span> is <span class="RktVal">#f</span>, and its
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-parent%29%29" class="RktValLink" data-pltdoc="x">node-parent</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span>, and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span> are pointed
to itself.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._non-nil-node~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._non-nil-node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">non-nil-node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is a non-nil node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"I am not a number"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._nil-node~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">nil-node?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is the nil node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil%29%29" class="RktValLink" data-pltdoc="x">nil</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">nil-node?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"I am not a number"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node-data))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-data</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the data associated to node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"utah"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._update-node-data!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._update-node-data%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">update-node-data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Assigns the data associated to node <span class="RktVar">n</span>.  Note that this also may update
the metadata of the tree if the tree has been constructed with a
<span class="RktPn">#:metadata-f</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._update-node-data%21%29%29" class="RktValLink" data-pltdoc="x">update-node-data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktVal">"rhode island"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"rhode island"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node-metadata))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-metadata</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the width of the entire subtree at node <span class="RktVar">n</span>.  This sums the
width of the left and right child subtrees, as well as its self-width.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">size-metadata</span><span class="hspace">&nbsp;</span><span class="RktSym">str</span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._or%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:metadata-f</span><span class="hspace">&nbsp;</span><span class="RktSym">size-metadata</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"berkeley"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"stanford"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"wpi"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"brown"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"utah"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The entire tree should have a metadata of five, the size of the tree.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-metadata%29%29" class="RktValLink" data-pltdoc="x">node-metadata</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node-parent))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-parent%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-parent</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the parent of the node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"bill and ted's excellent adventure"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the matrix"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"speed"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-parent%29%29" class="RktValLink" data-pltdoc="x">node-parent</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"the matrix"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node-left))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-left</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the left child of the node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"bill and ted's excellent adventure"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the matrix"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"speed"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"bill and ted's excellent adventure"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node-right))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-right</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the right child of the node <span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"bill and ted's excellent adventure"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the matrix"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"speed"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"speed"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._node-color))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-color%29%29" class="RktValDef RktValLink" data-pltdoc="x">node-color</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">red</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">black</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the color of the node <span class="RktVar">n</span>.  The red-black tree structure uses
this value internally to maintain binary tree balance; most users will not need
to inspect this value.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the color purple"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"pretty in pink"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the thin red line"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"clockwork orange"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"fried green tomatoes"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-color%29%29" class="RktValLink" data-pltdoc="x">node-color</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'black</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-inorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-inorder</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=lambda.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._lambda%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktSym">acc</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-color%29%29" class="RktValLink" data-pltdoc="x">node-color</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">acc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(("fried green tomatoes" red)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("clockwork orange" black)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("the thin red line" red)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("pretty in pink" black)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">("the color purple" black))</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._red~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._red~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">red?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if node <span class="RktVar">n</span> is red.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the hobbit"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the fellowship of the ring"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._red~3f%29%29" class="RktValLink" data-pltdoc="x">red?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._red~3f%29%29" class="RktValLink" data-pltdoc="x">red?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._black~3f))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._black~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">black?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if node <span class="RktVar">n</span> is black.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the fellowship of the ring"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"the two towers"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktVal">"return of the king"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The root is always black.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The tree should have towers as the root, with</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">the fellowship and king as left and right respectively.</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fmap..rkt%2529._map%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("the two towers" "the fellowship of the ring" "return of the king")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-left%29%29" class="RktValLink" data-pltdoc="x">node-left</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._black~3f%29%29" class="RktValLink" data-pltdoc="x">black?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-right%29%29" class="RktValLink" data-pltdoc="x">node-right</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><h5 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;augmented-operations&quot;">2.1.2<tt>&nbsp;</tt><a name="(part._augmented-operations)"></a>Operations</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-first!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-first!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n</span> as the first element in tree <span class="RktVar">t</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"pear"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"persimmon"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-first!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:71.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-last!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-last!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n</span> as the last element in tree <span class="RktVar">t</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"apple"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"orange"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-last!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 2nd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:72.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-before!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-before!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span><span class="RktVar">n2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n2</span> before node <span class="RktVar">n1</span> in tree <span class="RktVar">t</span>.  This effectively
makes <span class="RktVar">n2</span> the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span> of <span class="RktVar">n1</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"banana"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"mango"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"peach"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-before!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 3rd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? non-nil-node? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:73.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-after!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-after!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span><span class="RktVar">n2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Adds node <span class="RktVar">n2</span> after node <span class="RktVar">n1</span> in tree <span class="RktVar">t</span>.  This effectively
makes <span class="RktVar">n2</span> the <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span> of <span class="RktVar">n1</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cherry"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"pawpaw"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b-node</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that attempting to add an attached, non-singleton node to a tree will
raise a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"grapefruit"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="hspace">&nbsp;</span><span class="RktSym">a-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">insert-after!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: singleton-node?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the 3rd argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt; tree? non-nil-node? singleton-node? any)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:74.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-first/data!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-first/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-last/data!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-last/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-before/data!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-before/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._insert-after/data!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%2Fdata%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">insert-after/data!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">data</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">For user convenience, the functions <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span>,
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-before/data!</a></span>, and
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-after/data!</a></span> have been provided.  These create nodes and insert
into the tree structure the same way as <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%21%29%29" class="RktValLink" data-pltdoc="x">insert-first!</a></span>,
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span>, <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%21%29%29" class="RktValLink" data-pltdoc="x">insert-before!</a></span>, and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%21%29%29" class="RktValLink" data-pltdoc="x">insert-after!</a></span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"message in a bottle"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"don't stand so close to me"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-before%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-before/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"everything she does is magic"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-after%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-after/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"king of pain"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'("everything she does is magic"</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"message in a bottle"</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"don't stand so close to me"</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"king of pain")</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._delete!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._delete%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">delete!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Deletes node <span class="RktVar">n</span> from the tree <span class="RktVar">t</span>.  After deletion, <span class="RktVar">n</span>
will become a singleton node.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"George, George, George of the Jungle,"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"strong as he can be..."</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"aaaaaaaaaaah!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n4</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"watch out for that..."</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n5</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"&lt;thump!&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n6</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"treeeeeeeeee!, "</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n1</span><span class="hspace">&nbsp;</span><span class="RktSym">n2</span><span class="hspace">&nbsp;</span><span class="RktSym">n3</span><span class="hspace">&nbsp;</span><span class="RktSym">n4</span><span class="hspace">&nbsp;</span><span class="RktSym">n5</span><span class="hspace">&nbsp;</span><span class="RktSym">n6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._delete%21%29%29" class="RktValLink" data-pltdoc="x">delete!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">n5</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'("George, George, George of the Jungle,"</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"strong as he can be..."</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"aaaaaaaaaaah!"</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"watch out for that..."</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"treeeeeeeeee!, ")</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Note that <span class="RktVar">n</span> must be attached to tree <span class="RktVar">t</span> or else will raise
a contract error:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t1</span><span class="hspace">&nbsp;</span><span class="RktVal">"tricky"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"tricky"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">This should raise an error:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._delete%21%29%29" class="RktValLink" data-pltdoc="x">delete!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">delete!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: attached-in-tree/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the n argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t tree?) (n (t) (attached-in-tree/c t)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result any/c))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:80.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._join!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._join%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">join!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Destructively joins trees <span class="RktVar">t1</span> and <span class="RktVar">t2</span>, returning a tree that
has the contents of both.  Every element in <span class="RktVar">t1</span> is treated less than
the elements in <span class="RktVar">t2</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">goku</span><span class="hspace">&nbsp;</span><span class="RktVal">gohan</span><span class="hspace">&nbsp;</span><span class="RktVal">krillin</span><span class="hspace">&nbsp;</span><span class="RktVal">piccolo</span><span class="hspace">&nbsp;</span><span class="RktVal">vegeta</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Tier two characters:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">yamcha</span><span class="hspace">&nbsp;</span><span class="RktVal">tien</span><span class="hspace">&nbsp;</span><span class="RktVal">chiaotzu</span><span class="hspace">&nbsp;</span><span class="RktVal">bulma</span><span class="hspace">&nbsp;</span><span class="RktVal">chi-chi</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">roshi</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree-of-mighty-z-warriors</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._join%21%29%29" class="RktValLink" data-pltdoc="x">join!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tree-of-mighty-z-warriors</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(goku gohan krillin piccolo vegeta yamcha tien chiaotzu bulma chi-chi roshi)</span></p></td></tr></table></blockquote><p>Note that <span class="RktVar">t1</span> and <span class="RktVar">t2</span> should share the same
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-metadata-f%29%29" class="RktValLink" data-pltdoc="x">tree-metadata-f</a></span> and neither tree should be <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> to the other.
Violations of either condition will raise a contract error.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._join%21%29%29" class="RktValLink" data-pltdoc="x">join!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">join!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: (and/c tree? not-eq?/c share-metadata-f/c)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;tree&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the t2 argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t1 tree?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(t2</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(t1)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(and/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">tree?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(not-eq?/c t1)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(share-metadata-f/c t1))))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result tree?))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:83.11</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._concat!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._concat%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">concat!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Destructively joins tree <span class="RktVar">t1</span>, singleton node <span class="RktVar">n</span>, and tree
<span class="RktVar">t2</span>, returning a tree that has the contents of both.  Every element in
<span class="RktVar">t1</span> is treated less than <span class="RktSym">x</span>, and <span class="RktSym">x</span> is treated smaller than all
the elements in <span class="RktVar">t2</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVal">"inigo"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"vizzini"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktVal">"fezzik"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">poor-lost-circus-performers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._concat%21%29%29" class="RktValLink" data-pltdoc="x">concat!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">poor-lost-circus-performers</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("inigo" "vizzini" "fezzik")</span></p></td></tr></table></blockquote><p>Note that <span class="RktVar">t1</span> and <span class="RktVar">t2</span> should share the same
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-metadata-f%29%29" class="RktValLink" data-pltdoc="x">tree-metadata-f</a></span> and neither tree should be <span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._eq%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">eq?</a></span> to the other.
Violations of either condition will raise a contract error.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f1</span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f2</span><span class="hspace">&nbsp;</span><span class="RktSym">data</span><span class="hspace">&nbsp;</span><span class="RktSym">left</span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">f1 and f2 are distinct function values: they won't compare the same.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:metadata-f</span><span class="hspace">&nbsp;</span><span class="RktSym">f1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:metadata-f</span><span class="hspace">&nbsp;</span><span class="RktSym">f2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a-node"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._concat%21%29%29" class="RktValLink" data-pltdoc="x">concat!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t1</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">t2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">concat!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: (and/c tree? not-eq?/c share-metadata-f/c)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;tree&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the t2 argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t1 tree?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(n singleton-node?)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(t2</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(t1)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(and/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">tree?</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(not-eq?/c t1)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(share-metadata-f/c t1))))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(result any/c))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:89.18</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._split!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._split%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">split!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0"><tr><td><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._non-nil-node~3f%29%29" class="RktValLink" data-pltdoc="x">non-nil-node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Destructively splits tree <span class="RktVar">t</span> into two trees, the first containing the
elements smaller than node <span class="RktVar">n</span>, and the second containing those larger.
Afterwards, <span class="RktVar">n</span> becomes a singleton node.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">melchior</span><span class="hspace">&nbsp;</span><span class="RktVal">caspar</span><span class="hspace">&nbsp;</span><span class="RktVal">bob</span><span class="hspace">&nbsp;</span><span class="RktVal">balthazar</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._define-values%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">l</span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._split%21%29%29" class="RktValLink" data-pltdoc="x">split!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">We tree kings of orient are:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._append%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">l</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(melchior caspar balthazar)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._singleton-node~3f%29%29" class="RktValLink" data-pltdoc="x">singleton-node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bob-node</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara">Note that <span class="RktVar">n</span> must be attached to tree <span class="RktVar">t</span> or else raise
a contract error.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">melchior</span><span class="hspace">&nbsp;</span><span class="RktVal">caspar</span><span class="hspace">&nbsp;</span><span class="RktVal">bob</span><span class="hspace">&nbsp;</span><span class="RktVal">balthazar</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">This should raise an error:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%21%29%29" class="RktValLink" data-pltdoc="x">insert-last!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-node%29%29" class="RktValLink" data-pltdoc="x">new-node</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"bob"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._split%21%29%29" class="RktValLink" data-pltdoc="x">split!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">split!: contract violation</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected: attached-in-tree/c</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">given: #&lt;node&gt;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: the n argument of</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(-&gt;i</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">((t tree?) (n (t) (attached-in-tree/c t)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(values (t1 tree?) (t2 tree?)))</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: </span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">blaming: top-level</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(assuming the contract is correct)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at:</span></p></td></tr><tr><td><p><span class="RktErr">&lt;pkgs&gt;/data-red-black/data/red-black/augmented.rkt:97.11</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._reset!))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._reset%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">reset!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Resets the contents of the tree to the empty state.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"house"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"cleaning"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("house" "cleaning")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._reset%21%29%29" class="RktValLink" data-pltdoc="x">reset!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._minimum))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._minimum%29%29" class="RktValDef RktValLink" data-pltdoc="x">minimum</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span>, returns the minimum element of the subtree rooted at
<span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"ftl"</span><span class="hspace">&nbsp;</span><span class="RktVal">"xcom"</span><span class="hspace">&nbsp;</span><span class="RktVal">"civ"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._minimum%29%29" class="RktValLink" data-pltdoc="x">minimum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"civ"</span></p></td></tr></table></blockquote></div><div class="SIntrapara">Note: to get the minimum of a whole tree, it&rsquo;s faster to use
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._maximum))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._maximum%29%29" class="RktValDef RktValLink" data-pltdoc="x">maximum</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span>, returns the maximum element of the subtree rooted at
<span class="RktVar">n</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">in-list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"ftl"</span><span class="hspace">&nbsp;</span><span class="RktVal">"xcom"</span><span class="hspace">&nbsp;</span><span class="RktVal">"civ"</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-first%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-first/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._maximum%29%29" class="RktValLink" data-pltdoc="x">maximum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-root%29%29" class="RktValLink" data-pltdoc="x">tree-root</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"ftl"</span></p></td></tr></table></blockquote></div><div class="SIntrapara">Note: to get the maximum of a whole tree, it&rsquo;s faster to use
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._successor))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValDef RktValLink" data-pltdoc="x">successor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span> contained in some tree, returns the immediate
successor of <span class="RktVar">n</span> in an inorder traversal of that tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"sectoid"</span><span class="hspace">&nbsp;</span><span class="RktVal">"floater"</span><span class="hspace">&nbsp;</span><span class="RktVal">"thin man"</span><span class="hspace">&nbsp;</span><span class="RktVal">"chryssalid"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"muton"</span><span class="hspace">&nbsp;</span><span class="RktVal">"cyberdisk"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-alien</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-first%29%29" class="RktValLink" data-pltdoc="x">tree-first</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-alien</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"floater"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._successor%29%29" class="RktValLink" data-pltdoc="x">successor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">first-alien</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"thin man"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._predecessor))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValDef RktValLink" data-pltdoc="x">predecessor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a node <span class="RktVar">n</span> contained in some tree, returns the immediate
predecessor of <span class="RktVar">n</span> in an inorder traversal of that tree.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"sectoid"</span><span class="hspace">&nbsp;</span><span class="RktVal">"floater"</span><span class="hspace">&nbsp;</span><span class="RktVal">"thin man"</span><span class="hspace">&nbsp;</span><span class="RktVal">"chryssalid"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"muton"</span><span class="hspace">&nbsp;</span><span class="RktVal">"cyberdisk"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">last-alien</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-last%29%29" class="RktValLink" data-pltdoc="x">tree-last</a></span><span class="hspace">&nbsp;</span><span class="RktSym">partial-alien-tree</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">last-alien</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"muton"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._predecessor%29%29" class="RktValLink" data-pltdoc="x">predecessor</a></span><span class="hspace">&nbsp;</span><span class="RktSym">last-alien</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"chryssalid"</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-items))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-items</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given a tree, returns a list of its data and width pairs.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"rock"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"paper"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"scissors"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-items%29%29" class="RktValLink" data-pltdoc="x">tree-items</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("rock" "paper" "scissors")</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-fold-inorder))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-inorder%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-fold-inorder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">acc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-fold-preorder))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-preorder%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-fold-preorder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">acc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/augmented..rkt)._tree-fold-postorder))"></a><span title="Provided from: data/red-black/augmented | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-postorder%29%29" class="RktValDef RktValLink" data-pltdoc="x">tree-fold-postorder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree~3f%29%29" class="RktValLink" data-pltdoc="x">tree?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node~3f%29%29" class="RktValLink" data-pltdoc="x">node?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">acc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Iterates a function <span class="RktVar">f</span> across the nodes of the tree, in inorder, preorder,
and postorder respectively.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._new-tree%29%29" class="RktValLink" data-pltdoc="x">new-tree</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"three"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"blind"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._insert-last%2Fdata%21%29%29" class="RktValLink" data-pltdoc="x">insert-last/data!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVal">"mice"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">"blind" should be the root, with</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">"three" and "mice" as left and right.</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cons%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._node-data%29%29" class="RktValLink" data-pltdoc="x">node-data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">acc</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-inorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-inorder</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("three" "blind" "mice")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-preorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-preorder</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("blind" "three" "mice")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Flist..rkt%2529._reverse%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">reverse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Faugmented..rkt%29._tree-fold-postorder%29%29" class="RktValLink" data-pltdoc="x">tree-fold-postorder</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("three" "mice" "blind")</span></p></td></tr></table></blockquote><h4 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;augmented-uncontracted&quot;">2.2<tt>&nbsp;</tt><a name="(part._augmented-uncontracted)"></a>Uncontracted library</h4><p>This library uses contracts extensively to prevent the user from messing up;
however, the contract checking may be prohibitively
expensive for certain applications.</p><p>The uncontracted bindings of this library can be accessed through:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._submod%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">submod</a></span><span class="hspace">&nbsp;</span><span class="RktSym">data/red-black/augmented</span><span class="hspace">&nbsp;</span><span class="RktSym">uncontracted</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>This provides the same bindings as the regular API, but with no contract
checks.  Use this with extreme care: Improper use of the uncontracted form of
this library may lead to breaking the red-black invariants, or (even worse)
introducing cycles in the structure.  If you don&rsquo;t know whether you should be
using the uncontracted forms or not, you probably should not.</p><h3 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;Ordered_sets__mutable_sets_with_a_total_order&quot;">3<tt>&nbsp;</tt><a name="(part._.Ordered_sets__mutable_sets_with_a_total_order)"></a><a name="(mod-path._data/red-black/ordered-set)"></a>Ordered sets: mutable sets with a total order</h3><p>Danny Yoo &lt;<a href="mailto:dyoo@hashcollision.org">dyoo@hashcollision.org</a>&gt;</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._data%2Fred-black%2Fordered-set%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">data/red-black/ordered-set</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/data-red-black" title="Install this package using `raco pkg install data-red-black`"><span class="stt">data-red-black</span></a></span></td></tr></table></p><p>This module provides a mutable, set-like container of totally-ordered elements.</p><p>As a quick example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">data/red-black/ordered-set</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fstring..rkt%2529._string-split%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-split</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-append%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"this is a test of the emergency broadcast"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">" system this is only a test"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Let's query for membership:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktVal">"broadcast"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktVal">"radio"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The ordered set acts as a sequence:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("a" "broadcast" "emergency" "is" "of" "only" "system" "test" "the" "this")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-remove%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-remove!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktVal">"broadcast"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktVal">"broadcast"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote><p>For convenience, these ordered sets use the notion of the total-order defined
by the <span class="RktSym">datum-order</span> function in <a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=data&amp;rel=Orders_and_Ordered_Dictionaries.html&amp;version=7.4" class="RktModLink Sq" data-pltdoc="x"><span class="RktSym">data/order</span></a>.  The
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span> constructor can take an optional <span class="RktPn">#:order</span>
comparision function to customize how its elements compare.</p><p>But be careful about defining your own ordering function.  The following
example shows where it might go wrong:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">order-strings-by-length: string string -&gt; (or/c '&lt; '= '&gt;)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">order-strings-by-length</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ys</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string-length%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktSym">ys</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&lt;</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktSym">ys</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">=</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"> (probably buggy.  See below...)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktSym">ys</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&gt;</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-set</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:order</span><span class="hspace">&nbsp;</span><span class="RktSym">order-strings-by-length</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">word</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fstring..rkt%2529._string-split%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">string-split</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"we few we happy few we band of brothers"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-set</span><span class="hspace">&nbsp;</span><span class="RktSym">word</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Note that we know that "of" will be missing from the list!</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">That's because the comparison function makes "of" and "we"</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">look the same:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-~3elist%29%29" class="RktValLink" data-pltdoc="x">ordered-set-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-set</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("we" "few" "band" "happy" "brothers")</span></p></td></tr></table></blockquote><p>The ordered set trusts the order provided by <span class="RktPn">#:order</span> for all
comparisons, including equality.  In the example above, <span class="RktVal">"of"</span> and
<span class="RktVal">"we"</span> compare the same, and <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span>  ignores
operations that insert a value that already exists in the set.</p><p>On the implementation side: an ordered set hold onto its elements with a
red-black tree, so that most operations work in time logarithmic to the set&rsquo;s
<span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-count%29%29" class="RktValLink" data-pltdoc="x">ordered-set-count</a></span>.</p><h4 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;ordered-set-api&quot;">3.1<tt>&nbsp;</tt><a name="(part._ordered-set-api)"></a>API</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktPn">#:order</span><span class="hspace">&nbsp;</span><span class="RktVar">order</span>]<span class="hspace">&nbsp;</span><span class="RktVar">initial-elt</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">order</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&lt;</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">=</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&gt;</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">datum-order</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">initial-elt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new ordered set.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">my-set</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">my-set</span></td></tr><tr><td><p><span class="RktRes">#&lt;ordered-set&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">my-set</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'()</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Creating an ordered set with initial elements:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another-set</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">another-set</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 3 4 5 9)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">By default, this uses <span class="RktSym">datum-order</span>
to compare its elements; this default can be overridden by providing
an <span class="RktPn">#:order</span> that can compare two elements:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Overriding #:order for descending sort:</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cmp</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._cond%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3c%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&gt;</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">=</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3e%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&lt;</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">yet-another-set</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:order</span><span class="hspace">&nbsp;</span><span class="RktSym">cmp</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">yet-another-set</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(9 5 4 3 1)</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set~3f))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns true if <span class="RktVar">x</span> is an ordered set.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">The built in sets in Racket's racket/set library</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">are not ordered sets:</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set/c))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">flat-contract?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A flat contract for ordered sets.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-order))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-order%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-order</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&lt;</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">=</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&gt;</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the total-ordering function used by ordered set <span class="RktVar">a-set</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-order%29%29" class="RktValLink" data-pltdoc="x">ordered-set-order</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'&lt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'=</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-empty~3f))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-empty~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-empty?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns true if the ordered set <span class="RktVar">a-set</span> is empty.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-empty~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-empty?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-empty~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-empty?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">nonempty</span><span class="hspace">&nbsp;</span><span class="RktVal">"set!"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-count))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-count%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-count</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">natural-number/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the number of elements in the ordered set <span class="RktVar">a-set</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-count%29%29" class="RktValLink" data-pltdoc="x">ordered-set-count</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"duck"</span><span class="hspace">&nbsp;</span><span class="RktVal">"duck"</span><span class="hspace">&nbsp;</span><span class="RktVal">"goose"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-member~3f))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-member?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns true if <span class="RktVar">x</span> is an element in ordered set <span class="RktVar">a-set</span>.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">keywords</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"lambda"</span><span class="hspace">&nbsp;</span><span class="RktVal">"case"</span><span class="hspace">&nbsp;</span><span class="RktVal">"cond"</span><span class="hspace">&nbsp;</span><span class="RktVal">"define"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">keywords</span><span class="hspace">&nbsp;</span><span class="RktVal">"guitar"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">keywords</span><span class="hspace">&nbsp;</span><span class="RktVal">"lambda"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-add!))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-add!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Adds <span class="RktVar">x</span> into ordered set <span class="RktVar">a-set</span>.  If <span class="RktVar">x</span> is already
an element, this has no effect.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"prolog"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"java"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"ocaml"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("java" "ocaml" "prolog" "racket")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Be aware that this operation depends on the correctness of the total-ordering
function of <span class="RktVar">a-set</span>.  If the order doesn&rsquo;t distinguish between
unequal elements, unexpected results may follow:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bad-cmp</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">=</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-weird-set</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:order</span><span class="hspace">&nbsp;</span><span class="RktSym">bad-cmp</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-weird-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"racket"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-weird-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"prolog"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-weird-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"java"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-weird-set</span><span class="hspace">&nbsp;</span><span class="RktVal">"ocaml"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktSym">a-weird-set</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("racket")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-remove!))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-remove%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-remove!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Removes <span class="RktVar">x</span> from ordered set <span class="RktVar">a-set</span>.  If <span class="RktVar">x</span> is not
an element of <span class="RktVar">a-set</span>, this has no effect.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">leagues</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"gold"</span><span class="hspace">&nbsp;</span><span class="RktVal">"silver"</span><span class="hspace">&nbsp;</span><span class="RktVal">"bronze"</span><span class="hspace">&nbsp;</span><span class="RktVal">"tin"</span><span class="hspace">&nbsp;</span><span class="RktVal">"wood"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">leagues</span><span class="hspace">&nbsp;</span><span class="RktVal">"tin"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-remove%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-remove!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">leagues</span><span class="hspace">&nbsp;</span><span class="RktVal">"tin"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-member~3f%29%29" class="RktValLink" data-pltdoc="x">ordered-set-member?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">leagues</span><span class="hspace">&nbsp;</span><span class="RktVal">"tin"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p><p>Just as with <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-add%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-add!</a></span>,  <span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-remove%21%29%29" class="RktValLink" data-pltdoc="x">ordered-set-remove!</a></span>&rsquo;s
behavior depends on the correctness of the set&rsquo;s total ordering function.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._ordered-set-~3elist))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-~3elist%29%29" class="RktValDef RktValLink" data-pltdoc="x">ordered-set-&gt;list</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the elements of ordered set <span class="RktVar">a-set</span> as a list, where
the elements are sorted according to <span class="RktVar">a-set</span>&rsquo;s total-order.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cloud-types</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"cumulus"</span><span class="hspace">&nbsp;</span><span class="RktVal">"stratus"</span><span class="hspace">&nbsp;</span><span class="RktVal">"cirrus"</span><span class="hspace">&nbsp;</span><span class="RktVal">"nimbus"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set-~3elist%29%29" class="RktValLink" data-pltdoc="x">ordered-set-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cloud-types</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("cirrus" "cumulus" "nimbus" "stratus")</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._data/red-black/ordered-set..rkt)._in-ordered-set))"></a><span title="Provided from: data/red-black/ordered-set | Package: data-red-black"><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._in-ordered-set%29%29" class="RktValDef RktValLink" data-pltdoc="x">in-ordered-set</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">a-set</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._sequence%7E3f%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">sequence?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%2Fc%29%29" class="RktValLink" data-pltdoc="x">ordered-set/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Explicitly constructs a sequence of the elements in ordered set <span class="RktVar">a-set</span>.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a-sequence</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._in-ordered-set%29%29" class="RktValLink" data-pltdoc="x">in-ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">a-sequence</span></td></tr><tr><td><p><span class="RktRes">#&lt;sequence&gt;</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">a-sequence</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"I see: ~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">I see: a</span></p></td></tr><tr><td><p><span class="RktOut">I see: b</span></p></td></tr></table></td></tr></table></blockquote><p><div class="SIntrapara">Note that ordered sets are already treated implicitly as sequences.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%2529%2529&amp;version=7.4" class="RktStxLink Sq" data-pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._data%2Fred-black%2Fordered-set..rkt%29._ordered-set%29%29" class="RktValLink" data-pltdoc="x">ordered-set</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/7.4/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=7.4" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"I see: ~a\n"</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut">I see: a</span></p></td></tr><tr><td><p><span class="RktOut">I see: b</span></p></td></tr></table></td></tr></table></blockquote></div></p><h3 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;Bibliography&quot;">4<tt>&nbsp;</tt><a name="(part._.Bibliography)"></a>Bibliography</h3><h4 x-source-module="(lib &quot;data/red-black/data-red-black.scrbl&quot;)" x-source-pkg="data-red-black" x-part-tag="&quot;doc-bibliography&quot;"><a name="(part._doc-bibliography)"></a>Bibliography</h4><p><table cellspacing="0" cellpadding="0" class="RBibliography"><tr><td><a name="(cite._clrs2009)"></a>[clrs2009]</td><td><span class="hspace">&nbsp;</span></td><td><span class="bibentry">Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, Clifford Stein, <span style="font-style: italic">Introduction to Algorithms, Third Edition</span>. 2009. <a href="https://mitpress.mit.edu/books/introduction-algorithms"><span class="stt">http://mitpress.mit.edu/books/introduction-algorithms</span></a></span></td></tr><tr><td><a name="(cite._wein2005)"></a>[wein2005]</td><td><span class="hspace">&nbsp;</span></td><td><span class="bibentry">Ron Wein, &ldquo;Efficient implementation of red-black trees with split and catenate operations.&rdquo; 2005. <a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.109.4875"><span class="stt">http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.109.4875</span></a></span></td></tr></table></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.4&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<span class="nonavigation">&larr; prev</span>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.4&quot;);">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>